if (self.CavalryLogger) { CavalryLogger.start_js(["G5JOQ"]); }

__d("VideoComposerDialogCaptionEditorConstants",["immutable"],(function(a,b,c,d,e,f){"use strict";a={SMALLEST_UNIT:.09,TOP:50,START_TIME_OFFSET_IN_MS:100,DURATION_TIME_IN_MS:1e3,DIALOG_WIDTH:970,MIN_HEIGHT:645,MAX_HEIGHT:645,LEFT_PANE_WIDTH:670,RIGHT_PANE_WIDTH:300,INITIAL_SPOKEN_LOCALE:"xx_XX",EMPTY_LOCALE:"",NO_LANGUAGE_SELECTED:"Select Language",AUTO_GENERATED:"AUTO_GENERATION",SPEECH_NON_SPEECH:"SPEECH_NON_SPEECH",SRT_UPLOAD:"SRT_UPLOAD",MANUAL:"MANUAL",AUTO_GENERATION:"AUTO_GENERATION",AUTO_GENERATION_CANCEL_FETCH:5e3,AUTO_GENERATION_MAX_DURATION_SUPPORTED_IN_SEC:9e3,AUTO_GENERATE_RETRY_TEXT:"Error auto-generating captions. Retrying.",AUTO_GENERATABLE_HEAD_LOCALES:b("immutable").Set(["en_US","es_LA","pt_BR"]),GENERAL_LOCALES_TO_HEAD:b("immutable").Map({en_XX:"en_US",es_XX:"es_LA",fr_XX:"fr_FR",ja_XX:"ja_JP",nl_XX:"nl_NL",pt_XX:"pt_BR",tl_XX:"tl_PH"}),HEAD_TO_GENERAL_LOCALES:b("immutable").Map({en_US:"en_XX",es_LA:"es_XX",fr_FR:"fr_XX",ja_JP:"ja_XX",nl_NL:"nl_XX",pt_BR:"pt_XX",tl_PH:"tl_XX"}),NO_PAYLOAD:"NO_PAYLOAD",GENERATION_PILL_WIDTH:368,MAX_FAKE_POLL_ITERATIONS:6e3,POLL_FAKE_FREQUENCY_GENERATE_MS:1e3,DEFAULT_PROCESSING_SPEED:2,GENERATION_RETRY_THRESHOLD:{PCT:175,TIME_S:75},BUTTON_UNIFORM:{use:{"default":{normal:{background:"transparent"},tall:{background:"transparent"}}},padding:{normal:{onlyIcon:"0px"},tall:{onlyIcon:"0px"}},height:{normal:16,tall:20}},VIDEO_DURATION_PADDING:1e4,EMPTY_CAPTION_TEXT:" ",SEGMENT_LENGTH:76,RESUME_PLAYBACK_AFTER:1e3,AUTO_GEN_PROGRESS_RATE_FACTOR:.5};e.exports=a}),null);
__d("VideoComposerUtils",["ComposerEntryPointRef"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return a===b("ComposerEntryPointRef").CS_HOME_UPLOAD_VIDEO||a===b("ComposerEntryPointRef").CS_HOME_MULTIPOST||a===b("ComposerEntryPointRef").CS_GLOBAL_UPLOAD_VIDEO||a===b("ComposerEntryPointRef").CS_GLOBAL_MULTIPOST||a===b("ComposerEntryPointRef").CS_CONTENT_LIBRARY_UPLOAD_VIDEOS||a===b("ComposerEntryPointRef").LIBERTY_VIDEO_COMPOSER||a===b("ComposerEntryPointRef").LIBERTY_PAGES_COMPOSER||a===b("ComposerEntryPointRef").LIBERTY_MULTIPOST_UPSELL_BANNER||a===b("ComposerEntryPointRef").CS_MULTIPOST_ANNOUNCEMENT_CARD||a===b("ComposerEntryPointRef").CS_CONTENT_SHOW_EPISODE_UPLOAD||a===b("ComposerEntryPointRef").CS_CONTENT_SHOW_TRAILER_UPLOAD}function c(a){return a===b("ComposerEntryPointRef").CS_HOME_BASIC_POST||a===b("ComposerEntryPointRef").CS_HOME_UPLOAD_VIDEO||a===b("ComposerEntryPointRef").CS_HOME_MULTIPOST||a===b("ComposerEntryPointRef").CS_GLOBAL_BASIC_POST||a===b("ComposerEntryPointRef").CS_GLOBAL_UPLOAD_VIDEO||a===b("ComposerEntryPointRef").CS_GLOBAL_MULTIPOST||a===b("ComposerEntryPointRef").CS_CONTENT_LIBRARY_UPLOAD_VIDEOS||a===b("ComposerEntryPointRef").CS_BULK_UPLOAD_PANEL||a===b("ComposerEntryPointRef").MEDIA_MANAGER||a===b("ComposerEntryPointRef").LIBERTY_VIDEO_COMPOSER||a===b("ComposerEntryPointRef").LIBERTY_PAGES_COMPOSER||a===b("ComposerEntryPointRef").LIBERTY_MULTIPOST_UPSELL_BANNER||a===b("ComposerEntryPointRef").CS_MULTIPOST_ANNOUNCEMENT_CARD||a===b("ComposerEntryPointRef").CS_CONTENT_SHOW_EPISODE_UPLOAD||a===b("ComposerEntryPointRef").CS_CONTENT_SHOW_TRAILER_UPLOAD}function d(a){return a===b("ComposerEntryPointRef").CS_HOME_MULTIPOST||a===b("ComposerEntryPointRef").CS_GLOBAL_MULTIPOST||a===b("ComposerEntryPointRef").LIBERTY_VIDEO_COMPOSER||a===b("ComposerEntryPointRef").LIBERTY_PAGES_COMPOSER||a===b("ComposerEntryPointRef").LIBERTY_MULTIPOST_UPSELL_BANNER||a===b("ComposerEntryPointRef").CS_MULTIPOST_ANNOUNCEMENT_CARD}function f(a){return a===b("ComposerEntryPointRef").CS_CONTENT_SHOW_EPISODE_UPLOAD||a===b("ComposerEntryPointRef").CS_CONTENT_SHOW_TRAILER_UPLOAD}e.exports={isFromCreatorStudioMultipostPanel:d,isFromCreatorStudioShowsPanel:f,isTrayBasedComposer:a,isCreatorStudioComposer:c}}),null);
__d("VideoComposerRHCPremiereUpsellUtils",["fbt","gkx"],(function(a,b,c,d,e,f,g){"use strict";c="2055604178103249";d=g._("You can now publish videos as New Releases or Premieres.");f=g._("As soon as your video publishes, people will be able to watch, chat and engage with it in real-time. You will also be able to see how many people are watching the video at the same time. Afterwards, it will appear as a regular video post.");function a(){return b("gkx")("706962")}e.exports={shouldShowPremiereMarketingVideo:a,TITLE:d,DESCRIPTION:f,PREMIERE_MARKETING_VIDEO_ID:c}}),null);
__d("VideoComposerDialogShowVideo",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BASIC_VIDEO:"basic_video",EPISODE:"episode",TRAILER:"trailer",RECAP:"recap"})}),null);
__d("MediaManagerAudioAssetTypeEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SOUND_TRACKS:"sound_tracks",SOUND_EFFECTS:"sound_effects"})}),null);
__d("VideoComposerVideoEditorToolTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({TRIM:"",SOUND:""});e.exports={VideoComposerVideoEditorTools:a}}),null);
__d("VideoWithPlayStartEnd",["SubscriptionsHandler","VideoPlayerReason"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,c,d,e,f,g,h){__p&&__p();var i=this;this.$1=e;this.$5=!1;this.$3=!0;this.$8=d||0;this.setEndTime(a);this.setStartTime(c);this.setLoop(h);this.$11=new(b("SubscriptionsHandler"))();this.onUpdateCurrentPlayPosition=f;this.onUpdatePlayerState=g;this.$1.seek(this.$10);this.$11.addSubscriptions(this.$1.addListener("updateStatus",this.$12.bind(this)),this.$1.addListener("playRequested",function(a){return i.$13()}),this.$1.addListener("previewByStartEndTime",function(a){return i.$14(a.startTime,a.endTime,a.persistPlayState)}),this.$1.addListener("pausePlayback",function(){i.onUpdatePlayerState&&i.onUpdatePlayerState(!1),i.$5=!1,i.$3=!0}),this.$1.addListener("finishPlayback",function(){i.onUpdatePlayerState&&i.onUpdatePlayerState(!1),i.$5=!1,i.$3=!0}),this.$1.addListener("beginPlayback",function(){i.$5=!0,i.$3=!1}))}var c=a.prototype;c.$13=function(){var a=this.$1.getVideoAPI().getCurrentTimePosition();(a<this.$10||a>=this.$2)&&(this.$1.setState("playing"),this.$1.seek(this.$10));this.$5=!0;this.$3=!1};c.$14=function(a,c,d){a+=this.$8,c+=this.$8,a=Math.max(a,this.$10),c=Math.min(c,this.$2),this.$15(a),this.$16(c),this.$4=!0,this.$5=!1,this.$3=!1,this.$1.seek(this.$9),d||this.$1.play(b("VideoPlayerReason").USER)};c.$15=function(a){this.$9=a};c.$16=function(a){this.$7=a};c.$12=function(a){this.$5&&(this.onUpdateCurrentPlayPosition&&this.onUpdateCurrentPlayPosition(a)),this.$3||this.onUpdatePlayerState&&this.onUpdatePlayerState(!0),this.$4||(this.$5=!0),this.$4&&a.position>=this.$7?this.$6?this.$1.seek(this.$9):(this.$1.pause(b("VideoPlayerReason").USER),this.$4=!1):a.position>=this.$2&&(this.$1.pause(b("VideoPlayerReason").USER),this.$1.setState("finished"))};c.seek=function(a){this.$1&&this.$1.seek(a)};c.getStartTime=function(){return this.$10};c.setStartTime=function(a){this.$10=a};c.getEndTime=function(){return this.$2};c.setEndTime=function(a){this.$2=a};c.getLoop=function(){return this.$6};c.setLoop=function(a){this.$6=a};c.setOnUpdateCurrentPlayPosition=function(a){this.onUpdateCurrentPlayPosition=a};c.release=function(){this.$11.release()};return a}();e.exports=a}),null);
__d("VideoComponentWithPlayStartEnd.react",["React","VideoComponent","VideoWithPlayStartEnd"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.enable=function(a){this.$1=a,this.props.onEnableVPC&&this.props.onEnableVPC(a),this.$2=new(b("VideoWithPlayStartEnd"))(this.props.endTime,this.props.startTime,this.props.previewTimeOffset,this.$1,this.props.onUpdateCurrentPlayPosition,this.props.onUpdatePlayerState,this.props.loop)};d.disable=function(){this.$2.release()};d.UNSAFE_componentWillUpdate=function(a){var b=a.endTime,c=a.startTime,d=a.loop,e=a.onUpdateCurrentPlayPosition;this.$2&&this.props.onUpdateCurrentPlayPosition!==e&&this.$2.setOnUpdateCurrentPlayPosition(e);e=a.endTime!==this.props.endTime||a.startTime!==this.props.startTime||a.loop!==this.props.loop;this.$2&&e&&(this.$2.setStartTime(c),this.$2.setEndTime(b),this.$2.setLoop(d),this.$2.seek(c))};d.render=function(){return null};return c}(b("React").Component);a.defaultProps={loop:!1,previewTimeOffset:0};e.exports=b("VideoComponent").createContainer(a)}),null);
__d("PrereviewVideoBrandSafetyStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNKNOWN:"unknown",APPROVED:"approved",REJECTED:"rejected",PENDING_COMMON_REVIEW:"pending_common_review",PENDING_AUDIT_REVIEW:"pending_audit_review",NOT_OPTED_FOR_PREREVIEW:"not_opted_for_prereview"})}),null);
__d("VideoAssetDemonetizationType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AD_BREAK_SRT_REVIEW:"ad_break_srt_review",AD_BREAK_PREREVIEW:"ad_break_prereview",NOT_DEMONETIZED:"not_demonetized"})}),null);
__d("XVideoComposerAdBreakNuxController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/nux/",{nux_id:{type:"Int",required:!0}})}),null);
__d("AdBreakStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ENABLED:"enabled",DELETED:"deleted",DISABLED:"disabled"})}),null);
__d("ShorterContentMonetizationContent",["fbt","React"],(function(a,b,c,d,e,f,g){__p&&__p();a=90;c=180;d=g._("Ad breaks are turned on.");f=g._("Ad breaks are turned off.");var h=g._("New! Monetize Shorter Videos"),i=g._("You've been selected to test a new monetization feature that lets you earn money from shorter videos."),j=g._("You're Testing a New Monetization Feature");a=g._("Now you can monetize {minimum video duration in seconds}- to {maximum video duration in seconds}-second videos with image ads that display below your content. If you'd rather not participate, you can turn off ad breaks for this video. Thank you for helping us improve your monetization experience.",[g._param("minimum video duration in seconds",a),g._param("maximum video duration in seconds",c)]);c=g._("Test a New Monetization Feature");b=g._("To help you earn money from more of your content, we're running an experiment that lets you monetize shorter videos with image ads. Select {=Try It} to turn on ad breaks and monetize this video.",[g._param("=Try It",b("React").createElement("b",null,g._("Try It")))]);g=g._("Try It");e.exports={adBreaksTabEnabledContentOverride:d,adBreaksTabDisabledContentOverride:f,bluesCluesTitle:h,bluesCluesBody:i,adsEnabledInsertionBannerTitle:j,adsEnabledInsertionBannerBody:a,adsDisabledInsertionBannerTitle:c,adsDisabledInsertionBannerBody:b,adsDisabledInsertionBannerButtonText:g}}),null);
__d("VideoComposerAdBreakImageAdsEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IMAGE_ADS_ENABLED:"image_ads_enabled",IMAGE_ADS_DISABLED:"image_ads_disabled",VIDEO_SAVE_SUCCESS:"video_saved_successfully",VIDEO_SAVE_FAILURE:"video_save_failure",COMPOSER_EXITED:"composer_exited",MRO_TRY_IT_NUX_IMPRESSION:"mro_try_it_nux_impression",MRO_TRY_IT_NUX_CLICK:"mro_try_it_nux_click",MRO_TRY_IT_NUX_DISMISSAL:"mro_try_it_nux_not_dismissal",MRO_CHECKBOX_NUX_IMPRESSION:"mro_checkbox_nux_impression",MRO_CHECKBOX_NUX_DISMISSAL:"mro_checkbox_nux_dismissal",MRO_COMPOSER_AD_BREAK_TAB_NUX_IMPRESSION:"mro_composer_ad_break_tab_nux_impression",MRO_COMPOSER_AD_BREAK_TAB_NUX_DISMISSAL:"mro_composer_ad_break_tab_nux_dismissal",MRO_PUBLISH_MODAL_IMPRESSION:"mro_publish_modal_impression",MRO_PUBLISH_MODAL_CLICK:"mro_publish_modal_click",MRO_PUBLISH_MODAL_DISMISSAL:"mro_publish_modal_dismissal",SCM_COMPOSER_AD_BREAK_TAB_NUX_IMPRESSION:"scm_composer_ad_break_tab_nux_impression",SCM_COMPOSER_AD_BREAK_TAB_NUX_DISMISSAL:"scm_composer_ad_break_tab_nux_dismissal",SCM_TRY_IT_NUX_IMPRESSION:"scm_try_it_nux_impression",SCM_TRY_IT_NUX_CLICK:"scm_try_it_nux_click"})}),null);
__d("VideoComposerDialogAdBreakStrings",["fbt","DateConsts","VideoInstreamAdsConstants","VideoInstreamUtils"],(function(a,b,c,d,e,f,g){"use strict";a={AD_BREAK_TOGGLE_TITLE:g._("Ad Breaks"),AD_BREAK_TOGGLE_DESCRIPTION:g._("Earn money from your content with pre-roll, mid-roll and image ads."),AD_BREAK_TOGGLE_TOOLTIP:g._({"*":{"*":"Videos need to be at least {min video length} minutes long, and ad breaks may only be placed after {min start time} seconds.","_1":"Videos need to be at least {min video length} minutes long, and ad breaks may only be placed after 1 second."},"_1":{"*":"Videos need to be at least 1 minute long, and ad breaks may only be placed after {min start time} seconds.","_1":"Videos need to be at least 1 minute long, and ad breaks may only be placed after 1 second."}},[g._plural(b("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH_MS/b("DateConsts").MS_PER_MIN,"min video length"),g._plural(b("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS/b("DateConsts").MS_PER_SEC,"min start time")]),AUTO_INSERTION_TITLE:g._("Automatic Placements"),AUTO_INSERTION_DESCRIPTION:g._("Ads will be placed automatically at natural breaks in your video. Use automatic placements to save time and give viewers the best possible experience."),MANUAL_INSERTION_TITLE:g._("Choose Placements"),getManualInsertionDescription:function(a,c){a=b("VideoInstreamUtils").getMaxPossibleAdBreaks(a,c);return c?g._({"*":"This video can have {number} ad breaks placed within the highlighted area of the video preview.","_1":"This video can have 1 ad break placed within the highlighted area of the video preview."},[g._plural(a,"number")]):g._({"*":"Choose up to {number} possible placements for ad breaks in your video. If you choose multiple placements, viewers will see ads in different places depending on when they last watched an ad.","_1":"Choose up to 1 possible placement for ad breaks in your video. If you choose multiple placements, viewers will see ads in different places depending on when they last watched an ad."},[g._plural(a,"number")])},INSERTION_TIME_OFFSET_EDITOR_DESCRIPTION:g._("Enter a time or drag the circle in the preview to choose an ad break placement."),FULL_MONETIZATION_SECTION_TITLE:g._("Full Monetization"),FULL_MONETIZATION_SECTION_DESCRIPTION:g._("Includes in-stream video ad and image ad placements to maximize earnings."),IMAGE_ADS_SECTION_TITLE:g._("Image Ads Only (Lower Monetization)"),IMAGE_ADS_SECTION_DESCRIPTION:g._("Image ads sit below your content and help you earn money from videos that don't have a good place for in-stream video ads.")};e.exports=a}),null);
__d("AdBreakAdminPreviewEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADMIN_SEND_NOTIFICATION:"admin_send_notification",ADMIN_SEND_NOTIFICATION_SUCCESS:"admin_send_notification_success",ADMIN_SEND_NOTIFICATION_FAILURE:"admin_send_notification_failure",ADMIN_REQUEST_SHAREABLE_LINK:"admin_request_shareable_link",ADMIN_REQUEST_SHAREABLE_LINK_SUCCESS:"admin_request_shareable_link_success",ADMIN_REQUEST_SHAREABLE_LINK_FAILURE:"admin_request_shareable_link_failure",SERVER_VIDEO_ENCODING_SUCCESS:"server_video_encoding_success",SERVER_VIDEO_ENCODING_FAILURE:"server_video_encoding_failure",NOTIFICATION_INVALIDATION:"notification_invalidation"})}),null);
__d("AdBreakAdminPreviewStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ENCODING:"encoding",NONE:"none",OK:"ok"})}),null);
__d("XAdBreakAdminPreviewNotificationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ad_breaks/admin_preview/notification/",{video_id:{type:"FBID",required:!0},ad_break_time_offsets:{type:"IntVector"}})}),null);
__d("XAdBreakAdminPreviewShareController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ad_breaks/admin_preview/share/",{video_id:{type:"FBID",required:!0},ad_break_time_offsets:{type:"IntVector"}})}),null);
__d("XAdBreakAdminPreviewStatusController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ad_breaks/admin_preview/status/",{video_id:{type:"FBID",required:!0}})}),null);
__d("AdBreakAdminPreviewManager",["AdBreakAdminPreviewEvent","AdBreakAdminPreviewStatus","AdBreakAdminPreviewTypedLogger","AsyncRequest","AsyncResponse","XAdBreakAdminPreviewNotificationController","XAdBreakAdminPreviewShareController","XAdBreakAdminPreviewStatusController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1e3;a=function(){__p&&__p();function a(){}var c=a.prototype;c.sendNotification=function(a,c,d,e){var f=this;this.lastRequestTime=Date.now();new(b("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(a)).setAdBreakTimeOffsets(c).setEvent(b("AdBreakAdminPreviewEvent").ADMIN_SEND_NOTIFICATION).setTimeConsumedInMs(null).log();var g=function(){new(b("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(a)).setAdBreakTimeOffsets(c).setEvent(b("AdBreakAdminPreviewEvent").ADMIN_SEND_NOTIFICATION_SUCCESS).setTimeConsumedInMs(Date.now()-f.lastRequestTime).log(),d()},h=function(){new(b("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(a)).setAdBreakTimeOffsets(c).setEvent(b("AdBreakAdminPreviewEvent").ADMIN_SEND_NOTIFICATION_FAILURE).setTimeConsumedInMs(Date.now()-f.lastRequestTime).log(),e()},i=b("XAdBreakAdminPreviewNotificationController").getURIBuilder().setFBID("video_id",a).setIntVector("ad_break_time_offsets",c).getURI();new(b("AsyncRequest"))(i).setHandler(function(c){c.payload.status===b("AdBreakAdminPreviewStatus").OK?g():f.pollPreviewStatus(a,g,h)}).setErrorHandler(function(a){return h()}).send()};c.requestShareLink=function(a,c,d,e){var f=this;this.lastRequestTime=Date.now();new(b("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(a)).setAdBreakTimeOffsets(c).setEvent(b("AdBreakAdminPreviewEvent").ADMIN_REQUEST_SHAREABLE_LINK).setTimeConsumedInMs(null).log();var g=function(e){new(b("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(a)).setAdBreakTimeOffsets(c).setEvent(b("AdBreakAdminPreviewEvent").ADMIN_REQUEST_SHAREABLE_LINK_SUCCESS).setTimeConsumedInMs(Date.now()-f.lastRequestTime).log(),d(e)},h=function(d){new(b("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(a)).setAdBreakTimeOffsets(c).setEvent(b("AdBreakAdminPreviewEvent").ADMIN_REQUEST_SHAREABLE_LINK_FAILURE).setTimeConsumedInMs(Date.now()-f.lastRequestTime).log(),e(d)};this.requestShareLinkWithoutLogging(a,c,g,h)};c.requestShareLinkWithoutLogging=function(a,c,d,e){var f=this,g=b("XAdBreakAdminPreviewShareController").getURIBuilder().setFBID("video_id",a).setIntVector("ad_break_time_offsets",c).getURI();new(b("AsyncRequest"))(g).setHandler(function(g){g.payload.status===b("AdBreakAdminPreviewStatus").OK?d(g):f.pollPreviewStatus(a,function(){return f.requestShareLinkWithoutLogging(a,c,d,e)},function(){return e(g)})}).setErrorHandler(function(a){return e(a)}).send()};c.pollPreviewStatus=function(a,b,c){var d=this;clearInterval(this.timer);this.timer=setInterval(function(){return d.getPreviewStatus(a,b,c)},g)};c.stopPolling=function(){clearInterval(this.timer)};c.getPreviewStatus=function(a,c,d){var e=this;a=b("XAdBreakAdminPreviewStatusController").getURIBuilder().setFBID("video_id",a).getURI();new(b("AsyncRequest"))(a).setHandler(function(a){a.payload.status===b("AdBreakAdminPreviewStatus").OK&&(clearInterval(e.timer),c())}).setErrorHandler(function(a){clearInterval(e.timer),d()}).send()};return a}();e.exports=new a()}),null);
__d("ComposerVideoAdBreakAdminPreviewLoadingDialog.react",["cx","fbt","CenteredContainer.react","React","SUIBusinessTheme","SUISpinner.react","XUIDialog.react","XUIDialogBody.react","XUIDialogCloseButton.react","XUIDialogFooter.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=475;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={shown:!0},c.$1=function(){c.props.onClose&&c.props.onClose()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.show=function(){this.setState({shown:!0})};d.hide=function(){this.setState({shown:!1})};d.render=function(){return b("React").createElement(b("XUIDialog.react"),{label:h._("Loading"),layerHideOnBlur:!1,shown:this.state.shown,width:i},b("React").createElement(b("CenteredContainer.react"),null,b("React").createElement(b("XUIDialogBody.react"),null,b("React").createElement("div",{className:"_380g"},h._("Your preview is being prepared. This may take a moment..."),b("React").createElement(b("SUISpinner.react"),{className:"_3-9b",size:"small",theme:b("SUIBusinessTheme")})))),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogCloseButton.react"),{onClick:this.$1})))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ComposerVideoAdBreakAdminPreviewNotificationHandler",["fbt","AdBreakAdminPreviewManager","ComposerVideoAdBreakAdminPreviewLoadingDialog.react","DOM","React","ReactDOM","SimpleXUIDialog","XUIDialogCloseButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){__p&&__p();function a(){__p&&__p();var a=this;this.$2=function(){if(!a.loadingDialog)return;a.$4();var c=g._("A notification has been sent to your Facebook account. Please open Facebook on your phone to preview your video with ad breaks."),d=b("React").createElement(b("XUIDialogCloseButton.react"),null),e=g._("Mobile Ad Break Preview");b("SimpleXUIDialog").showEx(c,e,d)};this.$3=function(){if(!a.loadingDialog)return;a.$4();var c=g._("An error occurred while sending notification."),d=b("React").createElement(b("XUIDialogCloseButton.react"),null),e=g._("Mobile Ad Break Preview");b("SimpleXUIDialog").showEx(c,e,d)}}var c=a.prototype;c.sendNotification=function(a,c){this.$1(),b("AdBreakAdminPreviewManager").sendNotification(a,c,this.$2,this.$3)};c.$1=function(){var a=b("React").createElement(b("ComposerVideoAdBreakAdminPreviewLoadingDialog.react"),null);this.loadingDialog=b("ReactDOM").render(a,b("DOM").create("div"));this.loadingDialog.show()};c.$4=function(){this.loadingDialog&&(this.loadingDialog.hide(),this.loadingDialog=null)};return a}();e.exports=new a()}),null);
__d("ComposerVideoAdBreakAdminPreviewShareDialog.react",["cx","fbt","AdBreakAdminPreviewManager","AsyncResponse","Clipboard","ComposerVideoAdBreakAdminPreviewLoadingDialog.react","FBClipboardLink.react","Image.react","Link.react","React","SUIBusinessTheme","SUIText.react","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIGrayText.react","XUITextInput.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isLoading:!1,shareURL:null,shown:!1},c.hide=function(){c.setState({shown:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=this;this.props.videoID&&(this.setState({isLoading:!0}),b("AdBreakAdminPreviewManager").requestShareLink(this.props.videoID,this.props.adBreakTimeOffsets,function(b){a.setState({isLoading:!1,shareURL:b.payload.url})},function(b){a.setState({isLoading:!1})}))};d.show=function(){this.setState({shown:!0})};d.render=function(){if(this.state.isLoading)return b("React").createElement(b("ComposerVideoAdBreakAdminPreviewLoadingDialog.react"),{onClose:this.hide});var a=null;!this.state.shareURL?a=h._("Failed to load share link."):a=b("React").createElement("div",{className:"_40s0"},b("React").createElement("div",{className:"_40s1"},b("React").createElement(i,null),b("React").createElement(j,{shareURL:this.state.shareURL}),b("React").createElement(k,null)),b("React").createElement(b("Image.react"),{className:"_40s7",src:"/images/aet/ShareAdPreview.png"}));return b("React").createElement(b("XUIDialog.react"),{layerHideOnBlur:!1,shown:this.state.shown,width:700},b("React").createElement(b("XUIDialogTitle.react"),null,h._("Preview This Video with Ad Breaks")),b("React").createElement(b("XUIDialogBody.react"),null,a),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogButton.react"),{action:"cancel",label:h._("Done"),onClick:this.hide,use:"confirm"})))};return c}(b("React").PureComponent);function i(){return b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{display:"block",size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},h._("Send Link")),b("React").createElement(b("SUIText.react"),{className:"_3-8x",display:"block",size:"meta1",theme:b("SUIBusinessTheme")},h._("Use this URL to preview this video with ad breaks on desktop. You can share this link with others.")))}function j(a){var c=null;b("Clipboard").isSupported()&&(c=b("React").createElement(b("FBClipboardLink.react"),{value:a.shareURL},b("React").createElement(b("XUIButton.react"),{className:"_3-9b",label:h._("Copy"),use:"confirm"})));var d=b("React").createElement(b("XUITextInput.react"),{className:"_40s8",disabled:!0,value:a.shareURL});b("Clipboard").isSupported()&&(d=b("React").createElement(b("FBClipboardLink.react"),{value:a.shareURL},b("React").createElement(b("Link.react"),null,a.shareURL)));return b("React").createElement("div",{className:"_2pie"},d,c)}function k(){return b("React").createElement("div",{className:"_2pie"},b("React").createElement(b("XUIGrayText.react"),{display:"block"},h._("A sample ad will play during your ad break placements.")))}e.exports=a}),null);
__d("ComposerVideoAdBreakAdminPreviewMenu.react",["ix","cx","fbt","AccessibleLayer","AdBreakAdminPreviewManager","ComposerVideoAdBreakAdminPreviewNotificationHandler","ComposerVideoAdBreakAdminPreviewShareDialog.react","ContextualLayerHideOnScroll","DateConsts","DOM","Image.react","LayerFadeOnHide","LayerFadeOnShow","LayerFitHeightToScreen","LayerHideOnBlur","LayerHideOnEscape","React","ReactDOM","ShimButton.react","SUIBusinessTheme","SUIText.react","XUIContextualDialog.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showMenu:!1},d.$5=function(a){return b("React").createElement("div",{key:a.id},b("React").createElement("div",{className:"_-em"},b("React").createElement(b("SUIText.react"),{className:"_2pit",shade:"medium",size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},a.header)),b("React").createElement("div",null,a.items.map(d.$6,babelHelpers.assertThisInitialized(d))))},d.$6=function(a){return b("React").createElement(b("ShimButton.react"),{className:"_-en",key:a.id,onClick:function(b){return d.$7(b,a.onClick)}},b("React").createElement(b("Image.react"),{src:a.icon}),b("React").createElement(b("SUIText.react"),{className:"_2pit",shade:"medium",size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},a.title))},d.$4=function(a){d.setState({showMenu:a})},d.$1=function(a){d.setState({showMenu:!d.state.showMenu}),a.stopPropagation()},d.$3=[{id:"share_preview_section",header:i._("Share Previews"),items:[{id:"share_a_link_menu_item",icon:g("407157"),title:i._("Share a Link"),onClick:function(){var a=b("React").createElement(b("ComposerVideoAdBreakAdminPreviewShareDialog.react"),{adBreakTimeOffsets:d.$8(),videoID:d.props.videoID});a=b("ReactDOM").render(a,b("DOM").create("div"));a.show()}}]},{id:"preview_on_device_section",header:i._("Preview on Device"),items:[{id:"send_notification_to_facebook_menu_item",icon:g("390904"),title:i._("Send Notification to Facebook"),onClick:function(){b("ComposerVideoAdBreakAdminPreviewNotificationHandler").sendNotification(d.props.videoID,d.$8())}}]}],c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentWillUnmount=function(){b("AdBreakAdminPreviewManager").stopPolling()};d.render=function(){return b("React").createElement("div",{className:"_65wv",ref:"adminPreviewMenuButton",role:"presentation",onClick:this.$1},this.props.children,this.$2(this.$3))};d.$2=function(a){var c=this;return!this.props.videoID?null:b("React").createElement(b("XUIContextualDialog.react"),{alignment:"right",behaviors:{AccessibleLayer:b("AccessibleLayer"),ContextualLayerHideOnScroll:b("ContextualLayerHideOnScroll"),LayerHideOnTransition:!1,LayerHideOnBlur:b("LayerHideOnBlur"),LayerHideOnEscape:b("LayerHideOnEscape"),LayerFadeOnShow:b("LayerFadeOnShow"),LayerFadeOnHide:b("LayerFadeOnHide"),LayerFitHeightToScreen:b("LayerFitHeightToScreen")},contextRef:function(){return c.refs.adminPreviewMenuButton},label:i._("Ad Break Admin Preview Menu"),onToggle:this.$4,position:"below",shown:this.state.showMenu,width:b("XUIContextualDialog.react").WIDTH.NORMAL},a.map(this.$5,this))};d.$7=function(a,b){b(),this.setState({showMenu:!this.state.showMenu}),a.stopPropagation()};d.$8=function(){var a=[];this.props.disablePreview||(a=this.props.insertedAdBreaks.map(function(a){return Math.round(a.timeOffset*b("DateConsts").MS_PER_SEC)}));return a};return c}(b("React").PureComponent);e.exports=a}),null);
__d("AdBreakPageOnboardingType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMPOSER_ENTRY_POINT:"composer_entry_point",PUBTOOLS_ENTRY_POINT:"pubtool_entry_point",AYMT_ENTRY_POINT:"aymt_entry_point",PUBTOOLS_MYLOT_ENTRY_POINT:"pubtool_mylot_entry_point",SIGN_TOS_UPDATE:"sign_tos_update",ADD_PAYOUT_ACCOUNT_UPDATE:"add_payout_account_update",ONBOARDING_COMPLETE:"onboarding_complete",PAGE_ONBOARDING_AD_BREAK_ELIGIBILITY_NOTIFICATION:"page_onboarding_ad_break_eligibility_notification",SIGN_TOS_UPDATE_ERROR:"sign_tos_update_error",ADD_PAYOUT_ACCOUNT_UPDATE_ERROR:"add_payout_account_update_error",ONBOARDING_FAIL:"onboarding_fail",SET_PAYOUT_FAIL:"set_payout_fail",ENT_VMC_NOT_FOUND:"ent_vmc_not_found",SIGN_TOS_FAIL:"sign_tos_fail"})}),null);
__d("XAdBreakPageOnboardingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/instream_video/onboarding/pages/",{creator_id:{type:"FBID",required:!0},entrypoint:{type:"Enum",enumType:1}})}),null);
__d("XVideoComposerBootloadAdBreaksTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/bootload_ad_breaks/",{target_id:{type:"FBID",required:!0}})}),null);
__d("XVideoComposerEditAdBreaksTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/edit/ad_breaks/",{target_id:{type:"FBID",required:!0},video_id:{type:"FBID",required:!0}})}),null);
__d("VideoComposerDialogAdBreakUtils",["fbt","Promise","ActorURI","AdBreakPageOnboardingConstants","AdBreakPageOnboardingType","AdBreakPageOnboardingTypedLogger","AsyncRequest","SimpleXUIDialog","VideoComposerAdBreakActions","XAdBreakPageOnboardingController","XInstreamAdBreaksAutoInsertionProfileSettingsMutationController","XVideoComposerBootloadAdBreaksTabController","XVideoComposerEditAdBreaksTabController","goURI"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=90,i=180;a=function(a,c){var d=b("XVideoComposerBootloadAdBreaksTabController").getURIBuilder().setFBID("target_id",c).getURI(),e=b("ActorURI").create(d,c);return new(b("Promise"))(function(c,d){new(b("AsyncRequest"))(e).setHandler(function(d){b("VideoComposerAdBreakActions").bootloadParameters(a,d.payload),c(d)}).setErrorHandler(function(a){d(a)}).send()})};c=function(a,c){var d=b("XVideoComposerEditAdBreaksTabController").getURIBuilder().setFBID("target_id",c.common.actorID).setFBID("video_id",c.videoID).getURI(),e=b("ActorURI").create(d,c.common.actorID);return new(b("Promise"))(function(a,c){new(b("AsyncRequest"))(e).setHandler(function(b){a(b)}).send()}).then(function(c){b("VideoComposerAdBreakActions").fetchEditParameters(a,c.payload)})};d=function(a){b("SimpleXUIDialog").showConfirm(g._("If holdout testing is currently running for this video, turning off ad breaks will immediately end the holdout test and disable holdout testing permanently for this video."),g._("Turn Off Ad Breaks?"),function(b){return b&&a()})};f=function(a){new(b("AdBreakPageOnboardingTypedLogger"))().setPageID(a).setAdBreakPageOnboardingEventType(b("AdBreakPageOnboardingType").COMPOSER_ENTRY_POINT).log();a=b("XAdBreakPageOnboardingController").getURIBuilder().setFBID("creator_id",a).setEnum("entrypoint",b("AdBreakPageOnboardingConstants").FROM_COMPOSER).getURI();b("goURI")(a,!0)};var j=function(a,c){c=b("XInstreamAdBreaksAutoInsertionProfileSettingsMutationController").getURIBuilder().setBool("auto_insertion_status",c).setFBID("page_id",a).getURI();new(b("AsyncRequest"))(c).setMethod("POST").send()},k=function(a,b){return a&&b!=null&&b>=h&&b<i};e.exports={canShortVideoUseImageAds:k,beginBootloadingAdBreaksTab:a,fetchEditParameters:c,showHoldoutTestDisabledConfirmation:d,startPageOnboarding:f,updateInsertionProfileStatus:j}}),null);
__d("XVideoComposerBrowseTagsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/browse_tags/",{})}),null);
__d("XVideoComposerSuggestedTagsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/suggested_tags/",{page_id:{type:"FBID",required:!0}})}),null);
__d("VideoComposerTaggingUtils",["fbt","Promise","AnyTokenSearchSource","AsyncRequest","CompositeSearchSource","InterestTaxonomyTypeaheadAppType","SearchableEntry","WebAsyncSearchSource","XInterestTaxonomyTypeaheadDataSourceController","XVideoComposerBrowseTagsController","XVideoComposerSuggestedTagsController"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){var a=b("XInterestTaxonomyTypeaheadDataSourceController").getURIBuilder().setEnum("app",b("InterestTaxonomyTypeaheadAppType").VIDEO_CREATION).getURI();return new(b("CompositeSearchSource"))([new(b("WebAsyncSearchSource"))({queryRequests:[{uri:a}]}),new(b("AnyTokenSearchSource"))(function(a){var c=g._("Add a new tag \"{free form tag}\"",[g._param("free form tag",a)]);return new(b("SearchableEntry"))({uniqueID:a,title:c,auxiliaryData:{isFreeForm:!0}})})])};c=function(a){var c=b("XVideoComposerSuggestedTagsController").getURIBuilder().setFBID("page_id",a).getURI();return new(b("Promise"))(function(a,d){new(b("AsyncRequest"))(c).setHandler(function(b){var c=h(b.getPayload().history);b=h(b.getPayload().suggested);a({history:c,suggested:b})}).setErrorHandler(function(a){return d(a)}).send()})};d=function(a){var c=b("XVideoComposerBrowseTagsController").getURIBuilder().getURI();return new(b("Promise"))(function(a,d){new(b("AsyncRequest"))(c).setHandler(function(c){c=c.getPayload().entries;c=c.filter(function(a){return a.uid!==null&&a.uid!==void 0&&a.text!==null&&a.text!==void 0&&a.text!==""}).map(function(a){return new(b("SearchableEntry"))({uniqueID:a.uid,title:a.text,type:a.type,auxiliaryData:{isFreeForm:!1}})});a(c)}).setErrorHandler(function(a){return d(a)}).send()})};var h=function(a){return a.filter(function(a){return a.uid!==null&&a.uid!==void 0&&a.text!==null&&a.text!==void 0&&a.text!==""}).map(function(a){return new(b("SearchableEntry"))({uniqueID:a.uid,title:a.text,auxiliaryData:{isFreeForm:a.uid===a.text}})})};e.exports={filterNullsAndMapToSearchbaleEntry:h,getContentTagSearchSource:a,getSuggestedContentTags:c,getBrowseTags:d}}),null);
__d("VideoComposerSoundEditorConstants",["VideoComposerDialogConstants"],(function(a,b,c,d,e,f){"use strict";a=16;c=300;d=b("VideoComposerDialogConstants").DIALOG_WIDTH-c;f=d-2*a;c=f/b("VideoComposerDialogConstants").SIXTEEN_NINE;d={PLAYER_HEIGHT:c,PLAYER_WIDTH:f,SECTION_PADDING:a};e.exports=d}),null);
__d("VideoComposerDragAndDropScrubberTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({ADD:"",MOVE:"",RESIZE:"",TRACK_VOLUME:""});c=b("keyMirror")({AUDIO:""});d=b("keyMirror")({CIRCLE:"",SQUARE:""});e.exports={VideoComposerDragAndDropScrubberActionTypes:a,VideoComposerDragAndDropScrubberItemSourceNumberShapeTypes:d,VideoComposerDragAndDropScrubberItemSourceTypes:c}}),null);
__d("VideoComposerTrimmingConstants",["VideoComposerDialogConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=16;c=300;d=b("VideoComposerDialogConstants").DIALOG_WIDTH-c;f=d-2*a;c=f/b("VideoComposerDialogConstants").SIXTEEN_NINE;d=16;b=f-2*d;c={PLAYER_HEIGHT:c,PLAYER_WIDTH:f,SECTION_PADDING:a,SCRUBBER_SLIDER_WIDTH:d,SCRUBBER_WIDTH:b,MIN_TRIM_DURATION:1};e.exports=c}),null);
__d("VideoCaptionPlacements",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CREATE_AD:0,EXISTING_POST_SECTION:1,PAGE_COMPOSER_EDIT:2,VIDEO_CAROUSEL:3,CREATE_AD_CF:4,EXISTING_POST_SECTION_CF:5,PAGE_TIMELINE_POST_HEADER:6,JEWEL_NOTIFICATION:7,EMAIL_NOTIFICATION:8})}),null);
__d("PrereviewDisabledReason",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AD_BREAKS_UNAVAILABLE:"ad_breaks_unavailable",CLIENT_LOADING:"client_loading",HAS_INSTANT_MONETIZATION:"has_instant_monetization",MAX_VOLUME_REACHED:"max_volume_reached",NONE:"none",PAGE_NOT_IN_GK:"page_not_in_gk"})}),null);
__d("CreatorMonetizationModalComponent.react",["cx","fbt","FlexLayout.react","Image.react","React","SUIButton.react","SUIModal.react","SUIModalFooter.react","SUIText.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=500;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.imageSource,d=a.secondaryButtonLabel,e=a.showSecondaryButton;a=a.width;return b("React").createElement(b("SUIModal.react"),{footer:b("React").createElement(b("SUIModalFooter.react"),{primaryButton:b("React").createElement(b("SUIButton.react"),{label:this.props.buttonText,use:"confirm",onClick:this.props.onAction}),secondaryButton:e?b("React").createElement(b("SUIButton.react"),{label:d!=null?d:h._("Cancel"),layerAction:"cancel"}):null}),isShown:this.props.isShown,label:"Creator Monetization Modal",width:a!=null?a:i,onHide:this.props.onHide},b("React").createElement("div",{className:"_723l"},b("React").createElement(b("FlexLayout.react"),{align:"center",direction:"vertical"},c?b("React").createElement(b("Image.react"),{src:c,style:{padding:"12px"}}):null,b("React").createElement(b("SUIText.react"),{color:"primary",display:"block",margin:c?"_3-8z":null,size:"header3",textAlign:"center"},this.props.title),b("React").createElement(b("SUIText.react"),{color:"primary",display:"block",margin:"_3-8z",size:"body1",textAlign:"center"},this.props.bodyText))))};return c}(b("React").Component);e.exports=a}),null);
__d("VideoComposerRightsUtil",["fbt","VideoComposerPublishingTypes","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("VideoComposerPublishingTypes").PublishingType;a=g._("Media category is required for copyrighted content");c=function(){return b("immutable").List([h.AD_BREAK_SUBMIT_FOR_REVIEW,h.BACKDATE,h.PREMIERE,h.PUBLISH_NOW,h.SCHEDULE])};e.exports={getActionsForRightsConfirmDialog:c,errorMessageMissingMediaCategory:a}}),null);
__d("AutoScheduleUtils",["DateConsts","DateTime","Instant","Timezone","TimezoneNamesData","formatDate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="D, M j, Y",h="g:i A";e.exports={tzNamesModule:null,capitalize:function(a){return a.split(/ /g).map(function(a){return""+a.substring(0,1).toUpperCase()+a.substring(1)}).join(" ")},isFunction:function(a){return typeof a==="function"},getTimeStrWithFormat:function(a,c){c===void 0&&(c=h);return b("formatDate")(a,c)},getDateStrWithFormat:function(a,c){c===void 0&&(c=g);return b("formatDate")(a,c)},getTimeSlotDateStr:function(a){return this.getDateStrWithFormat(a.start_time)},getTimeSlotTimeStr:function(a){var b=this.getTimeStrWithFormat(a.start_time);a=this.getTimeStrWithFormat(a.end_time);return b+" - "+a},getTimeSlotStr:function(a,b){a={start_time:a,end_time:b};b=this.getTimeSlotDateStr(a);a=this.getTimeSlotTimeStr(a);return b+" "+a},getTimestampStr:function(a,c){return this.getTimeSlotStr(a,a+(c||b("DateConsts").SEC_PER_HOUR/2))},isWeekend:function(a){return a.getDay()===b("DateConsts").DAYS.SATURDAY||a.getDay()===b("DateConsts").DAYS.SUNDAY},deltaWeekDaysFromDeltaBusinessDays:function(a,b){if(b<=0)return 0;var c=0;for(var d=1;d<b;d+=1){var e=this.dateWithDeltaDays(a,c+1);d-=this.isWeekend(e)?1:0;c+=1}return c},dateWithDelta:function(a,b){return new Date(a.getTime()+b)},dateWithDeltaDays:function(a,c){return this.dateWithDelta(a,c*b("DateConsts").MS_PER_DAY)},startOfMonday:function(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate()-a.getDay()+1)},startOfDay:function(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate())},endOfDay:function(a){return this.dateWithDeltaDays(this.startOfDay(a),1)},endOfFriday:function(a){return this.dateWithDeltaDays(this.startOfMonday(a),5)},getDateFromLocalDate:function(a){this.setupTimezoneNamesModule();return a.toDateTime(b("Timezone").getEnvironmentTimezoneID()).toDate()},getTimezoneOffset:function(a){this.setupTimezoneNamesModule();return b("Instant").getOffset(b("Instant").now(),a||b("Timezone").getEnvironmentTimezoneID())},getTimezoneID:function(a){this.setupTimezoneNamesModule();return b("Timezone").getByNameOrNull(a)},getFirstAndLastSlotStartTimes:function(a){a=a.sort(function(a,b){return a.start_time-b.start_time});var b=a.length>0;return{firstSlotStart:b?a[0].start_time:-1,lastSlotStart:b?a[a.length-1].start_time:-1,numSlots:a.length}},setupTimezoneNamesModule:function(){this.tzNamesModule||(this.tzNamesModule=b("Timezone").registerNamesModule(b("TimezoneNamesData")))},getTimezoneString:function(){this.setupTimezoneNamesModule();return b("Timezone").getExactName(b("Timezone").getEnvironmentTimezoneID())},convertDateToTimezone:function(a,c){var d=b("Timezone").getEnvironmentTimezoneID();c=this.getTimezoneID(c);if(c!==null){d=b("DateTime").create(a,d).getParallel(c).getUnixTimestamp();return Math.floor(d/b("DateConsts").MS_PER_SEC)}else return a}}}),null);
__d("VideoComposerDialogUtils",["ComposerEntryPointRef","VideoComposerDialogShowVideo","XVanityURLController","formatDate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){var b=a.length;for(var c=a.length-1;c>=0;c--){var d=a.charCodeAt(c);d>127&&d<=2047?b++:d>2047&&d<=65535&&(b+=2);d>=56320&&d<=57343&&c--}return b};c=function(a){if(a===b("ComposerEntryPointRef").PAGE_CONTENT_TAB_SEASON_DETAILS||a===b("ComposerEntryPointRef").SHOWS_HOME_EPISODES_CARD||a===b("ComposerEntryPointRef").PAGE_COMPOSER_EPISODE_CARD)return b("VideoComposerDialogShowVideo").EPISODE;return a===b("ComposerEntryPointRef").PAGE_TRAILER?b("VideoComposerDialogShowVideo").TRAILER:null};d=function(a){var c=b("formatDate")(a,"m/d/Y",{skipPatternLocalization:!0});a=60*(a.getHours()*60+a.getMinutes());return{dateStr:c,timeSec:a}};f=function(a){return b("XVanityURLController").getURIBuilder().setString("vanity",a).getURI()};var g=function(a){return a&&a.format?a.format.isSpherical:!1};e.exports={byteLength:a,formatDateAndTime:d,getShowVideoTypeFromEntryPoint:c,getVideoPermalinkURL:f,isVideoSpherical:g}}),null);
__d("XEmbeddedVideoEmbedDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/embed/async/dialog/",{url:{type:"String",required:!0},source:{type:"Int"},__asyncDialog:{type:"Int"}})}),null);
__d("VideoComposerPublishingUtils",["fbt","VideoComposerPublishingTypes","VideoComposerScheduleType"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("VideoComposerPublishingTypes").PublishActions,i=b("VideoComposerPublishingTypes").PublishingType,j=b("VideoComposerScheduleType").VideoComposerScheduleTypes,k=1e3*60,l=k*60;c=l*24;var m=182*c+12*l,n=function(){return new Date(Date.now()+8*l)};d=function(a){a=a&&a.getTime()?a.getTime():n().getTime();return new Date(a+l)};f=d;b=function(a,b){b===void 0&&(b=new Date());b=b&&b.getTime()?b:new Date();a=a.getTime();return a>=b.getTime()+k*10&&a<=b.getTime()+m};c=function(a,b){switch(a){case i.SAVE_AS_DRAFT:return g._("Save as Draft");case i.PUBLISH_FOR_DOGFOODING:return g._("Publish for Dogfooding");case i.DOGFOOD_WITH_SERIES_OR_SEASON:return g._("Dogfooding with series\/season");case i.SCHEDULE:return g._("Schedule");case i.BACKDATE:return g._("Backdate");case i.PUBLISH_WITH_SHOW_OR_SEASON:return b?g._("Publish with Season"):g._("Publish with Series");default:return g._("Publish")}};function a(a){switch(a){case j.SCHEDULE:return g._("Schedule");case j.PUBLISH_NOW:return g._("Publish");case j.BACKDATE:return g._("Backdate");default:return g._("Publish")}}var o=b,p=b,q=g._("Posts need to be expired between 10 minutes from when they are published and 6 months from now."),r=g._("Scheduled posts need to be shared between 10 minutes and 6 months from when you create them."),s=g._("News Feed distribution can only end between 10 minutes from when they are published and 6 months from now."),t=g._("You can only save a draft or schedule a post until your video has been approved for funding."),u=g._("Premiere is a video experience that lets you schedule and debut videos as live events. When your video is published, people will be able to watch and chat about the video together in real time. Afterwards, the video is saved on your Page as a video post. All of the engagement gained during the broadcast is saved to the post."),v=g._("You can only use this option if your selected series or season is in draft mode."),w=function(a){switch(a){case h.AD_BREAK_SUBMIT_FOR_REVIEW:return i.AD_BREAK_SUBMIT_FOR_REVIEW;case h.BACKDATE:return i.BACKDATE;case h.PREMIERE:return i.PREMIERE;case h.PUBLISH_NOW:return i.PUBLISH_NOW;case h.SAVE_DRAFT:return i.SAVE_AS_DRAFT;case h.SCHEDULE:return i.SCHEDULE;default:return null}};e.exports={fundedContentAllowedActionTypeTooltipText:t,invalidMessageExpireDate:q,invalidMessageScheduleDate:r,invalidMessagePostEndDate:s,isExpireDateValid:b,isPostEndDateValid:p,isScheduleDateValid:o,getDefaultExpireDate:d,getDefaultPostEndDate:f,getDefaultScheduleDate:n,getFooterButtonText:c,getFooterButtonTextRedesign:a,getPublishingTypeForAction:w,videoComposerPremiereOptionTooltipText:u,publishWithSeriesSeasonDisabledTooltipText:v}}),null);
__d("VideoComposerGameshowLightweightConstants",["VideoComposerDialogConstants"],(function(a,b,c,d,e,f){"use strict";a=450;c=b("VideoComposerDialogConstants").DIALOG_WIDTH-a;d=16;f=c-d*2;a=f/b("VideoComposerDialogConstants").SIXTEEN_NINE;c={PLAYER_WIDTH:f,PLAYER_HEIGHT:a};e.exports=c}),null);
__d("VideoComposerGameshowLightweightTypes",["ImmutableRecordWithV4Types","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("ImmutableRecordWithV4Types").Record;c=a({id:"",text:"",questions:b("immutable").List(),resultsReleaseTimestamp:0});d=a({id:"",text:"",options:b("immutable").List(),releaseTimestamp:0,timeoutSeconds:10});f=a({id:"",text:"",isCorrect:!1});e.exports={GameDataRecordFactory:c,QuestionDataRecordFactory:d,OptionDataRecordFactory:f}}),null);
__d("VideoComposerPollsConstants",["VideoComposerDialogConstants"],(function(a,b,c,d,e,f){"use strict";a=16;c=360;d=b("VideoComposerDialogConstants").DIALOG_WIDTH-c;f=d-2*a;c=f/b("VideoComposerDialogConstants").SIXTEEN_NINE;d={SECTION_PADDING:a,PLAYER_HEIGHT:c,PLAYER_WIDTH:f,INITIAL_POLL_DEFAULT_DURATION:30,MIN_POLL_DURATION:10,MIN_OPTIONS_COUNT:2,MAX_OPTIONS_COUNT:6,MAX_LIVE_OPTIONS_COUNT:4,MAX_QUESTION_LENGTH:80,MAX_OPTION_LENGTH:26,MAX_GK_OPTION_LENGTH:500,IMAGE_ATTACHMENT_HEIGHT:64,IMAGE_ATTACHMENT_WIDTH:64,AFTER_VOTE_TIMESTAMP:-1,NEVER_SHOW_TIMESTAMP:-2};e.exports=d}),null);
__d("VideoComposerPollsTypes",["ImmutableRecordWithV4Types","immutable","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("ImmutableRecordWithV4Types").Record;c=a({id:"",text:"",stickerID:"",imageURL:null,imageFile:null});d=a({id:"",isPersisted:!1,canChangePollType:!0,options:b("immutable").List(),questionText:"",startTime:"",endTime:"",showResults:!0,displayResultsTimestamp:void 0,votingClosedTimestamp:void 0,isAdBreakPoll:!1,pollType:void 0,optionType:"TEXT"});f=a({id:"",isPersisted:!1,questionText:"",emoji:"",startTime:"",endTime:""});a=b("keyMirror")({CLOSED:null,LIST_VIEW:null,ADDING_NEW_POLL:null,EDITING_POLL:null,ADDING_NEW_SLIDER:null,EDITING_SLIDER:null});e.exports={EditorState:a,PollDataRecordFactory:d,PollOptionDataRecordFactory:c,SliderDataRecordFactory:f}}),null);
__d("XVideoComposerBootloadEditPollsTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/edit/polls/",{video_id:{type:"FBID",required:!0}})}),null);
__d("VideoComposerPollsUtils",["fbt","ActorURI","AsyncRequest","React","VideoComposerPollsActions","VideoComposerPollsConstants","VideoComposerPollsTypes","XVideoComposerBootloadEditPollsTabController","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("VideoComposerPollsTypes").PollDataRecordFactory,i=b("VideoComposerPollsTypes").PollOptionDataRecordFactory,j=3600,k=g._("Start time must be in mm:ss format"),l=g._("Start time must be in hh:mm:ss format"),m=g._("End time must be in mm:ss format"),n=g._("End time must be in hh:mm:ss format"),o=g._("Start time must be before your video finishes"),p=g._("The end time can't be after your video finishes"),q=g._("Your poll must appear for at least {number of seconds} seconds",[g._param("number of seconds",b("VideoComposerPollsConstants").MIN_POLL_DURATION)]),r=g._("Poll times can't overlap. Only one poll can appear at a time.");a=g._("Polls");c=g._("Sliders");var s=function(a){__p&&__p();if(a===null||a===void 0)return"";a=Math.floor(a);var b="";for(var c=0;c<3;c++){var d=a%60;a=Math.floor(a/60);if(c===2&&d===0)break;d=(d<10?"0":"")+d;b=d+(c>0?":":"")+b}return b},t=function(a){a=a.trim();var b=0;a.split(":").forEach(function(a){b=b*60+ +a});return b},u=function(a){return!a.match(/^\d{1,2}(:\d{1,2}){0,2}$/)?!1:a.split(":").slice(-2).every(function(a){return+a<60})};d=function(a){return s(t(a))};f=function(a,c,d,e){__p&&__p();e&&(e=Math.ceil(e));var f=a.startTime,g=a.endTime,h=null,i=null,s=null,v=0,w=0,x=u(f),y=u(g);x||(h=e&&e<j?k:l);y||(i=e&&e<j?m:n);h||(v=t(f),e&&v>=e&&(h=o));i||(w=t(g),e&&w>e&&(i=p));!h&&!i&&(w-v<b("VideoComposerPollsConstants").MIN_POLL_DURATION&&(s=q));if(!h&&!i){x=!1;y=c.concat(d);y.forEach(function(b){if(b.id===a.id)return;if(t(b.startTime)>=w||t(b.endTime)<=v)return;x=!0});x&&(s=r)}return{commonError:s,startTimeError:h,endTimeError:i}};g=function(a,c){var d=b("XVideoComposerBootloadEditPollsTabController").getURIBuilder().setFBID("video_id",c.videoID).getURI();d=b("ActorURI").create(d,c.common.actorID);return new(b("AsyncRequest"))().setURI(d).exec().then(function(c){return b("VideoComposerPollsActions").bootloadTabForEdit(a,c.payload)})};var v=function(a){var c=a.options.filter(function(a){return!!a.text.trim()}).size<b("VideoComposerPollsConstants").MIN_OPTIONS_COUNT,d=a.options.filter(function(a){return!!a.stickerID.trim()}).size<b("VideoComposerPollsConstants").MIN_OPTIONS_COUNT;return!a.questionText.trim()||c&&d},w=function(a){return h({id:a.id,isPersisted:!0,questionText:a.questionText,options:b("immutable").List(a.options.map(function(a){return i({id:a.id,text:a.text,imageURL:a.imageURL})})),startTime:s(a.startTime),endTime:s(a.endTime),showResults:a.showResults,displayResultsTimestamp:a.displayResultsTimestamp,votingClosedTimestamp:a.votingClosedTimestamp,isAdBreakPoll:a.isAdBreakPoll,pollType:a.pollType})},x=function(a,b,c,d){a=a.toArray().map(function(a){return{timestamp:t(a.startTime),node:c(a)}});b=b.toArray().map(function(a){return{timestamp:t(a.startTime),node:d(a)}});a=a.concat(b);return a.sort(function(a,b){return a.timestamp>b.timestamp?1:-1}).map(function(a){return a.node})};e.exports={isValidTimeString:u,fetchEditPostData:g,format:d,mapPersistedPollToLocalPoll:w,secondsToTimeString:s,timeStringToSeconds:t,validateDraftInteractionTimeWindow:f,arePollQuestionAndOptionsInvalid:v,renderInteractiveComponentListItems:x,POLLS_SECTION_TITLE:a,SLIDERS_SECTION_TITLE:c,RANGE_OVERLAP_ERROR:r}}),null);
__d("VideoComposerGameshowLightweightUtils",["fbt","VideoComposerGameshowLightweightTypes","VideoComposerPollsUtils","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("VideoComposerGameshowLightweightTypes").GameDataRecordFactory,i=b("VideoComposerGameshowLightweightTypes").OptionDataRecordFactory,j=b("VideoComposerGameshowLightweightTypes").QuestionDataRecordFactory,k=15,l=1e3;a=function(a,c){__p&&__p();var d=m(a);if(!d.isEmpty())return d;d=n(a);if(!d.isEmpty())return d;d=o(a,c);c=p(a,d);if(!c.isEmpty())return c;d=r(a);return d!==null&&d!==void 0?b("immutable").Map().set("results",d):b("immutable").Map()};var m=function(a){__p&&__p();var c=b("immutable").Map();for(var d=a.keys(),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;var i=a.get(h);i=b("VideoComposerPollsUtils").isValidTimeString(i);i||(c=c.set(h,g._("Start time must be in mm:ss or hh:mm:ss format")))}return c},n=function(a){__p&&__p();var c=b("immutable").Map();for(var d=a.keys(),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;var i=a.get(h);i=b("VideoComposerPollsUtils").timeStringToSeconds(i);i===0&&(c=c.set(h,g._("Cards cannot be scheduled to appear at the very beginning of the video")))}return c},o=function(a,c){__p&&__p();if(c===null||c===void 0)return b("immutable").Map();var d=b("immutable").Map();for(var e=a.keys(),f=Array.isArray(e),h=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(f){if(h>=e.length)break;i=e[h++]}else{h=e.next();if(h.done)break;i=h.value}i=i;var j=b("VideoComposerPollsUtils").timeStringToSeconds(a.get(i)),l=j+k;l>c&&(d=d.set(i,g._("Cards can't be shown after the video ends. The video ends at {video end time}. This card is scheduled to appear from {release time for this card} to {end time for this card}.",[g._param("video end time",b("VideoComposerPollsUtils").secondsToTimeString(c)),g._param("release time for this card",b("VideoComposerPollsUtils").secondsToTimeString(j)),g._param("end time for this card",b("VideoComposerPollsUtils").secondsToTimeString(l))])))}return d},p=function(a,b){__p&&__p();a=s(a);a.sort(function(a,b){return a.timestamp-b.timestamp});var c=b;for(var d=1;d<a.length;d++){if(b.has(a[d-1].id)||b.has(a[d].id))continue;var e=a[d-1].timestamp+k;a[d].timestamp<e&&(c=c.set(a[d].id,q(a[d].timestampString,a[d].timestamp)).set(a[d-1].id,q(a[d-1].timestampString,a[d-1].timestamp)))}return c},q=function(a,c){c=b("VideoComposerPollsUtils").secondsToTimeString(c+k);return g._("Card times can't overlap. This card is scheduled to appear from {start timestamp string} to {end timestamp string}.",[g._param("start timestamp string",a),g._param("end timestamp string",c)])},r=function(a){a=s(a);a.sort(function(a,b){return a.timestamp-b.timestamp});return a[a.length-1].id==="results"?null:g._("The results card must be shown after all the questions.")},s=function(a){__p&&__p();var c=[];for(var d=a.keys(),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var h=a.get(g),i=b("VideoComposerPollsUtils").timeStringToSeconds(h);c.push({timestamp:i,id:g,timestampString:h})}return c};c=function(a){return b("VideoComposerPollsUtils").secondsToTimeString(a/l)};d=function(a){return b("VideoComposerPollsUtils").timeStringToSeconds(a)*l};f=function(a){return h({id:a.id,text:a.text,questions:b("immutable").List(a.questions.map(function(a){return j({id:a.id,text:a.text,options:b("immutable").List(a.options.map(function(a){return i({id:a.id,text:a.text,isCorrect:a.isCorrect})})),releaseTimestamp:a.releaseTimestamp,timeoutSeconds:a.timeoutSeconds})})),resultsReleaseTimestamp:a.resultsReleaseTimestamp})};e.exports={checkForTimestampErrors:a,millisecondsToTimeString:c,timeStringToMilliseconds:d,mapGameDataPayloadToGameDataRecord:f}}),null);
__d("LiveVideoBroadcastStickerPollOptionContainer.react",["cx","fbt","FDSText.react","Image.react","React","RelayFBEnvironment","RelayModern","LiveVideoBroadcastStickerPollOptionContainerQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var j=function(){return b("LiveVideoBroadcastStickerPollOptionContainerQuery.graphql")};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){var c=a.error;a=a.props;if(c)return b("React").createElement("div",null,b("React").createElement(b("FDSText.react"),{weight:"bold"},h._("We are unable to this sticker option at this time. Please try again.")));if(!a||!a.node)return null;c=a.node;a=c.animated_image?c.animated_image.uri:c.url;return b("React").createElement("div",{className:"_85g-"},b("React").createElement(b("Image.react"),{className:"_8571",src:a}))};d.render=function(){var a={sticker_id:this.props.stickerID};return b("React").createElement(i,{environment:b("RelayFBEnvironment"),query:j,render:this.$1,variables:a})};return c}(b("React").Component);e.exports=a}),null);
__d("VideoComposerPollsShowResultsState",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SHOW_RESULTS_AFTER_VOTE:"show_results_after_vote",SHOW_RESULTS_SCHEDULE:"show_results_schedule",SHOW_RESULTS_NEVER:"show_results_never"})}),null);
__d("VideoPollsOptionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TEXT:"TEXT",STICKER:"STICKER"})}),null);
__d("VideoComposerQuestionsConstants",["VideoComposerDialogConstants"],(function(a,b,c,d,e,f){"use strict";a=16;c=360;d=b("VideoComposerDialogConstants").DIALOG_WIDTH-c;f=d-2*a;c=f/b("VideoComposerDialogConstants").SIXTEEN_NINE;d={SECTION_PADDING:a,PLAYER_HEIGHT:c,PLAYER_WIDTH:f,INITIAL_QUESTION_DEFAULT_DURATION:30,MIN_QUESTION_DURATION:10};e.exports=d}),null);
__d("SphericalDirectorComponentSources",["keyMirror"],(function(a,b,c,d,e,f){a=b("keyMirror")({CROSSPOST_DIALOG_V1:"",CROSSPOST_DIALOG_V2:"",EDIT_DIALOG_V1:"",EDIT_DIALOG_V2:"",PAGE_COMPOSER_V1:"",PAGE_COMPOSER_V2:"",STANDALONE:"",UNKNOWN:""});e.exports=a}),null);
__d("FileVideoThumbnail",["Promise","DOM","VideoThumbnail","canvasToBlob","promiseDone"],(function(a,b,c,d,e,f){__p&&__p();var g=a.URL||a.webkitURL||{};c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,null)||this;c.$FileVideoThumbnail1=b;return c}var d=c.prototype;d.getURL=function(){this.$FileVideoThumbnail2||(this.$FileVideoThumbnail2=g.createObjectURL(this.$FileVideoThumbnail1));return this.$FileVideoThumbnail2};d.getData=function(){return b("Promise").resolve(this.$FileVideoThumbnail1)};d.getFile=function(){return this.$FileVideoThumbnail1};d.getDataWithText=function(a,c,d,e,f,g,h,i,j,k){var l=this,m=b("DOM").create("canvas"),n=m.getContext("2d");m.width=a;m.height=c;return new(b("Promise"))(function(a,c){var o=new Image();o.onload=function(){n.drawImage(o,0,0,m.width,m.height),n=b("VideoThumbnail").addTextToCanvasContext(n,d,e,f,g,h,i,j,k),b("promiseDone")(b("canvasToBlob")(m,"image/jpeg").then(a,c))};o.src=l.$FileVideoThumbnail2})};return c}(b("VideoThumbnail"));e.exports=c}),null);
__d("VideoComposerThumbnailTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({GENERATED:"",CUSTOM:"",VIDEO_FRAME:""});e.exports={ThumbnailSection:a}}),null);
__d("XPagesVideoListsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/video_lists/",{page_id:{type:"FBID",required:!0}})}),null);
__d("XVideoComposerBootloadDefaultTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/bootload_default/",{target_id:{type:"FBID",required:!0},video_composer_id:{type:"String",defaultValue:""}})}),null);
__d("XVideoComposerCrosspostBootloadDefaultController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/crosspost/bootload_default/",{video_asset_id:{type:"FBID",required:!0},source_video_id:{type:"FBID"},video_composer_id:{type:"String",defaultValue:""}})}),null);
__d("XVideoComposerEditDefaultTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/edit/default/",{video_id:{type:"FBID",required:!0},video_composer_id:{type:"String",defaultValue:""}})}),null);
__d("VideoComposerDialogBasicUtils",["Promise","ActorURI","AsyncRequest","EditorState","MentionsInputUtility","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","SearchableEntry","VideoComposerBasicActions","VideoComposerSphericalDirectorActions","VideoComposerTaggingUtils","XPagesVideoListsController","XVideoComposerBootloadDefaultTabController","XVideoComposerCrosspostBootloadDefaultController","XVideoComposerEditDefaultTabController","getMentionsInputDecorator","isEmpty"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a,c){var d=b("XVideoComposerBootloadDefaultTabController").getURIBuilder().setFBID("target_id",c).setString("video_composer_id",a).getURI();d=b("ActorURI").create(d,c);d=[new(b("AsyncRequest"))(d).exec(),b("VideoComposerTaggingUtils").getSuggestedContentTags(c).then(function(c){b("VideoComposerBasicActions").updateHistoryTags(a,c.history),b("VideoComposerBasicActions").updateSuggestedTags(a,c.suggested)}),b("VideoComposerTaggingUtils").getBrowseTags(a).then(function(c){b("VideoComposerBasicActions").updateBrowseTags(a,c)}),h(c,a)];return b("Promise").all(d)};c=function(a,c){var d=b("XVideoComposerEditDefaultTabController").getURIBuilder().setFBID("video_id",c.videoID).setString("video_composer_id",a).getURI();d=b("ActorURI").create(d,c.common.actorID);d=[new(b("AsyncRequest"))(d).exec(),b("VideoComposerTaggingUtils").getSuggestedContentTags(c.common.actorID).then(function(c){b("VideoComposerBasicActions").updateHistoryTags(a,c.history),b("VideoComposerBasicActions").updateSuggestedTags(a,c.suggested)}),b("VideoComposerTaggingUtils").getBrowseTags(a).then(function(c){b("VideoComposerBasicActions").updateBrowseTags(a,c)})];return b("Promise").all(d)};d=function(a,c,d,e){d=b("XVideoComposerCrosspostBootloadDefaultController").getURIBuilder().setFBID("video_asset_id",d).setFBID("source_video_id",e).setString("video_composer_id",a).getURI();e=b("ActorURI").create(d,c);d=[new(b("AsyncRequest"))(e).exec(),b("VideoComposerTaggingUtils").getSuggestedContentTags(c).then(function(c){b("VideoComposerBasicActions").updateHistoryTags(a,c.history),b("VideoComposerBasicActions").updateSuggestedTags(a,c.suggested)}),b("VideoComposerTaggingUtils").getBrowseTags(a).then(function(c){b("VideoComposerBasicActions").updateBrowseTags(a,c)})];return b("Promise").all(d)};f=function(a,c){b("VideoComposerBasicActions").changeGame(a,c)};var g=function(a,c){return c&&!b("isEmpty")(c)?a.concat(c.map(function(a){return new(b("SearchableEntry"))({uniqueID:a,title:a,auxiliaryData:{isFreeForm:!0}})})):a},h=function(a,c){var d=b("XPagesVideoListsController").getURIBuilder().setFBID("page_id",a).getURI();return new(b("Promise"))(function(a,e){new(b("AsyncRequest"))(d).setHandler(function(d){var e=d.payload.seasonOptions||{},f=d.payload.playlistOptions||{};b("VideoComposerBasicActions").updateVideoListOptions(c,f,e);a(d)}).setErrorHandler(function(a){e(a)}).send()})},i=function(a){return a.length<=0?[]:a.filter(function(a){return!a.getAuxiliaryData().isFreeForm}).map(function(a){return a.getUniqueID()})},j=function(a){__p&&__p();var c={},d=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").PEOPLE)||[];d=d.map(function(a){return a.getUniqueID()});Object.assign(c,{tags:d});d=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").LOCATION)||{};d=d?d.place:{};var e=d?d.getUniqueID():null;d=d&&!d.getUniqueID()?d.getTitle():null;e?Object.assign(c,{place_id:e}):d&&Object.assign(c,{place_name:d});e=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").BACKDATE);e.year&&Object.assign(c,{backtime_year:e.year});e.month&&Object.assign(c,{backtime_month:e.month});e.day&&Object.assign(c,{backtime_day:e.day});e.hour&&Object.assign(c,{backtime_hour:e.hour});e.minute&&Object.assign(c,{backtime_minute:e.minute});d=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").SPONSOR)||{};var f={directShareStatus:d.directShareStatus,sponsorRelationship:d.sponsorRelationship,sponsors:[]};(d.sponsors||[]).map(function(a){f.sponsors.push(a.getUniqueID())});f&&f.sponsors&&Object.assign(c,{sponsor_tags:f.sponsors,direct_share_status:f.directShareStatus,sponsor_relationship:f.sponsorRelationship});e=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").PRODUCT)||[];d=e.map(function(a){return a.getUniqueID()});d&&Object.assign(c,{product_tags:d});e=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").SUPPORT_NOW);e&&Object.assign(c,{has_support_now_cta:e.hasSupportNowCTA,fan_funding_promotion_payload:e.fanFundingPromotionPayload});Object.assign(c,{external_movie_data:b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").GET_SHOWTIMES)});return c},k=function(a){a=b("MentionsInputUtility").createFromTextWithMentions(a,b("getMentionsInputDecorator")());b("EditorState").moveFocusToEnd(a);return a},l=function(a){return a.length<=0?[]:a.filter(function(a){return a.getAuxiliaryData().isFreeForm}).map(function(a){return a.getUniqueID()})},m=function(a,c,d,e,f,g,h,i){b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(a,b("ReactComposerTaggerType").PEOPLE,c),d=d?new(b("SearchableEntry"))(d):null,d=d?{place:d,implicitLocation:{}}:null,d&&b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(a,b("ReactComposerTaggerType").LOCATION,d),e&&b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(a,b("ReactComposerTaggerType").BACKDATE,e),f&&b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(a,b("ReactComposerTaggerType").SPONSOR,f),g&&b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(a,b("ReactComposerTaggerType").PRODUCT,g),i&&b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(a,b("ReactComposerTaggerType").SUPPORT_NOW,{hasSupportNowCTA:i})},n=function(a,c,d){__p&&__p();for(var d=d,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(c,g,b("ReactComposerTaggerStore").getTaggerData(a,g))}};e.exports={beginBootloadingDefaultTab:a,beginBootloadingCrosspostDefaultTab:d,bootloadDefaultTab:function(a){b("VideoComposerBasicActions").bootloadDefaultTabParameters(a.videoComposerID,a),b("VideoComposerSphericalDirectorActions").bootloadSphericalContextConfig(a.videoComposerID,a.composerConfig.contextConfig)},bootloadCrosspostDefaultTab:function(a){b("VideoComposerBasicActions").bootloadCrosspostDefaultTabParameters(a.videoComposerID,a)},bootloadDefaultEditParams:function(a){b("VideoComposerBasicActions").bootloadDefaultEditParameters(a.videoComposerID,a)},changeGame:f,convertVideoTagsToEntryArray:g,beginBootloadingEditDefaultTab:c,fetchVideoListOptions:function(a,b){h(a,b)},getComposerTaggerData:j,getContentTagEntryIDs:i,getEditorStateForText:k,getFreeFormContentTags:l,setComposerTaggerData:m,setComposerTaggerDataFromOriginalComposer:n}}),null);
__d("XVideoComposerBootloadDistributionTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/bootload_distribution_tab/",{composer_entry_point:{type:"Enum",enumType:1}})}),null);
__d("XVideoComposerBootloadEditDistributionTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/edit/distribution/",{video_id:{type:"FBID",required:!0}})}),null);
__d("XVideoComposerCrosspostBootloadDistributionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/crosspost/bootload_distribution/",{})}),null);
__d("VideoComposerDialogDistributionUtils",["ActorURI","AsyncRequest","ComposerEntryPointRef","DestinationPickerEligibilityConfig","PagesComposerEligibilityUtils","VideoComposerDialogMode","VideoComposerDialogShowVideo","VideoComposerDistributionActions","VideoComposerPublishingTypes","XVideoComposerBootloadDistributionTabController","XVideoComposerBootloadEditDistributionTabController","XVideoComposerCrosspostBootloadDistributionController","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("VideoComposerPublishingTypes").PublishingType;a=function(a,c,d){d=b("XVideoComposerBootloadDistributionTabController").getURIBuilder().setEnum("composer_entry_point",d).getURI();d=b("ActorURI").create(d,c);return new(b("AsyncRequest"))().setReplaceTransportMarkers().setURI(d).exec().then(function(c){return b("VideoComposerDistributionActions").bootloadTab(a,c.payload)})};c=function(a,c,d){d=b("XVideoComposerBootloadEditDistributionTabController").getURIBuilder().setFBID("video_id",d).getURI();d=b("ActorURI").create(d,c);return new(b("AsyncRequest"))().setReplaceTransportMarkers().setURI(d).exec().then(function(c){b("VideoComposerDistributionActions").bootloadTabForEdit(a,c.payload)})};d=function(a,c){var d=b("XVideoComposerCrosspostBootloadDistributionController").getURIBuilder().getURI();d=b("ActorURI").create(d,c);return new(b("AsyncRequest"))().setURI(d).exec().then(function(c){return b("VideoComposerDistributionActions").bootloadTabForCrosspost(a,c.payload)})};f=function(a,c,d,e){a=(a=a)!=null?(a=a.contextConfig)!=null?a.composerID:a:a;var f=!1;a&&c&&(f=b("PagesComposerEligibilityUtils").isPageStoryCreateEligible(a,c));a=!b("DestinationPickerEligibilityConfig").isVideoLengthLimited||d>0&&d<=b("DestinationPickerEligibilityConfig").maxVideoLengthInSeconds;c=e===g.PUBLISH_NOW;return f&&a&&c};var h=function(a,c,d,e,f){var g=b("gkx")("810431")&&!e;if(!g&&f||!f&&g)return!1;return d===b("ComposerEntryPointRef").PAGE_CONTENT_TAB_PLAYLIST_DETAILS||a!==b("VideoComposerDialogMode").VIDEO_CROSSPOST&&!e?!0:a===b("VideoComposerDialogMode").VIDEO_EDIT&&(c===b("VideoComposerDialogShowVideo").BASIC_VIDEO||c===b("VideoComposerDialogShowVideo").EPISODE||c===b("VideoComposerDialogShowVideo").RECAP)};e.exports={beginBootloadingDistributionTab:a,bootloadEditDistributionTab:c,bootloadCrosspostDistributionTab:d,enableAddToStoriesOption:f,shouldShowPlaylistSelector:h}}),null);
__d("XVideoComposerBootloadRightsTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/bootload_rights/",{target_id:{type:"FBID",required:!0}})}),null);
__d("XVideoComposerEditRightsTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/edit/rights/",{actor_id:{type:"FBID",required:!0},video_id:{type:"FBID",required:!0},video_composer_id:{type:"String",defaultValue:""}})}),null);
__d("VideoComposerDialogRightsUtils",["Promise","ActorURI","AsyncRequest","VideoComposerRightsActions","XVideoComposerBootloadRightsTabController","XVideoComposerEditRightsTabController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a,c){var d=b("XVideoComposerBootloadRightsTabController").getURIBuilder().setFBID("target_id",c).getURI(),e=b("ActorURI").create(d,c);return new(b("Promise"))(function(c,d){new(b("AsyncRequest"))(e).setHandler(function(d){b("VideoComposerRightsActions").bootloadParameters(a,d.payload),c(d)}).setErrorHandler(function(a){d(a)}).send()})};c=function(a){b("VideoComposerRightsActions").bootloadEditParameters(a.videoComposerID,a)};d=function(a,c){a=b("XVideoComposerEditRightsTabController").getURIBuilder().setString("video_composer_id",a).setFBID("actor_id",c.common.actorID).setFBID("video_id",c.videoID).getURI();var d=b("ActorURI").create(a,c.common.actorID);return new(b("Promise"))(function(a,c){new(b("AsyncRequest"))(d).setHandler(function(b){a(b)}).send()})};e.exports={beginBootloadingRightsTab:a,bootloadEditParams:c,fetchEditParams:d}}),null);
__d("XVideoComposerEditTrackingTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/edit/tracking/",{video_id:{type:"FBID",required:!0}})}),null);
__d("VideoComposerDialogTrackingUtils",["ActorURI","AsyncRequest","VideoComposerTrackingActions","WebAsyncSearchSource","XVideoComposerEditTrackingTabController","XVideoCustomLabelsTypeaheadController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a,c){var d=b("XVideoComposerEditTrackingTabController").getURIBuilder().setFBID("video_id",c.videoID).getURI();d=b("ActorURI").create(d,c.common.actorID);return new(b("AsyncRequest"))().setURI(d).exec().then(function(c){b("VideoComposerTrackingActions").bootloadTrackingEditParams(a,c.payload)})};c=function(a){a=b("XVideoCustomLabelsTypeaheadController").getURIBuilder().setFBID("profile_id",a).getURI();return new(b("WebAsyncSearchSource"))({bootstrapRequests:[{uri:a}],getAllForEmptyQuery:!0})};e.exports={beginBootloadingEditTrackingTab:a,loadCustomLabelsSearchSource:c}}),null);
__d("WoodhengeAudienceType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ANYONE:"ANYONE",ALL_SUPPORTERS:"ALL_SUPPORTERS"})}),null);
__d("VideoComposerPremiereAudienceSelector.react",["ix","cx","fbt","FDSText.react","Image.react","React","Tooltip.react","WoodhengeAudienceType","XUIRadioList.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("XUIRadioList.react").Item;function a(a){return b("React").createElement("div",null,b("React").createElement("div",{className:"_6-x3"},b("React").createElement(b("FDSText.react"),{color:"placeholder",size:"body3",weight:"bold"},i._("Who Can Watch Your Premiere"),b("React").createElement(b("Tooltip.react"),{position:"above",tooltip:i._("Select the audience you want to watch your premiere. After the premiere ends, the video will be made public.")},b("React").createElement(b("Image.react"),{className:"_52vx",src:g("479819")})))),b("React").createElement(b("XUIRadioList.react"),{onValueChange:a.onUpdatePremiereAudience,selectedValue:a.premiereAudience!=null&&a.premiereAudience!==""?a.premiereAudience:b("WoodhengeAudienceType").ANYONE},b("React").createElement(j,{value:b("WoodhengeAudienceType").ANYONE},b("React").createElement(b("FDSText.react"),{color:"placeholder",size:"body3",weight:"bold"},i._("Anyone")),b("React").createElement("div",null,b("React").createElement(b("FDSText.react"),{color:"placeholder",size:"meta1",weight:"normal"},i._("Anyone on or off Facebook can watch your premiere.")))),b("React").createElement(j,{value:b("WoodhengeAudienceType").ALL_SUPPORTERS},b("React").createElement(b("FDSText.react"),{color:"placeholder",size:"body3",weight:"bold"},i._("Supporters")),b("React").createElement("div",null,b("React").createElement(b("FDSText.react"),{color:"placeholder",size:"meta1",weight:"normal"},i._("Only supporters can watch this premiere."))))))}e.exports=a}),null);
__d("videoComposerDialogUploadRenderUploadErrorMessage",["FlexLayout.react","HTML","React","ServerHTML.react"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("HTML").isHTML(a.error_summary)?b("React").createElement(b("ServerHTML.react"),{blob:a.error_summary}):a.error_summary;a=b("HTML").isHTML(a.error_description)?b("React").createElement(b("ServerHTML.react"),{blob:a.error_description}):a.error_description;return b("React").createElement(b("FlexLayout.react"),{direction:"vertical",align:"start"},b("React").createElement("div",null,c),b("React").createElement("div",null,a))}e.exports=a}),null);
__d("videoComposerDialogUploadGetPercentDisplayed",["React"],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a>=100&&!b?99.9:b?100:a}e.exports=a}),null);
__d("BusinessAdBreakOnboardingEntryPoint",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AD_BREAK_PORTAL:"ad_break_portal",COMPOSER:"composer",PUB_TOOLS:"pub_tools"})}),null);
__d("EnrolledAdBreakSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BUSINESS_MANAGER:"business_manager",BM_PUB_TOOLS:"bm_pub_tools",CREATOR_HUB_BUSINESS:"creator_hub_business",CREATOR_HUB_PAGE:"creator_hub_page",NOT_ONBOARDED:"not_onboarded",PAGE_LEVEL:"page_level",CREATE_SHOW:"create_show",LAUNCHPAD:"launchpad",OPEN_PROGRAM:"open_program",GAMES_STREAMER_DASHBOARD:"games_streamer_dashboard"})}),null);
__d("XAdBreakOnboardingSurfaceRoutingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ad_breaks/get_started/",{page_id:{type:"FBID",required:!0},entrypoint:{type:"Enum",enumType:1},aymt_channel:{type:"String"}})}),null);
__d("XAdBreakPortalUpdatePageEligibilityController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ad_break_portal/update_page_eligibility/",{page_id:{type:"FBID",required:!0},is_enabled:{type:"Bool",defaultValue:!1},business_id:{type:"FBID"},is_page_searched:{type:"Bool",defaultValue:!1},onboarding_entry_point:{type:"Enum",required:!0,enumType:1}})}),null);
__d("VideoComposerDialogAdBreakVideoPlayerController",["SubscriptionsHandler","VideoPlayerReason","VideoPlayerReasonTransitionHelper","nullthrows","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=7,h=1;a=function(){__p&&__p();function a(){this.$2=null,this.$3=null,this.$4=new(b("SubscriptionsHandler"))(),this.$1=[]}var c=a.prototype;c.updateStartEndTime=function(a,b){this.$5=a,this.$6=b};c.updateVPC=function(a){__p&&__p();var c=this;if(this.$7===a)return;this.$4.release();if(!a)return;this.$7=a;this.$6===null&&(this.$6=0);this.$5===null&&(this.$5=this.$7.getPlaybackDuration());this.$4=new(b("SubscriptionsHandler"))();this.$4.addSubscriptions(a.addListener("commercialBreak/vodBreakStarting",function(){c.$8(c.$9())}),a.addListener("playRequested",function(a){a===b("VideoPlayerReason").COMMERCIAL_BREAK&&c.$8(null)}),a.addListener("updateStatus",function(){if(c.$7){var a=c.$7?c.$7.getCurrentTimePosition():0;c.$2&&b("nullthrows")(c.$2)(c.videoComposerID,a-Number(c.$6))}}))};c.updateInsertedAdBreaks=function(a){this.$1=a};c.updateCallbacks=function(a,b){this.$2=a,this.$3=b};c.unmount=function(){var a=this;b("setTimeout")(function(){return a.$8(null)},0);this.$4.release();this.$7=null;this.videoComposerID=""};c.seek=function(a,b){this.$7&&this.$7.seek(a+Number(this.$6)),b&&this.pause()};c.play=function(){this.$7&&this.$7.play(new(b("VideoPlayerReasonTransitionHelper"))(b("VideoPlayerReason").AUTOPLAY))};c.pause=function(){this.$7&&this.$7.pause()};c.startAdBreakPreview=function(a){this.seek(this.$1[a].timeOffset-g,!1),this.play()};c.stopAdBreakPreview=function(){this.$3&&this.$3(this.videoComposerID,null);if(this.$7){var a=this.$7.getOption("VideoWithCommercialBreak","controller");a.leaveAdBreak()}};c.setVideoComposerID=function(a){this.videoComposerID=a};c.$8=function(a){this.$3&&this.$3(this.videoComposerID,a)};c.$9=function(){var a=this.$7?this.$7.getCurrentTimePosition():0;for(var b=0;b<this.$1.length;b++){var c=this.$1[b].timeOffset;if(a>=c-g&&a<=c+h)return b}return null};return a}();e.exports=new a()}),null);
__d("VideoComposerDialogAdBreaksTabUtils",["cx","fbt","AdBreakInsertionDisabledReason","AdBreakStatus","Link.react","React","ShorterContentMonetizationContent","VideoComposerDialogAdBreakUtils","VideoInstreamAdsConstants","VideoInstreamUtils"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ShorterContentMonetizationContent").adBreaksTabDisabledContentOverride,j=b("ShorterContentMonetizationContent").adBreaksTabEnabledContentOverride,k=b("VideoComposerDialogAdBreakUtils").canShortVideoUseImageAds;a="https://www.facebook.com/help/publisher/675872946104381";var l=h._("You can include ads in this video because it's at least 3 minutes long."),m=b("React").createElement("div",null,h._("Ads can only be included in videos that are at least 3 minutes long.")," ",b("React").createElement(b("Link.react"),{href:a,style:{color:"#606770"},target:"_blank"},h._("Learn more."))),n=h._("Ad breaks have been disabled for this video."),o=h._("Earn money when people watch your videos."),p=b("React").createElement("div",{className:"_6er9"},h._("ON")),q=b("React").createElement("div",{className:"_6era"},h._("OFF"));c=function(a,c,d,e,f,g,r,s,t,u,v,w,x){__p&&__p();if(a)return{disabled:!1,tabDescription:w?i:l,tabTooltip:null,badgeStatus:null};if(e==null)return{disabled:!0,tabDescription:n,tabTooltip:null,badgeStatus:null};a=new Set(c);c=b("VideoInstreamUtils").getMaxPossibleAdBreaks(e,g);g=k(w,e);f&&a.add(b("AdBreakInsertionDisabledReason").BRANDED_CONTENT);if(t&&(a.size===1&&a.has(b("AdBreakInsertionDisabledReason").NOT_ONBOARDED)))return{disabled:u===null,tabDescription:o,tabTooltip:null,badgeStatus:q};c===0&&(v?a.add(b("AdBreakInsertionDisabledReason").TRIMMED_VIDEO_TOO_SHORT):a.add(b("AdBreakInsertionDisabledReason").VIDEO_TOO_SHORT));if(a.has(b("AdBreakInsertionDisabledReason").NOT_ORGANIC_UPLOAD))return{disabled:!0,tabDescription:n,tabTooltip:h._("Ad breaks can only be placed in original videos, not crossposted or reshared videos."),badgeStatus:q};if(a.has(b("AdBreakInsertionDisabledReason").BRANDED_CONTENT))return{disabled:!0,tabDescription:n,tabTooltip:h._("Ad breaks not available. Ad breaks can't be used in this video because it contains tagged business partners."),badgeStatus:q};if(a.has(b("AdBreakInsertionDisabledReason").BROADCAST))return{disabled:!0,tabDescription:n,tabTooltip:h._("Live videos are not eligible for ad breaks, even if they are no longer live."),badgeStatus:q};if(a.has(b("AdBreakInsertionDisabledReason").ASSET_NOT_OWNED_BY_PAGE)||a.has(b("AdBreakInsertionDisabledReason").UNOWNED_ASSET_CROSSPOST))return{disabled:!0,tabDescription:n,tabTooltip:h._("You can only modify ad breaks in videos that belong to Pages you manage."),badgeStatus:q};if(a.has(b("AdBreakInsertionDisabledReason").TRIMMED_VIDEO_TOO_SHORT))return g?{disabled:!1,tabDescription:x?j:i,tabTooltip:null,badgeStatus:x?p:q}:{disabled:!0,tabDescription:w?i:m,tabTooltip:w?null:h._("Videos must be {insertion interval} seconds or longer. Your trimmed video is too short for ad breaks.",[h._param("insertion interval",b("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH)]),badgeStatus:q};if(a.has(b("AdBreakInsertionDisabledReason").VIDEO_TOO_SHORT))return g?{disabled:!1,tabDescription:x?j:i,tabTooltip:null,badgeStatus:x?p:q}:{disabled:!0,tabDescription:w?i:m,tabTooltip:w?null:h._("Videos must be {insertion interval} seconds or longer. Your video is too short to include ad breaks.",[h._param("insertion interval",b("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH)]),badgeStatus:q};if(a.size>0)return{disabled:!0,tabDescription:n,tabTooltip:null,badgeStatus:q};e=d.filter(function(a){return a.status===b("AdBreakStatus").ENABLED});return e.length>0||r&&!s?{disabled:!1,tabDescription:w?j:h._("Ad breaks are turned on and this video meets the requirement of being at least 3 minutes long."),tabTooltip:null,badgeStatus:p}:{disabled:!1,tabDescription:w?i:l,tabTooltip:null,badgeStatus:q}};e.exports={getTabState:c}}),null);
__d("XMessengerMonetizationSmartSendMessageCTAController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/messenger_monetization/smart_send_message_cta/",{auto_select:{type:"Bool",defaultValue:!1}})}),null);
__d("BrandedContentTaggerNuxAction",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({LOG_VIEW:"log_view",DISMISS:"dismiss"})}),null);
__d("SponsorTagsOptInOptions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({QUERY_STATUS:"query_status",OPT_IN:"opt_in",OPT_OUT:"opt_out"})}),null);
__d("XSponsorTagsOptInController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/branded_content/optin/",{profile_id:{type:"Int"},option:{type:"String"}})}),null);
__d("XBrandedContentTaggerNuxController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/branded_content/tagger/nux/",{action:{type:"Enum",required:!0,enumType:1}})}),null);
__d("BrandedContentSponsorRelationshipForAdsAPI",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PAID_PARTNERSHIP_WITH:1,PRESENTED_BY:2})}),null);
__d("EntPageOrganicTargetingType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NEWS_FEED_TARGETING:"NewsFeedTargeting",PREFERRED_AUDIENCE_TARGETING:"PreferredAudienceTargeting"})}),null);
__d("XPagesGetTargetingMetadataController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/targeting/metadata/",{})}),null);
__d("XPageOrganicTargetingSettingAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/organictargetingsetting/set/",{})}),null);
__d("XReactComposerTargetingTaggerNuxController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/edit/targeting_tagger_nux/",{})}),null);
__d("VideoComposerDialogBasicVideoController",["SubscriptionsHandler","VideoComposerBasicActions","VideoPlayerReason"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1=new(b("SubscriptionsHandler"))()}var c=a.prototype;c.updateVPC=function(a,c){if(this.$2===c)return;this.$1.release();if(!c)return;this.$2=c;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(c.addListener("playRequested",function(c){c===b("VideoPlayerReason").USER&&b("VideoComposerBasicActions").userPlayedVideoPreview(a)}))};c.unmount=function(){this.$1.release(),this.$2=null};return a}();e.exports=new a()}),null);
__d("UnpublishedContentTypeJSConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PUBLISHED:0,SCHEDULED:1,DRAFT:2,ADS_POST:3,GLOBAL_CONTENT:4,PREVIEW:5,INLINE_CREATED:6,VALIDATION:7,LOCATION:8,INSTANT_ARTICLE:9,TAROT_DIGEST:10,BOOST_CANDIDATE:11,REVIEWABLE_BRANDED_CONTENT:12,WOODHENGE:13,AD_BREAK_PREREVIEW:14,BCMP_DEAL_DRAFT_POST:15})}),null);
__d("VideoFundedContentFlagProgram",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNSET:0,IS_FUNDED_CONTENT:1,NOT_FUNDED_CONTENT:2})}),null);
__d("ShowVideoListDialogEntryPoint",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PAGE_CONTENT_TAB:"page_content_tab",VIDEO_LIST_SELECTOR:"video_list_selector",VIDEO_LIST_SELECTOR_V2:"video_list_selector_v2"})}),null);
__d("VideoWithHiddenSubtitles",["SubscriptionsHandler"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){var c=this;this.$1=a;this.$2=new(b("SubscriptionsHandler"))();this.$2.addSubscriptions(this.$1.addListener("muteVideo",function(){c.$1.areSubtitlesActive()&&c.$1.toggleSubtitles()}))}var c=a.prototype;c.release=function(){this.$2.release()};return a}();e.exports=a}),null);
__d("VideoComponentHideSubtitles.react",["React","VideoComponent","VideoWithHiddenSubtitles"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.enable=function(a){this.vpc=a,this.$1=new(b("VideoWithHiddenSubtitles"))(this.vpc)};d.disable=function(){this.$1.release()};d.render=function(){return null};return c}(b("React").Component);e.exports=b("VideoComponent").createContainer(a)}),null);
__d("VideoWithPlayPause",["SubscriptionsHandler","VideoPlayerReason"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,c,d,e){__p&&__p();var f=this;this.$8=new(b("SubscriptionsHandler"))();this.$1=a;this.$9(c);this.onUpdateCurrentPlayPosition=d;this.onUpdatePlayerState=e;this.$5=!1;this.$6=!1;this.$8.addSubscriptions(this.$1.addListener("updateStatus",this.$10.bind(this)),this.$1.addListener("captionsList/preview",function(a){return f.$11(a.startTime,a.endTime)}),this.$1.addListener("pausePlayback",function(){f.$6=!0,f.onUpdatePlayerState(!1)}),this.$1.addListener("finishPlayback",function(){f.onUpdatePlayerState(!1),f.$6=!0}),this.$1.addListener("beginPlayback",function(){f.$6=!1}))}var c=a.prototype;c.$11=function(a,c){this.$12(a),this.$13(c),this.$4=!0,this.$5=!1,this.$6=!1,this.$1.seek(this.$2),this.$1.play(b("VideoPlayerReason").USER)};c.$12=function(a){this.$2=a/1e3};c.$13=function(a){this.$3=a/1e3};c.$9=function(a){this.$7=a/1e3};c.$10=function(a){this.$5&&this.onUpdateCurrentPlayPosition(a),this.$6||this.onUpdatePlayerState(!0),this.$4||(this.$5=!0),a.position>this.$3&&(this.$1.pause(b("VideoPlayerReason").USER),this.$13(this.$7*1e3),this.$4=!1),a.position<this.$2&&(this.$13(this.$7*1e3),this.$4=!1)};c.release=function(){this.$8.release()};return a}();e.exports=a}),null);
__d("VideoComponentWithPlayPause.react",["React","VideoComponent","VideoComposerCaptionEditorPlayerActions","VideoWithPlayPause"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.enable=function(a){this.vpc=a,b("VideoComposerCaptionEditorPlayerActions").setVPC(this.props.videoComposerID,a),this.videoWithPlayPause=new(b("VideoWithPlayPause"))(this.vpc,this.props.videoDuration,this.props.onUpdateCurrentPlayPosition,this.props.onUpdatePlayerState)};d.disable=function(){this.videoWithPlayPause.release()};d.render=function(){return null};return c}(b("React").Component);e.exports=b("VideoComponent").createContainer(a)}),null);
__d("VideoCaptionsLoggerEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CAPTION_UPLOAD_BUTTON_CLICKED:"caption_upload_button_clicked",CAPTION_SELECTED:"caption_selected",CAPTION_REMOVED:"caption_removed",CAPTION_DEFAULT_LOCALE_CHANGED:"caption_default_locale_changed",CAPTION_ERROR:"caption_error",CONTENT_TAGS_SELECTED:"content_tags_selected",CONTENT_TAGS_REMOVED:"content_tags_removed",PERMISSIONS_CHANGED:"permissions_changed",CAPTION_GENERATE_BUTTON_CLICKED:"caption_generate_button_clicked",CAPTION_GENERATE_COMPLETE:"caption_generate_complete",CAPTION_GENERATE_CANCEL:"caption_generate_cancel",CAPTION_CREATE_BUTTON_CLICKED:"caption_create_button_clicked",CAPTION_CREATE_COMPLETE:"caption_create_complete",CAPTION_UPLOAD_COMPLETE:"caption_upload_complete",CAPTION_UPLOAD_WARNING:"caption_upload_warning",CAPTION_UPLOAD_ERROR:"caption_upload_error",CAPTION_UPLOAD_SERVER_ERROR:"caption_upload_server_error",VIDEO_LANGUAGE_SELECTED:"video_language_selected",CAPTION_DRAFT_EDITED:"caption_draft_edited",CAPTION_DRAFT_DELETED:"caption_draft_deleted",CAPTION_PUBLISHED_EDITED:"caption_published_edited",CAPTION_PUBLISHED_DELETED:"caption_published_deleted",CAPTION_GENERATE_RETRY:"caption_generate_retry",CHANGE_PUBLISHED_STATE:"change_published_state",CAPTION_EDITOR_SAVE:"caption_editor_save",CAPTION_EDITOR_CLOSE:"caption_editor_close",CAPTION_EDITOR_SET_LANGUAGE:"caption_editor_set_language",CAPTION_TAB_OPENED:"caption_tab_opened",COMPOSER_SAVE:"composer_save",DUPLICATE_SUBTITLE_LOCALE_ERROR:"duplicate_subtitle_locale_error",AUTOPUBLISH_AUTOGENERATED_CAPTIONS_SUCCESS:"autopublish_autogenerated_captions_success",AUTOPUBLISH_AUTOGENERATED_CAPTIONS_EMPTY_TEXT:"autopublish_autogenerated_captions_empty_text",AUTOPUBLISH_AUTOGENERATED_CAPTIONS_ERROR:"autopublish_autogenerated_captions_error",NO_AUTOPUBLISH_AUTOGENERATED_CAPTIONS:"no_autopublish_autogenerated_captions",AUTOGENERATE_CAPTIONS_ON_UPLOAD_SUCCESS:"autogenerate_captions_on_upload_success",AUTOGENERATE_CAPTIONS_ON_UPLOAD_ERROR:"autogenerate_captions_on_upload_error",UNABLE_TO_DETERMINE_LOCALE:"unable_to_determine_locale",CREATING_CAPTIONS_PUBLISHER_SETTINGS:"creating_captions_publisher_settings",UPDATING_CAPTIONS_PUBLISHER_SETTINGS:"updating_captions_publisher_settings"})}),null);
__d("VideoUploadUIError",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CAPTION_ERROR_WRONG_FORMAT:"caption_error_wrong_format",CAPTION_ERROR_DUPLICATE_LOCALE:"caption_error_duplicate_locale",CAPTION_ERROR_GENERATE_FAIL:"caption_error_generate_fail",CAPTION_ERROR_CREATE_FAIL:"caption_error_create_fail",CAPTION_ERROR_DELETE_FAIL:"caption_error_delete_fail",CAPTION_ERROR_GENERATE_DUPLICATE_LOCALE:"caption_error_generate_duplicate_locale",AUTOGENERATE_FAIL_RETRY:"auto_generate_fail_retry"})}),null);
__d("VideoSubtitlePublishedStatusType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DRAFT:0,PUBLISHED:1,PUBLISH_PENDING:2})}),null);
__d("VideoComposerDialogCaptionEditorPublishStateEnum",["VideoSubtitlePublishedStatusType","keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze(b("keyMirrorRecursive")(b("VideoSubtitlePublishedStatusType")));e.exports=a}),null);
__d("VideoComposerDialogCaptionMode",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADVANCED_FEATURES_WITH_SUBTITLES:"advanced_features_with_subtitles",REGULAR_FEATURES_WITH_SUBTITLES:"regular_features_with_subtitles",OLD_DATA_MODEL:"old_data_model"})}),null);
__d("CrosspostingEntityType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BUSINESS:"business",PAGE:"page",MONETIZABLE_PAGES:"monetizable_pages"})}),null);
__d("MediaManagerShowsFbtStrings",["fbt"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=g._("Schedule Publish time must be at least 10 minutes in the future.");b=g._("Select an image that viewers will see as part of your series.");c=g._("This will be the cover image for your series page.");d=g._("Only videos uploaded by this page can be added as series episodes, and videos can only be in one series at a time. Secret videos, crossposted videos and trailers cannot be added to series as episodes. Videos can be reordered after adding.");f=g._("Cannot publish an empty season");var h=g._("Cannot publish an empty series"),i=g._("Episodes published at the time of publishing series or season will be part of the news feed story for the series or season, we will not be creating a feed story for them individually"),j=g._("See Series Insights"),k=g._("Get performance insights by clicking on the name of your series."),l=g._("Get Season Insights");g=g._("See how your seasons are doing and get insights into overall performance and individual episodes.");a={SERIES_SCHEDULE_TIME_TOO_SOON:a,SERIES_POSTER_ART_DESCRIPTION:b,SERIES_COVER_IMAGE_DESCRIPTION:c,SERIES_ADD_VIDEOS_INFO_MESSAGE:d,EMPTY_SEASON_PUBLISH_ERROR:f,EMPTY_SERIES_PUBLISH_ERROR:h,DISABLE_NEWS_FEED_DISTRIBUTION_FOR_EPISODE_TOOLTIP:i,INSIGHTS_NUX_ON_SERIES_TABLE_TITLE:j,INSIGHTS_NUX_ON_SERIES_TABLE:k,INSIGHTS_NUX_ON_SERIES_TRAY_TITLE:l,INSIGHTS_NUX_ON_SERIES_TRAY:g};e.exports=a}),null);
__d("VideoCommentatingPermission",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNSET:"unset",ALLOW:"allow",DISALLOW:"disallow"})}),null);
__d("ComposerCharityTypeahead.react",["cx","FundraiserForStoryCharityPickerRelaySearchSource","FundraiserNonprofitSearchNullStateHintTextQE","QE2Logger","React","SearchableEntry","XUITypeahead.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$2=function(a){a=a.target.value;d.setState({query:a});!a&&d.props.onClear&&d.props.onClear()};d.$3=function(a){d.setState({query:a.getTitle()}),d.props.onSelect(a)};d.$1=new(b("FundraiserForStoryCharityPickerRelaySearchSource"))();d.state={query:c.query?c.query:""};return d}var d=c.prototype;d.componentDidMount=function(){this.props.focusOnMount&&this.refs.typeahead&&this.refs.typeahead.focusInput()};d.render=function(){var a=this.props.placeholder;a||(b("QE2Logger").logExposureForUser(b("FundraiserNonprofitSearchNullStateHintTextQE").universe),a=b("FundraiserNonprofitSearchNullStateHintTextQE").search_bar_hint_text);return b("React").createElement(b("XUITypeahead.react"),{className:"_5esx",onChange:this.$2,onSelectAttempt:this.$3,placeholder:a,queryString:this.state.query,ref:"typeahead",searchSource:this.$1,showEntriesOnFocus:!0})};return c}(b("React").Component);e.exports=a}),null);
__d("VideoAssetMatureContentRating",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNSET:0,SUITABLE_FOR_ALL:1,FOURTEEN_PLUS:2,EIGHTEEN_PLUS:3})}),null);
__d("VideoAssetMatureContentRatingKey",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNSET:"UNSET",SUITABLE_FOR_ALL:"SUITABLE_FOR_ALL",FOURTEEN_PLUS:"FOURTEEN_PLUS",EIGHTEEN_PLUS:"EIGHTEEN_PLUS"})}),null);
__d("VideoComposerMatureContentRatingUtils",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={UNSET:{label:g._("Who Can Watch")},SUITABLE_FOR_ALL:{label:g._("Anyone"),description:g._("Video may contain suggestive dialogue, sexual situations or moderate violence.")},FOURTEEN_PLUS:{label:g._("Anyone 14 or older"),description:g._("Video may contain strong language, sexual content, violence or other material unsuitable for children under 14.")},EIGHTEEN_PLUS:{label:g._("Anyone 18 or older"),description:g._("Video may contain crude language, explicit sexual content, graphic violence or other material unsuitable for children under 18.")}};b={NOT_INITIATED:"NOT_INITIATED",IN_PROGRESS:"IN_PROGRESS",SUBMITTED:"SUBMITTED"};e.exports={MATURE_CONTENT_LABELS:a,MATURE_CONTENT_APPEAL_FORM_STATUS:b}}),null);
__d("VideoComposerQuestionsUtils",["fbt","VideoComposerPollsConstants","VideoComposerPollsUtils","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=3600,i=g._("Start time must be in mm:ss format"),j=g._("Start time must be in hh:mm:ss format"),k=g._("End time must be in mm:ss format"),l=g._("End time must be in hh:mm:ss format"),m=g._("Start time must be before your video finishes"),n=g._("The end time can't be after your video finishes"),o=g._("Your poll must appear for at least {number of seconds} seconds",[g._param("number of seconds",b("VideoComposerPollsConstants").MIN_POLL_DURATION)]),p=g._("Poll times can't overlap. Only one poll can appear at a time.");a=function(a,c,d){__p&&__p();d&&(d=Math.ceil(d));var e=a.startTime,f=a.endTime,g=null,q=null,r=null,s=0,t=0,u=b("VideoComposerPollsUtils").isValidTimeString(e),v=b("VideoComposerPollsUtils").isValidTimeString(f);u||(g=d&&d<h?i:j);v||(q=d&&d<h?k:l);g||(s=b("VideoComposerPollsUtils").timeStringToSeconds(e),d&&s>=d&&(g=m));q||(t=b("VideoComposerPollsUtils").timeStringToSeconds(f),d&&t>d&&(q=n));!g&&!q&&(t-s<b("VideoComposerPollsConstants").MIN_POLL_DURATION&&(r=o));if(!g&&!q){u=!1;c.forEach(function(c){if(c.id===a.id)return;if(b("VideoComposerPollsUtils").timeStringToSeconds(c.startTime)>=t||b("VideoComposerPollsUtils").timeStringToSeconds(c.endTime)<=s)return;u=!0});u&&(r=p)}return{commonError:r,startTimeError:g,endTimeError:q}};c=function(a){return!a.questionText.trim()};e.exports={isInvalidQuestion:c,validateQuestionTimeWindow:a}}),null);
__d("VideoTextQuestionLoggerEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CREATE_QUESTION:"create_question",ATTACH_QUESTION:"attach_question",UPDATE_QUESTION:"update_question",DELETE_QUESTION:"delete_question",SHOW_CARD:"show_card",HIDE_CARD:"hide_card",PUBLISH_ASYNC:"publish_async",PUBLISH_CLOSE:"publish_close",PUBLISH_IMMEDIATE:"publish_immediate",PUBLISH_OPEN:"publish_open",CREATE_RESPONSE:"create_response",REMOVE_RESPONSE:"remove_response",VOD_COMPOSER_QUESTIONS_TAB_CLICKED:"vod_composer_questions_tab_clicked",VOD_COMPOSER_QUESTIONS_TAB_ITEM_RENDERED:"vod_composer_questions_tab_item_rendered"})}),null);
__d("VideoCopyrightAttributionToggle.react",["BUISwitch.react","GraphAPI","MediaCopyrightAttributionType","React","VideoCopyrightUtils","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={value:c.props.initialValue,attribution:null},c.$2=function(){var a=c.state.value,b=a?null:c.props.pageID,d=a?null:c.state.attribution;c.props.onToggle(b,d);c.setState({value:!a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1()};d.$1=function(){var a=this;b("promiseDone")(b("GraphAPI")(b("VideoCopyrightUtils").GRAPH_API_VERSION,e.id).object("page",this.props.pageID).get({access_token:this.props.accessToken,is_promotable:!0,fields:["name"]}),function(c){c={attribution_target_name:c.name,attribution_type:b("MediaCopyrightAttributionType").PAGE,id:c.id,is_enabled:!0,title:c.name};a.setState({attribution:c});a.props.initialValue&&a.props.onToggle(a.props.pageID,c)})};d.render=function(){return b("React").createElement(b("BUISwitch.react"),{value:this.state.value,showLabel:!0,onToggle:this.$2})};return c}(b("React").Component);e.exports=a}),null);
__d("VideoCopyrightWhitelistSelector.react",["fbt","CurrentUser","React","SearchableEntry","WebAsyncSearchSource","XUITokenizer.react"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$2=function(a){var b=d.props.entries;b.push({id:a.getUniqueID().toString(),name:a.getTitle()});d.props.onEntriesUpdated(b)};d.$3=function(a){var b=d.props.entries;b=b.filter(function(b){return b.id!=a.getUniqueID().toString()});d.props.onEntriesUpdated(b)};d.state={entries:[],searchSource:new(b("WebAsyncSearchSource"))({queryRequests:[{uri:"/ajax/typeahead/search.php",data:{filter:["user","page"],viewer:b("CurrentUser").getID()}}],auxiliaryFields:{verified:"is_verified"}})};return d}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1(this.props.entries||[])};d.UNSAFE_componentWillReceiveProps=function(a){this.$1(a.entries||[])};d.$1=function(a){a=a.map(function(a,c){return new(b("SearchableEntry"))({order:c,title:a.name,uniqueID:a.id})});this.setState({entries:a})};d.render=function(){return b("React").createElement(b("XUITokenizer.react"),{className:this.props.className,entries:this.state.entries,onAddEntryAttempt:this.$2,onRemoveEntryAttempt:this.$3,placeholder:this.props.disabled?null:g._("Add Page or Person"),searchSource:this.state.searchSource,xuiError:this.props.error,disabled:this.props.disabled,limit:this.props.limit})};return c}(b("React").Component);e.exports=a}),null);
__d("VideoCopyrightWhitelistedIGUserList.react",["fbt","React","SearchableEntry","WebAsyncSearchSource","XUITokenizer.react"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.state={entries:[]};d.$3=function(a){var b=d.props.whitelistedIGUserNames.slice(0);b.push(a.getUniqueID().toString());d.props.onIGWhitelistUpdated(b)};d.$4=function(a){var b=d.props.whitelistedIGUserNames.slice(0);b=b.filter(function(b){return b!=a.getUniqueID().toString()});d.props.onIGWhitelistUpdated(b)};d.$1=new(b("WebAsyncSearchSource"))({queryRequests:[{uri:d.props.uri}],auxiliaryFields:{verified:"is_verified"}});return d}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$2(this.props.whitelistedIGUserNames)};d.UNSAFE_componentWillReceiveProps=function(a){this.$2(a.whitelistedIGUserNames)};d.$2=function(a){this.setState({entries:a.map(function(a){return new(b("SearchableEntry"))({uniqueID:a,title:a})})})};d.render=function(){return b("React").createElement(b("XUITokenizer.react"),{className:this.props.className,entries:this.state.entries,onAddEntryAttempt:this.$3,onRemoveEntryAttempt:this.$4,placeholder:this.state.entries.length!==0?null:g._("Search for profiles"),searchSource:this.$1,disabled:this.props.disabled,limit:this.props.limit})};return c}(b("React").Component);e.exports=a}),null);
__d("XRightsManagerInstagramUserSearchAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/copyright/instagram/typeahead/user/",{page_id:{type:"FBID",required:!0},value:{type:"String",defaultValue:""}})}),null);
__d("VideoCopyrightWhitelistSection.react",["cx","fbt","CurrentPage","React","VideoCopyrightWhitelistedIGUserList.react","VideoCopyrightWhitelistSelector.react","XRightsManagerInstagramUserSearchAsyncController"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",null,b("React").createElement("div",{className:"_kmg"},h._("Facebook")),b("React").createElement(b("VideoCopyrightWhitelistSelector.react"),{className:"_64ut",onEntriesUpdated:this.props.onFBWhitelistUpdated,placeholder:h._("Add Page or Person"),entries:this.props.whitelistedFBUsers,disabled:this.props.disabled}),b("React").createElement("div",{className:"_kmg"},h._("Instagram")),b("React").createElement(b("VideoCopyrightWhitelistedIGUserList.react"),{uri:b("XRightsManagerInstagramUserSearchAsyncController").getURIBuilder().setFBID("page_id",this.props.pageID||b("CurrentPage").getID()).getURI(),disabled:this.props.disabled,whitelistedIGUserNames:this.props.whitelistedIGUserNames||[],onIGWhitelistUpdated:this.props.onIGWhitelistUpdated}))};return c}(b("React").Component);e.exports=a}),null);
__d("VideoComposerDragAndDropScrubberConstants",[],(function(a,b,c,d,e,f){"use strict";a={DEFAULT_TRACK_VOLUME:.7,DROP_AREA_TITLE:"DROPAREA",MINIMUM_DURATION_IN_MS:200,SMALLEST_UNIT:.09,TIME_SCALE:1};e.exports=a}),null);
__d("VideoComposerDragAndDropScrubberPositionTracker",["DateConsts","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,c,d,e){__p&&__p();var f=this;this.$1=null;this.$4=a;this.$2=c;this.onUpdatePlayPosition=d;this.onUpdatePlayState=e;this.$3=new(b("SubscriptionsHandler"))();this.$3.addSubscriptions(this.$4.addListener("pausePlayback",function(){f.$5(),f.onUpdatePlayState&&f.onUpdatePlayState(!1)}),this.$4.addListener("finishPlayback",function(){f.$5(),f.onUpdatePlayState&&f.onUpdatePlayState(!1)}),this.$4.addListener("beginPlayback",function(){f.$6(),f.onUpdatePlayState&&f.onUpdatePlayState(!0)}),this.$4.addListener("seekEnd",function(){f.$7()}))}var c=a.prototype;c.$7=function(){var a=this.$4.getVideoAPI().getCurrentTimePosition()*b("DateConsts").MS_PER_SEC-this.$2;this.onUpdatePlayPosition&&this.onUpdatePlayPosition(a)};c.$6=function(){var a=this;this.$1||(this.$1=setInterval(function(){var c=a.$4.getVideoAPI().getCurrentTimePosition()*b("DateConsts").MS_PER_SEC-a.$2;a.onUpdatePlayPosition&&a.onUpdatePlayPosition(c)},10))};c.$5=function(){this.$8()};c.$8=function(){this.$1!==null&&(clearInterval(this.$1),this.$1=null)};c.release=function(){this.$3.release(),this.$8()};return a}();e.exports=a}),null);
__d("VideoComposerDragAndDropScrubberUtils",["DateConsts","VideoComposerDragAndDropScrubberConstants","VideoInstreamUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(){}var c=a.prototype;c.getTimeStamp=function(a){a=Math.floor(a/b("DateConsts").MS_PER_SEC);return b("VideoInstreamUtils").convertTimestampToFormattedString(a)};c.getWidth=function(a,c){return a*b("VideoComposerDragAndDropScrubberConstants").SMALLEST_UNIT*c};return a}();e.exports=new a()}),null);
__d("MediaManagerErrorStateMessage.react",["cx","fbt","ix","CenteredContainer.react","Image.react","React","SUIText.react","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";a={tabErrorState:function(){return b("React").createElement(b("CenteredContainer.react"),{className:"_1ld-",vertical:!0},b("React").createElement(b("Image.react"),{className:"_1ldz",src:i("584093")}),b("React").createElement("div",null,h._("There was an issue loading this page.")),b("React").createElement("div",null,h._("Please refresh and try again.")))},cardErrorState:function(){return b("React").createElement(b("SUIText.react"),{color:"placeholder",display:"block",margin:"_3-8-",size:"meta1"},h._("There was an issue loading this information. Please refresh the page and try again."))}};e.exports=a}),null);
__d("SoundCollectionSearchBar.react",["cx","React","SUIMediaManagerTheme","SUISearchInput.react","SUITheme"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=new(b("SUITheme"))({id:"media-manager-sound-collection-search",components:babelHelpers["extends"]({},b("SUIMediaManagerTheme"),{SUITextInput:babelHelpers["extends"]({},b("SUIMediaManagerTheme").SUITextInput,{height:36})})});a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_661x"},b("React").createElement(b("SUISearchInput.react"),{placeholder:this.props.placeholder,theme:h,width:this.props.textBarWidth,value:this.props.value?this.props.value:"",onChange:this.props.onChange,onKeyDown:this.props.onSubmit}))};return c}(b("React").Component);a.defaultProps={textBarWidth:250};e.exports=a}),null);
__d("SoundCollectionFilterSelector",["cssVar","cx","React","SUISelector.react","SUISelectorButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.onChange(c.props.filterField,a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_661z"},b("React").createElement(b("SUISelector.react"),{maxHeight:200,onChange:this.$1,value:this.props.value,button:b("React").createElement(b("SUISelectorButton.react"),{style:{backgroundColor:"#F5F6F7",borderColor:"#DADDE1",borderRadius:2,borderWidth:1,height:36,paddingLeft:20,paddingRight:20}})},this.props.options))};return c}(b("React").Component);e.exports=a}),null);
__d("SoundCollectionTags",[],(function(a,b,c,d,e,f){"use strict";a=[{name:"UI",id:"1826111960817765"},{name:"Industry, Machinery, Tools & Offices",id:"1870755776333952"},{name:"Water & Underwater",id:"2255831547821313"},{name:"Footsteps",id:"2408858785798663"},{name:"Alarms, Bells & Sirens",id:"2659844870754988"},{name:"Fabric",id:"1668604839911166"},{name:"Household",id:"1607085419396586"},{name:"Human Voices",id:"1920663291312735"},{name:"Cartoon & Comedy",id:"2048241298559689"},{name:"Animals",id:"1832683063434792"},{name:"SciFi, Fantasy, Creatures & Horror",id:"1822032747832988"},{name:"Transportation",id:"1914522391973321"},{name:"Sports",id:"1543084165815087"},{name:"Ambience",id:"1668596426569779"},{name:"Crashes, Hits & Impacts",id:"1983784198336473"},{name:"Fire",id:"1899936036706903"},{name:"Doors, Opens & Closes",id:"1855434201189811"},{name:"Ambiences & Public Spaces",id:"1833798833400854"},{name:"Musical",id:"1841622295915689"},{name:"Buttons, Switches & Clicks",id:"1865252493528839"}];b=[{name:"Folk",id:"2099263466771243"},{name:"Western Classical",id:"1902862986434857"},{name:"Blues",id:"1760596640705412"},{name:"Holiday",id:"2369910986356886"},{name:"Middle Eastern",id:"1411008135668159"},{name:"Latin",id:"1954849687909188"},{name:"Jazz",id:"2453792984645726"},{name:"Ambient",id:"2186447454763123"},{name:"Rock",id:"2372174466142309"},{name:"African",id:"2456189331074805"},{name:"R&B and Soul",id:"2375762942466266"},{name:"Comedy",id:"1960792514007548"},{name:"Electronic",id:"1892995627451079"},{name:"Children's",id:"2761206917238038"},{name:"Pop",id:"1748516828590890"},{name:"Classical",id:"1896283090468538"},{name:"Indian",id:"2078200942199830"},{name:"Orchestral",id:"1823348091052631"},{name:"Reggae",id:"1728461497265967"},{name:"Japanese",id:"1411035625664194"},{name:"Country",id:"2275251625849593"},{name:"East Asian",id:"2024937637545812"},{name:"Cinematic",id:"1748398281939147"},{name:"Chinese",id:"1771700322865519"},{name:"Novelty",id:"2163455430340873"},{name:"Hip Hop",id:"2209103552497349"},{name:"World",id:"2583544121671809"}];c=[{name:"Scary",id:"2161321257251999"},{name:"Dreamy",id:"2244102132328619"},{name:"Bright",id:"1860854437355482"},{name:"Groovy",id:"2414637978561311"},{name:"Happy",id:"2220492084687628"},{name:"Romantic",id:"1684057541704372"},{name:"Aggressive",id:"1811644588883139"},{name:"Glamorous",id:"1847020012078260"},{name:"Peaceful",id:"1519969001438171"},{name:"Sentimental",id:"2529037093774894"},{name:"Funky",id:"2022352181149247"},{name:"Suspense",id:"2083990171625171"},{name:"Sexy",id:"1923607891053025"},{name:"Energetic",id:"2233982530008128"},{name:"Quirky",id:"2281404455234889"},{name:"Inspirational",id:"1687340358055529"},{name:"Dramatic",id:"1843145709072448"},{name:"Upbeat",id:"1324701624296130"},{name:"Driving",id:"1564834006948607"},{name:"Mysterious",id:"2031660406854857"},{name:"Sad",id:"1871358992953486"},{name:"Dark",id:"1528946987220503"},{name:"Jazzy",id:"1987914691282412"},{name:"Angry",id:"1950005441711770"},{name:"Chill",id:"2148480685186215"}];d=[{name:"Ensemble",id:"1848022958646172"},{name:"Has Vocals",id:"2035094319888819"},{name:"Male & Female",id:"1713179975428867"},{name:"No Vocals",id:"1915533645197483"},{name:"Female Vocal",id:"1879199492166566"},{name:"Male Vocal",id:"1796164040504522"}];f=[{name:"Slow",id:"1477419455694767"},{name:"Medium",id:"2074670815918380"},{name:"Fast",id:"2216148101759724"}];e.exports={SoundCollectionEffectCategoryTags:a,SoundCollectionGenreTags:b,SoundCollectionMoodTags:c,SoundCollectionVocalTags:d,SoundCollectionTempoTags:f}}),null);
__d("SoundCollectionSoundEffectsFilters.react",["cx","fbt","React","SoundCollectionFilterSelector","SoundCollectionTags","SUISelectorOption.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("SoundCollectionTags").SoundCollectionEffectCategoryTags,j={"< 2s":h._("0 - 2 secs"),"2-10s":h._("2 - 10 secs"),"10-30s":h._("10 - 30 secs"),"30s <":h._("30+ secs")};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=[b("React").createElement(b("SUISelectorOption.react"),{key:"null",value:null},h._("All Categories"))].concat(i.map(function(a){return b("React").createElement(b("SUISelectorOption.react"),{key:a.id,value:a.id},a.name)})),c=[b("React").createElement(b("SUISelectorOption.react"),{key:"null",value:null},h._("All Durations"))].concat(this.props.lengthOptions.map(function(a){return b("React").createElement(b("SUISelectorOption.react"),{key:a,value:a},j[a])}));return b("React").createElement("div",{className:"_661y"},b("React").createElement(b("SoundCollectionFilterSelector"),{filterField:"categorySelected",onChange:this.props.onFilterChange,options:a,value:this.props.categorySelected}),b("React").createElement(b("SoundCollectionFilterSelector"),{filterField:"lengthSelected",onChange:this.props.onFilterChange,options:c,value:this.props.lengthSelected}))};return c}(b("React").Component);e.exports=a}),null);
__d("SoundCollectionSoundTrackFilters.react",["cx","fbt","React","SoundCollectionFilterSelector","SoundCollectionTags","SUISelectorOption.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("SoundCollectionTags").SoundCollectionGenreTags,j=b("SoundCollectionTags").SoundCollectionMoodTags,k=b("SoundCollectionTags").SoundCollectionVocalTags,l={"0-30s":h._("0 - 30 secs"),"30s-1min":h._("30 secs - 1 min"),"1min-2min":h._("1 - 2 mins"),"2min+":h._("2+ mins")};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=[b("React").createElement(b("SUISelectorOption.react"),{key:"null",value:null},h._("All Genres"))].concat(i.map(function(a){return b("React").createElement(b("SUISelectorOption.react"),{key:a.id,value:a.id},a.name)})),c=[b("React").createElement(b("SUISelectorOption.react"),{key:"null",value:null},h._("All Moods"))].concat(j.map(function(a){return b("React").createElement(b("SUISelectorOption.react"),{key:a.id,value:a.id},a.name)})),d=[b("React").createElement(b("SUISelectorOption.react"),{key:"null",value:null},h._("All Durations"))].concat(this.props.lengthOptions.map(function(a){return b("React").createElement(b("SUISelectorOption.react"),{key:a,value:a},l[a])})),e=[b("React").createElement(b("SUISelectorOption.react"),{key:"null",value:null},h._("All Vocals"))].concat(k.map(function(a){return b("React").createElement(b("SUISelectorOption.react"),{key:a.id,value:a.id},a.name)}));return b("React").createElement("div",{className:"_661y"},b("React").createElement(b("SoundCollectionFilterSelector"),{filterField:"genreSelected",onChange:this.props.onFilterChange,options:a,value:this.props.genreSelected}),b("React").createElement(b("SoundCollectionFilterSelector"),{filterField:"moodSelected",onChange:this.props.onFilterChange,options:c,value:this.props.moodSelected}),b("React").createElement(b("SoundCollectionFilterSelector"),{filterField:"lengthSelected",onChange:this.props.onFilterChange,options:d,value:this.props.lengthSelected}),b("React").createElement(b("SoundCollectionFilterSelector"),{filterField:"vocalSelected",onChange:this.props.onFilterChange,options:e,value:this.props.vocalSelected}))};return c}(b("React").Component);e.exports=a}),null);
__d("SoundCollectionTabStateToStoreKey",["MediaManagerAudioAssetTypeEnum"],(function(a,b,c,d,e,f){"use strict";c=(a={},a[b("MediaManagerAudioAssetTypeEnum").SOUND_TRACKS]="trackTab",a[b("MediaManagerAudioAssetTypeEnum").SOUND_EFFECTS]="effectTab",a);e.exports=c}),null);
__d("MediaManagerTableColumnHeader.react",["cx","LineClamp.react","React","SUIText.react","SUITooltip.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=b("React").createElement(b("SUIText.react"),{color:"placeholder",size:"meta1"},b("React").createElement(b("LineClamp.react"),{enableTooltipOnOverflow:!a.tooltip,lineHeight:16,lines:1},a.text));a.tooltip&&(c=b("React").createElement(b("SUITooltip.react"),{tooltip:a.tooltip},c));a.onClick&&(c=b("React").createElement("div",{className:"_6ola _7oot",role:"presentation",onClick:a.onClick},c));return c}e.exports=a}),null);
__d("MediaTagType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CONTENT_INTEGRITY:"content_integrity",EMOJI:"emoji",FREEFORM:"freeform",FREEFORM_GENRE:"freeform_genre",GENRE:"genre",HIGHLIGHT_TIME_IN_MS:"highlight_time_in_ms",INSTAGRAM_ARTIST:"instagram_artist",INSTRUMENT:"instrument",KEYWORD:"keyword",LANGUAGE_OF_PERFORMANCE:"language_of_performance",MOOD:"mood",PARENTAL_WARNING_TYPE:"parental_warning_type",PLACEHOLDER:"placeholder",PROJECT:"project",SOUND_EFFECTS_CATEGORY:"sound_effects_category",TEMPO:"tempo",THEME:"theme",VIDEO_CONTENT_TAG_ENTITIES:"video_content_tag_entities",VIDEO_CONTENT_TAG_FREEFORM:"video_content_tag_freeform",VIDEO_CONTENT_TAG_SUBTOPICS:"video_content_tag_subtopics",VOCAL:"vocal"})}),null);
__d("SoundCollectionLoggerActions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PLAY:"play",DOWNLOAD:"download",QUERY:"query",FOLLOW_ARTIST:"follow_artist",UNFOLLOW_ARTIST:"unfollow_artist",VISIT_ARTIST:"visit_artist",VISIT_SOUND_COLLECTION:"visit_sound_collection",NASA_MEGAPHONE_CTA_CLICKED:"nasa_megaphone_cta_clicked",CONTINUOUS_PLAY:"continuous_play",MATCH_TRACK:"match_track",MATCH_EFFECT:"match_effect"})}),null);
__d("VideoComposerSoundEditorSoundCollectionTabTable",["ix","cx","fbt","FBLoadShimmer.react","Link.react","MediaManagerTableColumnHeader.react","MediaTagType","React","SoundCollectionHoverIcon.react","SoundCollectionLoggerActions","SoundCollectionTypedLogger","VideoComposerSoundEditorActions","asset","cxMargin","formatDurationSeconds","intlList"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=10,k=function(a){return b("React").createElement("div",{className:"_6d32"+(a.isSelected?" _6cuj":"")+(a.playTrackID===a.result.id?" _6cuk":"")},a.result.artistName)},l=function(a){return b("React").createElement("div",{className:"_6d32"+(a.isSelected?" _6cuj":"")+(a.playTrackID===a.result.id?" _6cuk":"")},b("formatDurationSeconds")(a.result.lengthInSec))},m=function(){return b("React").createElement(b("FBLoadShimmer.react"),{height:15})},n=function(a){return b("React").createElement("div",{className:"_6d32"+(a.isSelected?" _6cuj":"")+(a.playTrackID===a.result.id?" _6cuk":"")},t(a.tagType,a.result))},o=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=d=c.call.apply(c,[this].concat(f))||this,d.$1=function(){d.props.playTrackID===d.props.result.id?b("VideoComposerSoundEditorActions").setSoundCollectionIsPlaying(d.props.videoComposerID,!0):b("VideoComposerSoundEditorActions").setSoundCollectionPlayTrack(d.props.videoComposerID,d.props.result),new(b("SoundCollectionTypedLogger"))().setEvent(b("SoundCollectionLoggerActions").PLAY).setSoundCollectionTab(d.props.soundCollectionTab).setAudioID(d.props.result.id).log()},d.$2=function(){b("VideoComposerSoundEditorActions").setSoundCollectionIsPlaying(d.props.videoComposerID,!1)},d.$3=function(){b("VideoComposerSoundEditorActions").soundCollectionSelectTrack(d.props.videoComposerID,d.props.result)},d.$4=function(){b("VideoComposerSoundEditorActions").soundCollectionUnselectTrack(d.props.videoComposerID,d.props.result.id)},a)||babelHelpers.assertThisInitialized(d)}var d=a.prototype;d.render=function(){var a=this.props.playTrackID===this.props.result.id,c=this.props.isPlaying&&a,d=b("React").createElement(b("SoundCollectionHoverIcon.react"),{icon:g("422765"),iconHover:g("422776")}),e=b("React").createElement(b("SoundCollectionHoverIcon.react"),{icon:g("358497"),iconHover:g("551456")}),f=b("React").createElement(b("SoundCollectionHoverIcon.react"),{icon:g("551453"),iconHover:g("551456")}),h=b("React").createElement(b("SoundCollectionHoverIcon.react"),{icon:g("483322"),iconHover:g("551456")});e=e;a?e=f:this.props.isSelected&&(e=h);f=b("React").createElement(b("SoundCollectionHoverIcon.react"),{icon:g("500243"),iconHover:g("489390")});h=b("React").createElement(b("SoundCollectionHoverIcon.react"),{icon:g("391229"),iconHover:g("489390")});var i=b("React").createElement(b("SoundCollectionHoverIcon.react"),{icon:g("515616"),iconHover:g("538589")}),j=b("React").createElement(b("SoundCollectionHoverIcon.react"),{icon:g("538585"),iconHover:g("538589")});h=a?h:f;f=a?j:i;return b("React").createElement("div",{className:"_6cjx"},b("React").createElement(b("Link.react"),{href:"#",onClick:c?this.$2:this.$1},c?d:e),b("React").createElement("div",{className:"_3-9a"},this.props.isSelected?b("React").createElement(b("Link.react"),{href:"#",onClick:this.$4},f):b("React").createElement(b("Link.react"),{href:"#",onClick:this.$3},h)),b("React").createElement("div",{className:"_6cui"+(this.props.isSelected?" _6cuj":"")+(this.props.playTrackID===this.props.result.id?" _6cuk":"")},this.props.result.title))};return a}(b("React").Component);a=function(a,b){b=b.map(function(a){return{id:a.id,result:a}});if(a)for(var a=0;a<j;a++)b.push({id:String(a),result:null});return b};var p=function(a,c){return{label:a,id:"name",getTitle:function(a){return a.result?a.result.title:""},renderItem:function(a){return a.result?b("React").createElement(o,{videoComposerID:c.videoComposerID,isPlaying:c.isPlaying,playTrackID:c.playTrackID,result:a.result,soundCollectionTab:c.soundCollectionTab,isSelected:Object.prototype.hasOwnProperty.call(c.selectedTracks,a.result.id)}):b("React").createElement(m,null)},widthWeight:2}},q=function(a,c){return{label:a,id:"artist",getTitle:function(a){return a.result?a.result.artistName:""},renderItem:function(a){return a.result?b("React").createElement(k,{playTrackID:c.playTrackID,result:a.result,isSelected:Object.prototype.hasOwnProperty.call(c.selectedTracks,a.result.id)}):b("React").createElement(m,null)},widthWeight:1}},r=function(a){return{label:b("React").createElement(b("MediaManagerTableColumnHeader.react"),{text:i._("Length")}),id:"length",getTitle:function(a){return a.result?b("formatDurationSeconds")(a.result.lengthInSec):""},renderItem:function(c){return c.result?b("React").createElement(l,{playTrackID:a.playTrackID,result:c.result,isSelected:Object.prototype.hasOwnProperty.call(a.selectedTracks,c.result.id)}):b("React").createElement(m,null)},widthWeight:1}},s=function(a,c,d){return{label:c,id:a,getTitle:function(b){return b.result?t(a,b.result):""},renderItem:function(c){return c.result?b("React").createElement(n,{playTrackID:d.playTrackID,result:c.result,tagType:a,isSelected:Object.prototype.hasOwnProperty.call(d.selectedTracks,c.result.id)}):b("React").createElement(m,null)},widthWeight:1}};c=function(a){return[p(b("React").createElement(b("MediaManagerTableColumnHeader.react"),{text:i._("Track")}),a),q(b("React").createElement(b("MediaManagerTableColumnHeader.react"),{text:i._("Artist")}),a),s(b("MediaTagType").GENRE,b("React").createElement(b("MediaManagerTableColumnHeader.react"),{text:i._("Genre")}),a),r(a)]};d=function(a){return[p(b("React").createElement(b("MediaManagerTableColumnHeader.react"),{text:i._("Sound Effect")}),a),q(b("React").createElement(b("MediaManagerTableColumnHeader.react"),{text:i._("Source")}),a),s(b("MediaTagType").SOUND_EFFECTS_CATEGORY,b("React").createElement(b("MediaManagerTableColumnHeader.react"),{text:i._("Category")}),a),r(a)]};var t=function(a,c){var d=[];c.mediaTags&&(d=c.mediaTags.filter(function(b){return b.media_tag_type.toLowerCase()===a}).map(function(a){return a.local_name}));return b("intlList")(d)};e.exports={createTracksColumns:c,createEffectsColumns:d,createRows:a}}),null);
__d("SphericalDirectorFunnelConstants",["SphericalDirectorComponentSources","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({TOGGLE_MOBILE_VR:"",UPDATE_FOV:"",UPDATE_PROJECTION:"",UPDATE_STEREO:"",ADD_GUIDE_POINT:"",SELECT_FILE_STANDALONE:"",CLOSE_MODAL_STANDALONE:"",DOWNLOAD_VIDEO_STANDALONE:"",OPEN_SPHERICAL_TAB_COMPOSER:"",EXIT_COMPOSER:"",POST_VIDEO_SUCCESS_COMPOSER:"",POST_VIDEO_FAILURE_COMPOSER:"",SAVE_VIDEO_SUCCESS_COMPOSER:"",SAVE_VIDEO_FAILURE_COMPOSER:"",TOGGLE_360_MODE_COMPOSER:""});c=b("keyMirror")({CHROME:"",EDGE:"",FIREFOX:"",IE:"",OPERA:"",OTHER_BROWSER:"",SAFARI:""});d=b("keyMirror")({CHROME_OS:"",LINUX:"",MAC_OS_X:"",OTHER_PLATFORM:"",WINDOWS:""});f=b("keyMirror")({IS_SPHERICAL:"",IS_NOT_SPHERICAL:""});c={BROWSERS:c,COMPONENT_SOURCES:b("SphericalDirectorComponentSources"),PLATFORMS:d,SPHERICAL:f};b={ACTIONS:a,FUNNEL_NAME:"WWW_SPHERICAL_DIRECTOR_FUNNEL",TAGS:c};e.exports=b}),null);
__d("VideoComposerTrimmingTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({END_TIME:"",START_TIME:""});c=b("keyMirror")({ADBREAKS:"",CAPTION:"",POLLS:"",SOUND_OVERLAY:"",SPHERICAL_DIRECTOR:"",PREMIERE:""});e.exports={TimestampTypes:a,TrimmingDisableReasons:c}}),null);
__d("XLiveVideoTrimWasLiveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video_broadcast/trim/",{video_id:{type:"Int"},new_start_seconds:{type:"Float",defaultValue:0},new_end_seconds:{type:"Float",defaultValue:0},reset_trimming:{type:"Bool",defaultValue:!1}})}),null);
__d("XVideoComposerFetchCrosspostPagesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/crosspost_pages/",{page_id:{type:"FBID",required:!0}})}),null);
__d("XVideoComposerMatureContentRatingAppealFormController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/mature_content_rating/appeals_form/",{page_id:{type:"FBID"},video_id:{type:"FBID"},original_mature_content_rating:{type:"Enum",enumType:0},expected_mature_content_rating:{type:"Enum",enumType:0},additional_info:{type:"String"}})}),null);
__d("PremiereDefaultCondition",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DEFAULT_TO_VOD:"none",DEFAULT_TO_PREMIERE:"default"})}),null);
__d("PremiereLivingRoomEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CREATE_REQUEST_ATTEMPTED:"create_request_attempted",CREATE_REQUEST_COMPLETED:"create_request_completed",CREATE_REQUEST_FAILED:"create_request_failed",VOD_ENCODING_COMPLETED:"vod_encoding_completed",VOD_ENCODING_FAILED:"vod_encoding_failed",LIVING_ROOM_CREATED:"living_room_created",LIVING_ROOM_CREATION_FAILED:"living_room_creation_failed",LIVING_ROOM_STARTED:"living_room_started",LIVING_ROOM_HOST_JOINED:"living_room_host_joined",LIVING_ROOM_ENDED:"living_room_ended",LIVING_ROOM_DELETED:"living_room_deleted",LIVING_ROOM_DELETION_FAILED:"living_room_deletion_failed",LIVING_ROOM_SAFETY_NET_DELETED:"living_room_safety_net_deleted",LIVING_ROOM_SAFETY_NET_DELETION_FAILED:"living_room_safety_net_deletion_failed",PREMIERE_VIDEO_STARTED_PLAYING:"premiere_video_started_playing",VOD_DELETED_DURING_LIVING_ROOM:"vod_deleted_during_living_room",VOD_PUBLISHED:"vod_published",VOD_PUBLISH_FAILED:"vod_publish_failed",VOD_PUBLISHED_UNHAPPY_PATH:"vod_published_unhappy_path",VOD_PUBLISHED_UNHAPPY_PATH_FAILED:"vod_published_unhappy_path_failed",LIVING_ROOM_FOLLOWER_NOTIFICATION_SENT:"living_room_follower_notification_sent",LIVING_ROOM_FAN_NOTIFICATION_SENT:"living_room_fan_notification_sent",VOD_NOTIFICATION_SENT:"vod_notification_sent"})}),null);
__d("PremiereVideoCondition",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NONE:"none",DEFAULT:"default",NON_DEFAULT:"non-default"})}),null);
__d("PremiereVideoEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SVE_START:"sve_start",SVE_SUCCESS:"sve_success",SVE_FAILURE:"sve_failure",PUBLISH:"publish",PREMIERE_START:"premiere_start",SEAL_START:"seal_start",SEAL_SUCCESS:"seal_success",SEAL_FAILURE:"seal_failure",DELETE_EXISTING_VIDEO_START:"delete_existing_video_start",DELETE_EXISTING_VIDEO_SUCCESS:"delete_existing_video_success",DELETE_EXISTING_VIDEO_FAILURE:"delete_existing_video_failure",POST_PREMIERE_ATTEMPT:"post_premiere_attempt",POST_PREMIERE_SUCCESS:"post_premiere_success",POST_PREMIERE_FAILURE:"post_premiere_failure",OPTED_OUT_OF_PREMIERE_DEFAULT:"opted_out_of_premiere_default"})}),null);
__d("PremiereVideoType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NOW:"now",SCHEDULED:"scheduled"})}),null);
__d("ShowsVideoDataSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UPLOAD:"upload",EDIT:"edit",LIVE:"live",LIVE_EDIT:"live_edit"})}),null);
__d("SphericalDirectorFunnelUtils",["FunnelLogger","SphericalDirectorFunnelConstants","UserAgent"],(function(a,b,c,d,e,f){__p&&__p();a={getBrowserTag:function(){__p&&__p();if(b("UserAgent").isBrowser("Firefox"))return b("SphericalDirectorFunnelConstants").TAGS.BROWSERS.FIREFOX;else if(b("UserAgent").isBrowser("Chrome"))return b("SphericalDirectorFunnelConstants").TAGS.BROWSERS.CHROME;else if(b("UserAgent").isBrowser("IE"))return b("SphericalDirectorFunnelConstants").TAGS.BROWSERS.IE;else if(b("UserAgent").isBrowser("Safari"))return b("SphericalDirectorFunnelConstants").TAGS.BROWSERS.SAFARI;else if(b("UserAgent").isBrowser("Opera"))return b("SphericalDirectorFunnelConstants").TAGS.BROWSERS.OPERA;else if(b("UserAgent").isBrowser("Edge"))return b("SphericalDirectorFunnelConstants").TAGS.BROWSERS.EDGE;else return b("SphericalDirectorFunnelConstants").TAGS.BROWSERS.OTHER_BROWSER},getPlatformTag:function(){if(b("UserAgent").isPlatform("Mac OS X"))return b("SphericalDirectorFunnelConstants").TAGS.PLATFORMS.MAC_OS_X;else if(b("UserAgent").isPlatform("Windows"))return b("SphericalDirectorFunnelConstants").TAGS.PLATFORMS.WINDOWS;else if(b("UserAgent").isPlatform("Chrome OS"))return b("SphericalDirectorFunnelConstants").TAGS.PLATFORMS.CHROME_OS;else if(b("UserAgent").isPlatform("Linux"))return b("SphericalDirectorFunnelConstants").TAGS.PLATFORMS.LINUX;else return b("SphericalDirectorFunnelConstants").TAGS.PLATFORMS.OTHER_PLATFORM},getSphericalTag:function(a){return a?b("SphericalDirectorFunnelConstants").TAGS.SPHERICAL.IS_SPHERICAL:b("SphericalDirectorFunnelConstants").TAGS.SPHERICAL.IS_NOT_SPHERICAL},startFunnel:function(a,c,d){c===void 0&&(c=!1);d===void 0&&(d=!1);if(!d&&b("FunnelLogger").getFunnelInstance(b("SphericalDirectorFunnelConstants").FUNNEL_NAME))return;b("FunnelLogger").startFunnel(b("SphericalDirectorFunnelConstants").FUNNEL_NAME);b("FunnelLogger").addFunnelTag(b("SphericalDirectorFunnelConstants").FUNNEL_NAME,a);b("FunnelLogger").addFunnelTag(b("SphericalDirectorFunnelConstants").FUNNEL_NAME,this.getBrowserTag());b("FunnelLogger").addFunnelTag(b("SphericalDirectorFunnelConstants").FUNNEL_NAME,this.getPlatformTag());b("FunnelLogger").addFunnelTag(b("SphericalDirectorFunnelConstants").FUNNEL_NAME,this.getSphericalTag(c))}};e.exports=a}),null);
__d("MediaManagerContentActions",["MediaManagerActionTypes","MediaManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MediaManagerActionTypes").MediaManagerActionTypes;e.exports={selectContentTable:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.SELECT_CONTENT_TABLE,contentTable:a,source:c})},loadMultipleContentTablesStart:function(a){a.forEach(function(a){b("MediaManagerDispatcher").dispatch({type:g.LOAD_CONTENT_TABLE_START,table:a})})},loadContentTableStart:function(a){b("MediaManagerDispatcher").dispatch({type:g.CLEAR_CONTENT_TABLE_FILTERS,table:a}),b("MediaManagerDispatcher").dispatch({type:g.LOAD_CONTENT_TABLE_START,table:a})},clearContentTableSearchString:function(a){b("MediaManagerDispatcher").dispatch({type:g.CLEAR_CONTENT_TABLE_SEARCH_STRING,table:a})},loadContentTableFinished:function(a,c,d,e){b("MediaManagerDispatcher").dispatch({type:g.LOAD_CONTENT_TABLE_FINISHED,table:a,rows:c,nextPagePromise:d,summary:e})},handleSortChanged:function(a,c,d){b("MediaManagerDispatcher").dispatch({type:g.CONTENT_TABLE_SORT_CHANGED,table:a,orderBy:c,defaultOrderDirection:d}),b("MediaManagerDispatcher").dispatch({type:g.LOAD_CONTENT_TABLE_START,table:a})},selectRows:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.CONTENT_TABLE_SELECT_ROWS,table:a,rows:c})},unselectRows:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.CONTENT_TABLE_UNSELECT_ROWS,table:a,rows:c})},refreshRowsStart:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.CONTENT_TABLE_REFRESH_ROWS_START,table:a,rows:c})},refreshRowsFinished:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.CONTENT_TABLE_REFRESH_ROWS_FINISHED,table:a,rowsByIDs:c})},selectStatusFilterOnly:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.SELECT_CONTENT_STATUS_FILTER,table:a,status:c})},selectStatusFilter:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.SELECT_CONTENT_STATUS_FILTER,table:a,status:c}),b("MediaManagerDispatcher").dispatch({type:g.LOAD_CONTENT_TABLE_START,table:a})},selectWagerStatusFilter:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.SELECT_WAGER_STATUS_FILTER,table:a,status:c}),b("MediaManagerDispatcher").dispatch({type:g.LOAD_CONTENT_TABLE_START,table:a})},selectTypeFilter:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.SELECT_CONTENT_TYPE_FILTER,table:a,contentType:c}),b("MediaManagerDispatcher").dispatch({type:g.LOAD_CONTENT_TABLE_START,table:a})},selectCustomFilter:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.SELECT_CONTENT_CUSTOM_FILTER,table:a,field:c})},selectColumnPreset:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.SELECT_COLUMN_PRESET,table:a,selectedPreset:c})},applyCustomFilter:function(a,c,d){b("MediaManagerDispatcher").dispatch({type:g.APPLY_CONTENT_CUSTOM_FILTER,table:a,filters:c,customFilterActionType:d}),b("MediaManagerDispatcher").dispatch({type:g.LOAD_CONTENT_TABLE_START,table:a})},applyCustomFilterWithOptions:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.APPLY_CONTENT_CUSTOM_FILTER_WITH_OPTIONS,table:a,filter:c}),b("MediaManagerDispatcher").dispatch({type:g.LOAD_CONTENT_TABLE_START,table:a})},selectDateRange:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.SELECT_CONTENT_DATE_RANGE,table:a,dateRange:c}),b("MediaManagerDispatcher").dispatch({type:g.LOAD_CONTENT_TABLE_START,table:a})},setSearchString:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.SET_CONTENT_SEARCH_STRING,table:a,searchString:c}),b("MediaManagerDispatcher").dispatch({type:g.LOAD_CONTENT_TABLE_START,table:a})},loadNextPage:function(a){b("MediaManagerDispatcher").dispatch({type:g.LOAD_CONTENT_TABLE_NEXT_PAGE,table:a})},removeRows:function(a,c){a.forEach(function(a){return b("MediaManagerDispatcher").dispatch({type:g.CONTENT_TABLE_REMOVE_ROWS,table:a,rows:c})})},loadContentTableError:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.LOAD_CONTENT_TABLE_ERROR,table:a,error:c})},prependRowToLoad:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.CONTENT_TABLE_PREPEND_ROWS_TO_LOAD,table:a,rowsToLoad:c})},addRowToRefreshingRows:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.ADD_ROW_TO_REFRESHING_ROWS,table:a,rows:c})},dismissNux:function(){b("MediaManagerDispatcher").dispatch({type:g.CONTENT_DISMISS_NUX})},clearTable:function(a){b("MediaManagerDispatcher").dispatch({type:g.CLEAR_CONTENT_TABLE,table:a})},attemptPublishAllDraftNoStoryPMVs:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.PMV_ATTEMPT_PUBLISH_ALL_NO_STORY_DRAFTS,pageID:c})},confirmPublishAllDraftNoStoryPMVs:function(a){b("MediaManagerDispatcher").dispatch({type:g.PMV_CONFIRM_PUBLISH_ALL_NO_STORY_DRAFTS,pageID:a})}}}),null);
__d("VideoComposerClippingTypes",["ImmutableRecordWithV4Types"],(function(a,b,c,d,e,f){"use strict";a=b("ImmutableRecordWithV4Types").Record;c=a({title:"",startTime:null,endTime:null});e.exports=c}),null);
__d("VideoComposerClippingStoreClass",["Promise","ImmutableRecordWithV4Types","VideoComposerActionTypes","VideoComposerClippingTypes","VideoComposerStoreBase","flattenPHPQueryData","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ImmutableRecordWithV4Types").Record;var g=a({videoComposerID:"",clipTimes:b("immutable").List(),selectedStartTime:null,selectedEndTime:null,isPlaying:!1,vpc:null});c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return g()};d.reduceImpl=function(a,c){__p&&__p();switch(c.type){case b("VideoComposerActionTypes").RESET_COMPOSER:return this.getInitialState();case b("VideoComposerActionTypes").CLIPPING_SET_END_TIME:this.$VideoComposerClippingStoreClass1(a.vpc,c.endTime);return a.set("selectedEndTime",c.endTime);case b("VideoComposerActionTypes").CLIPPING_SET_PLAYER_STATE:return a.set("isPlaying",c.isPlaying);case b("VideoComposerActionTypes").CLIPPING_SET_START_TIME:this.$VideoComposerClippingStoreClass1(a.vpc,c.startTime);return a.set("selectedStartTime",c.startTime);case b("VideoComposerActionTypes").CLIPPING_SET_VPC:return a.set("vpc",c.vpc);case b("VideoComposerActionTypes").CLIPPING_PREVIEW_BY_START_END:return this.$VideoComposerClippingStoreClass2(c);case b("VideoComposerActionTypes").CLIPPING_ADD_CLIP:return this.$VideoComposerClippingStoreClass3();case b("VideoComposerActionTypes").CLIPPING_EDIT_CLIP:return this.$VideoComposerClippingStoreClass4(c.index,c.title);case b("VideoComposerActionTypes").CLIPPING_DELETE_CLIP:return this.$VideoComposerClippingStoreClass5(c.index);default:return a}};d.$VideoComposerClippingStoreClass1=function(a,b){a&&a.seek(b)};d.$VideoComposerClippingStoreClass3=function(){var a=b("VideoComposerClippingTypes")(),c=this.getState();a=a.set("startTime",c.get("selectedStartTime")||0).set("endTime",c.get("selectedEndTime")||0);c=c.set("clipTimes",c.get("clipTimes").push(a));return c};d.$VideoComposerClippingStoreClass4=function(a,c){var d=this.getState(),e=d.get("clipTimes"),f=e.get(a),g=b("VideoComposerClippingTypes")();g=g.set("startTime",f.startTime||0).set("endTime",f.endTime||0).set("title",c);e=e.set(a,g);d=d.set("clipTimes",e);return d};d.$VideoComposerClippingStoreClass5=function(a){var b=this.getState(),c=b.get("clipTimes");c=c["delete"](a);b=b.set("clipTimes",c);return b};d.$VideoComposerClippingStoreClass2=function(a){a=this.getState();var b=a.get("vpc");if(b){b.emit("previewByStartEndTime",{endTime:(b=a.get("selectedEndTime"))!=null?b:0,startTime:(b=a.get("selectedStartTime"))!=null?b:0})}a=a.set("isPlaying",!0);return a};d.getPostDataForEdit=function(){var a=this.getState();a=a.clipTimes;var c=[],d={};a.forEach(function(a){a={start_time:a.startTime,end_time:a.endTime,title:a.title};c.push(a)});d.clip_times=c;return b("Promise").resolve(b("flattenPHPQueryData")(d))};return c}(b("VideoComposerStoreBase"));e.exports=c}),null);
__d("SphericalDirectorActionType",["keyMirror"],(function(a,b,c,d,e,f){a=b("keyMirror")({CLEAR_SPHERICAL_DIRECTOR:"",RESET_VIDEO_PLAYER_CONTROLLER:"",SET_VIDEO_PLAYER_CONTROLLER:"",SET_VIDEO_UNAVAILABLE:"",UPDATE_ACTIVE_GUIDE_KEYFRAME:"",UPDATE_ADD_GUIDE_KEYFRAME:"",UPDATE_SAVE_GUIDE_KEYFRAME:"",UPDATE_REMOVE_GUIDE_KEYFRAME:"",UPDATE_DELETE_SELECTED_GUIDE_KEYFRAMES:"",UPDATE_CLEAR_GUIDE_KEYFRAMES:"",UPDATE_CURRENT_VIEWPORT:"",UPDATE_ENABLE_OMNISTAB:"",UPDATE_ERROR_MESSAGE_INFO:"",UPDATE_FOV:"",UPDATE_GUIDE_ENABLED:"",UPDATE_GUIDE_VISIBILITY:"",UPDATE_GUIDE_KEYFRAMES:"",UPDATE_SUGGESTED_GUIDE_KEYFRAMES:"",UPDATE_TOGGLE_GUIDE_KEYFRAME_FOR_DELETION:"",UPDATE_IS_EDITING_GUIDE_POINT:"",UPDATE_TAB_VISIBILITY:"",UPDATE_ORIGINAL_SPHERICAL_METADATA:"",UPDATE_PROJECTION:"",UPDATE_STEREO_MODE:"",UPDATE_HAS_SPATIAL_AUDIO:"",UPDATE_FB_SPATIAL_AUDIO_METADATA:"",UPDATE_YT_SPATIAL_AUDIO_METADATA:"",UPDATE_IS_MOBILE_PREVIEW:""});e.exports=a}),null);
__d("SphericalDirectorDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationReactDispatcher"))({strict:!0})}),null);
__d("SphericalDirectorErrorUtils",["fbt","React","SimpleXUIDialog","SphericalVideoGuideAnimationConfig"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("SphericalVideoGuideAnimationConfig").MIN_INTERVAL_MS;c=b("SphericalVideoGuideAnimationConfig").MS_PER_SECOND;var h=g._("Guide points need to be at least {seconds} seconds apart.",[g._param("seconds",a/c+1)]),i=g._("Not Enough Time Between Guide Points");d={getAddPointMessage:function(){return h},getAddPointTitle:function(){return i},showAddPointDialog:function(a){b("SimpleXUIDialog").show(this.getAddPointMessage(),this.getAddPointTitle(),a);return},showFileExtensionDialog:function(a,c,d){a=g._("Unsupported file extension: {file extension}.",[g._param("file extension",a)]);c=g._("Supported file extensions are {list of supported file extensions}.",[g._param("list of supported file extensions",c)]);b("SimpleXUIDialog").show(b("React").createElement("div",null,b("React").createElement("div",null,a),b("React").createElement("div",null,c)),g._("File Extension Not Supported"),d);return},showGuideOutsideLimitsDialog:function(a){b("SimpleXUIDialog").show(g._("Guide points cannot be added outside of the visible viewport."),g._("Guide Point Not In Viewport"),a);return},showFileSizeTooLargeStandaloneDialog:function(a,c){b("SimpleXUIDialog").show(g._("Video file size needs to be smaller than {max size in gb} GB. You can upload larger file sizes on your Page.",[g._param("max size in gb",a)]),g._("Exceeded file size limit"),c);return},showFileSizeTooLargeComposerDialog:function(a,c){b("SimpleXUIDialog").show(g._("360 video file size needs to be smaller than {GB} GB. Please try again with a smaller video.",[g._param("GB",a)]),g._("Video file too large"),c);return},showBitrateTooHighDialog:function(a,c){b("SimpleXUIDialog").show(g._("360 video bitrate needs to be less than {MB} MB per second. Please try again with a lower-bitrate video.",[g._param("MB",a)]),g._("Video bitrate too high"),c);return}};e.exports=d}),null);
__d("SphericalDirectorGuideKeyframeData",["SphericalVideoGuideAnimationConfig","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SphericalVideoGuideAnimationConfig").MIN_INTERVAL_MS;a={fieldOfViewDegrees:60,isSelected:!1,isSelectedForDeletion:!1,pitch:0,thumbnailURI:"",timestamp:0,yaw:0};c=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.getFromLegacyParams=function(a){return new b({timestamp:a[0],pitch:a[1],yaw:a[2]})};var c=b.prototype;c.compare=function(a){return this.get("timestamp")-a.get("timestamp")};c.getLegacyParams=function(){return[this.timestamp,this.pitch,this.yaw]};c.isTooCloseTo=function(a){a=Math.abs(this.get("timestamp")-a.get("timestamp"));return a<g};return b}(b("immutable").Record(a));e.exports=c}),null);
__d("SphericalDirectorStore",["FluxReduceStore","ImmutableRecordWithV4Types","SphericalDirectorActionType","SphericalDirectorDispatcher","SphericalDirectorErrorUtils","SphericalDirectorGuideKeyframeData","VideoProjection","VideoStereoFormat","immutable"],(function(a,b,c,d,e,f){__p&&__p();a=b("ImmutableRecordWithV4Types").Record;var g=b("immutable").List;c={guideEnabled:!1,guideVisible:!0,guideKeyframes:g([b("SphericalDirectorGuideKeyframeData").getFromLegacyParams([0,0,0])]),suggestedGuideKeyframes:g([b("SphericalDirectorGuideKeyframeData").getFromLegacyParams([0,0,0])]),fov:60,projection:b("VideoProjection").EQUIRECTANGULAR,stereoMode:b("VideoStereoFormat").MONO,hasSpatialAudio:!1,fbSpatialAudioMetadata:null,ytSpatialAudioMetadata:null,currentViewport:{yaw:0,pitch:0},enableOmnistab:!1,visible:!1,controller:null,unavailable:!1,isEditingGuidePoint:!1,originalSphericalMetadata:{},errorInfo:null,isMobilePreview:!0};var h=a(c);d=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return h()};d.reduce=function(a,c){__p&&__p();switch(c.type){case b("SphericalDirectorActionType").UPDATE_CURRENT_VIEWPORT:return this.$SphericalDirectorStore1(c,a);case b("SphericalDirectorActionType").UPDATE_FOV:return this.$SphericalDirectorStore2(c,a);case b("SphericalDirectorActionType").UPDATE_GUIDE_ENABLED:return this.$SphericalDirectorStore3(c,a);case b("SphericalDirectorActionType").UPDATE_GUIDE_VISIBILITY:return this.$SphericalDirectorStore4(c,a);case b("SphericalDirectorActionType").UPDATE_GUIDE_KEYFRAMES:return this.$SphericalDirectorStore5(c,a);case b("SphericalDirectorActionType").UPDATE_SUGGESTED_GUIDE_KEYFRAMES:return this.$SphericalDirectorStore6(c,a);case b("SphericalDirectorActionType").UPDATE_ADD_GUIDE_KEYFRAME:return this.$SphericalDirectorStore7(c,a);case b("SphericalDirectorActionType").UPDATE_SAVE_GUIDE_KEYFRAME:return this.$SphericalDirectorStore8(c,a);case b("SphericalDirectorActionType").UPDATE_REMOVE_GUIDE_KEYFRAME:return this.$SphericalDirectorStore9(c,a);case b("SphericalDirectorActionType").UPDATE_DELETE_SELECTED_GUIDE_KEYFRAMES:return this.$SphericalDirectorStore10(c,a);case b("SphericalDirectorActionType").UPDATE_CLEAR_GUIDE_KEYFRAMES:return this.$SphericalDirectorStore11(c,a);case b("SphericalDirectorActionType").UPDATE_ENABLE_OMNISTAB:return this.$SphericalDirectorStore12(c,a);case b("SphericalDirectorActionType").UPDATE_TAB_VISIBILITY:return this.$SphericalDirectorStore13(c,a);case b("SphericalDirectorActionType").SET_VIDEO_PLAYER_CONTROLLER:return this.$SphericalDirectorStore14(c,a);case b("SphericalDirectorActionType").SET_VIDEO_UNAVAILABLE:return this.$SphericalDirectorStore15(c,a);case b("SphericalDirectorActionType").RESET_VIDEO_PLAYER_CONTROLLER:return this.$SphericalDirectorStore16(c,a);case b("SphericalDirectorActionType").UPDATE_ACTIVE_GUIDE_KEYFRAME:return this.$SphericalDirectorStore17(c,a);case b("SphericalDirectorActionType").UPDATE_TOGGLE_GUIDE_KEYFRAME_FOR_DELETION:return this.$SphericalDirectorStore18(c,a);case b("SphericalDirectorActionType").UPDATE_IS_EDITING_GUIDE_POINT:return this.$SphericalDirectorStore19(c,a);case b("SphericalDirectorActionType").UPDATE_ERROR_MESSAGE_INFO:return this.$SphericalDirectorStore20(c,a);case b("SphericalDirectorActionType").UPDATE_ORIGINAL_SPHERICAL_METADATA:return this.$SphericalDirectorStore21(c,a);case b("SphericalDirectorActionType").UPDATE_PROJECTION:return this.$SphericalDirectorStore22(c,a);case b("SphericalDirectorActionType").UPDATE_STEREO_MODE:return this.$SphericalDirectorStore23(c,a);case b("SphericalDirectorActionType").UPDATE_HAS_SPATIAL_AUDIO:return this.$SphericalDirectorStore24(c,a);case b("SphericalDirectorActionType").UPDATE_FB_SPATIAL_AUDIO_METADATA:return this.$SphericalDirectorStore25(c,a);case b("SphericalDirectorActionType").UPDATE_YT_SPATIAL_AUDIO_METADATA:return this.$SphericalDirectorStore26(c,a);case b("SphericalDirectorActionType").UPDATE_IS_MOBILE_PREVIEW:return this.$SphericalDirectorStore27(c,a);case b("SphericalDirectorActionType").CLEAR_SPHERICAL_DIRECTOR:a=this.getInitialState();return a;default:return a}};d.$SphericalDirectorStore1=function(a,b){b=b.set("currentViewport",{pitch:a.pitch,yaw:a.yaw});return b};d.$SphericalDirectorStore2=function(a,b){b=b.set("fov",a.fov);return b};d.$SphericalDirectorStore3=function(a,b){b=b.set("guideEnabled",a.guideEnabled);return b};d.$SphericalDirectorStore4=function(a,b){b=b.set("guideVisible",a.guideVisible);return b};d.$SphericalDirectorStore12=function(a,b){b=b.set("enableOmnistab",a.enableOmnistab);return b};d.$SphericalDirectorStore5=function(a,b){b=b.set("guideKeyframes",a.guideKeyframes);return b};d.$SphericalDirectorStore6=function(a,b){b=b.set("suggestedGuideKeyframes",a.suggestedGuideKeyframes);return b};d.$SphericalDirectorStore11=function(a,b){b=b.set("guideKeyframes",g([]));return b};d.$SphericalDirectorStore9=function(a,b){var c=this.getState();c=c.guideKeyframes;c=c;var d=c.findIndex(function(b){return b.timestamp===a.timestamp});c.get(d).isSelected&&(b=b.set("isEditingGuidePoint",!1));c=c.splice(d,1);b=b.set("guideKeyframes",c);return b};d.$SphericalDirectorStore7=function(a,c){__p&&__p();var d=this.getState();d=d.guideKeyframes;d=d;var e=a.guideKeyframe;d=d.map(function(a){return a.set("isSelected",!1)});a=d.findIndex(function(a,b){return a.compare(e)>0});a<0&&(a=d.size);if(this.$SphericalDirectorStore28(d,e,a)){d=d.splice(a,0,e);c=c.set("guideKeyframes",d);c=c.set("isEditingGuidePoint",!0);return c}else{c=c.set("errorInfo",{text:b("SphericalDirectorErrorUtils").getAddPointMessage(),title:b("SphericalDirectorErrorUtils").getAddPointTitle(),callback:function(){},confirmOnly:!0});return c}};d.$SphericalDirectorStore8=function(a,b){var c=this.getState();c=c.guideKeyframes;c=c;var d=a.guideKeyframe;c=c.map(function(a){return a.compare(d)===0?d:a});b=b.set("guideKeyframes",c);b=b.set("isEditingGuidePoint",!1);return b};d.$SphericalDirectorStore13=function(a,b){b=b.set("visible",a.visible);return b};d.$SphericalDirectorStore14=function(a,b){b=b.set("controller",a.controller);return b};d.$SphericalDirectorStore15=function(a,b){b=b.set("unavailable",a.unavailable);return b};d.$SphericalDirectorStore16=function(a,b){a=this.getState();a=a.controller;a&&(a.destroy(),b=b.set("controller",null));b=b.set("unavailable",!1);return b};d.$SphericalDirectorStore17=function(a,b){var c=this.getState();c=c.guideKeyframes;c=c;c=c.map(function(b){return b.set("isSelected",b.timestamp===a.timestamp)});b=b.set("guideKeyframes",c);return b};d.$SphericalDirectorStore18=function(a,b){var c=this.getState();c=c.guideKeyframes;c=c;c=c.map(function(b){if(b.timestamp===a.timestamp)return b.set("isSelectedForDeletion",!b.isSelectedForDeletion);else return b});b=b.set("guideKeyframes",c);return b};d.$SphericalDirectorStore19=function(a,b){b=b.set("isEditingGuidePoint",a.isEditingGuidePoint);return b};d.$SphericalDirectorStore20=function(a,b){b=b.set("errorInfo",a.error);return b};d.$SphericalDirectorStore10=function(a,b){a=this.getState();a=a.guideKeyframes;a=a;a=a.filter(function(a){a.isSelected&&a.isSelectedForDeletion&&(b=b.set("isEditingGuidePoint",!1));return!a.isSelectedForDeletion});b=b.set("guideKeyframes",a);return b};d.$SphericalDirectorStore21=function(a,b){b=b.set("originalSphericalMetadata",a.originalSphericalMetadata);return b};d.$SphericalDirectorStore22=function(a,c){c=c.set("projection",a.projection);a.projection!==b("VideoProjection").EQUIRECTANGULAR&&a.projection!==b("VideoProjection").HALF_EQUIRECTANGULAR&&(c=c.set("stereoMode",b("VideoStereoFormat").MONO));return c};d.$SphericalDirectorStore23=function(a,c){c=c.set("stereoMode",a.stereoMode);a.stereoMode!==b("VideoStereoFormat").MONO&&(c=c.set("enableOmnistab",!1));return c};d.$SphericalDirectorStore24=function(a,b){b=b.set("hasSpatialAudio",a.hasSpatialAudio);return b};d.$SphericalDirectorStore25=function(a,b){b=b.set("fbSpatialAudioMetadata",a.fbSpatialAudioMetadata);return b};d.$SphericalDirectorStore26=function(a,b){b=b.set("ytSpatialAudioMetadata",a.ytSpatialAudioMetadata);return b};d.$SphericalDirectorStore27=function(a,b){b=b.set("isMobilePreview",a.isMobilePreview);return b};d.$SphericalDirectorStore28=function(a,b,c){var d=c<a.size?!a.get(c).isTooCloseTo(b):!0;a=c>0?!a.get(c-1).isTooCloseTo(b):!0;return d&&a};d.getGuideKeyframesLegacy=function(){var a=this.getState();a=a.guideKeyframes;return a.map(function(a){return a.getLegacyParams()}).toJS()};d.getPostData=function(){var a=this.getState(),b=a.fov,c=a.enableOmnistab,d=a.projection,e=a.stereoMode;a=a.hasSpatialAudio;var f=this.getGuideKeyframesLegacy(),g=f[0][1],h=f[0][2];f.shift();h={initialHeading:Math.round(h),initialPitch:Math.round(g),fov:Math.round(b),guide_enabled:f.length>0,guide_keyframes:f,enable_omnistab:c,projection:d,stereoMode:e,hasSpatialAudio:a};return h};return c}(b("FluxReduceStore"));d.__moduleID=e.id;e.exports=new d(b("SphericalDirectorDispatcher"))}),null);
__d("SphericalDirectorAction",["SphericalDirectorActionType","SphericalDirectorDispatcher","SphericalDirectorStore"],(function(a,b,c,d,e,f){__p&&__p();b("SphericalDirectorStore");a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.clearSphericalDirector=function(){var a={type:b("SphericalDirectorActionType").CLEAR_SPHERICAL_DIRECTOR};b("SphericalDirectorDispatcher").dispatch(a)};c.updateCurrentViewport=function(a,c){a={type:b("SphericalDirectorActionType").UPDATE_CURRENT_VIEWPORT,pitch:a,yaw:c};b("SphericalDirectorDispatcher").dispatch(a)};c.updateFOV=function(a){a={type:b("SphericalDirectorActionType").UPDATE_FOV,fov:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateGuideEnabled=function(a){a={type:b("SphericalDirectorActionType").UPDATE_GUIDE_ENABLED,guideEnabled:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateGuideVisibility=function(a){a={type:b("SphericalDirectorActionType").UPDATE_GUIDE_VISIBILITY,guideVisible:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateEnableOmnistab=function(a){a={type:b("SphericalDirectorActionType").UPDATE_ENABLE_OMNISTAB,enableOmnistab:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateGuideKeyframes=function(a){a={type:b("SphericalDirectorActionType").UPDATE_GUIDE_KEYFRAMES,guideKeyframes:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateSuggestedGuideKeyframes=function(a){a={type:b("SphericalDirectorActionType").UPDATE_SUGGESTED_GUIDE_KEYFRAMES,suggestedGuideKeyframes:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateAddGuideKeyframe=function(a){a={type:b("SphericalDirectorActionType").UPDATE_ADD_GUIDE_KEYFRAME,guideKeyframe:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateSaveGuideKeyframe=function(a){a={type:b("SphericalDirectorActionType").UPDATE_SAVE_GUIDE_KEYFRAME,guideKeyframe:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateRemoveGuideKeyframe=function(a){a={type:b("SphericalDirectorActionType").UPDATE_REMOVE_GUIDE_KEYFRAME,timestamp:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateClearGuideKeyframes=function(){var a={type:b("SphericalDirectorActionType").UPDATE_CLEAR_GUIDE_KEYFRAMES};b("SphericalDirectorDispatcher").dispatch(a)};c.updateTabVisibility=function(a){a={type:b("SphericalDirectorActionType").UPDATE_TAB_VISIBILITY,visible:a};b("SphericalDirectorDispatcher").dispatch(a)};c.setVideoPlayerController=function(a){a={type:b("SphericalDirectorActionType").SET_VIDEO_PLAYER_CONTROLLER,controller:a};b("SphericalDirectorDispatcher").dispatch(a)};c.setVideoUnavailable=function(a){a={type:b("SphericalDirectorActionType").SET_VIDEO_UNAVAILABLE,unavailable:a};b("SphericalDirectorDispatcher").dispatch(a)};c.resetVideoPlayerController=function(){var a={type:b("SphericalDirectorActionType").RESET_VIDEO_PLAYER_CONTROLLER};b("SphericalDirectorDispatcher").dispatch(a)};c.updateActiveGuideKeyframe=function(a){a={type:b("SphericalDirectorActionType").UPDATE_ACTIVE_GUIDE_KEYFRAME,timestamp:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateIsEditingGuidePoint=function(a){a={type:b("SphericalDirectorActionType").UPDATE_IS_EDITING_GUIDE_POINT,isEditingGuidePoint:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateErrorMessage=function(a){a={type:b("SphericalDirectorActionType").UPDATE_ERROR_MESSAGE_INFO,error:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateToggleGuideKeyframeForDeletion=function(a){a={type:b("SphericalDirectorActionType").UPDATE_TOGGLE_GUIDE_KEYFRAME_FOR_DELETION,timestamp:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateDeleteSelectedGuideKeyframes=function(){var a={type:b("SphericalDirectorActionType").UPDATE_DELETE_SELECTED_GUIDE_KEYFRAMES};b("SphericalDirectorDispatcher").dispatch(a)};c.updateOriginalSphericalMetadata=function(a){a={type:b("SphericalDirectorActionType").UPDATE_ORIGINAL_SPHERICAL_METADATA,originalSphericalMetadata:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateProjection=function(a){a={type:b("SphericalDirectorActionType").UPDATE_PROJECTION,projection:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateStereoMode=function(a){a={type:b("SphericalDirectorActionType").UPDATE_STEREO_MODE,stereoMode:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateHasSpatialAudio=function(a){a={type:b("SphericalDirectorActionType").UPDATE_HAS_SPATIAL_AUDIO,hasSpatialAudio:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateFbSpatialAudioMetadata=function(a){a={type:b("SphericalDirectorActionType").UPDATE_FB_SPATIAL_AUDIO_METADATA,fbSpatialAudioMetadata:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateYtSpatialAudioMetadata=function(a){a={type:b("SphericalDirectorActionType").UPDATE_FB_SPATIAL_AUDIO_METADATA,ytSpatialAudioMetadata:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateIsMobilePreview=function(a){a={type:b("SphericalDirectorActionType").UPDATE_IS_MOBILE_PREVIEW,isMobilePreview:a};b("SphericalDirectorDispatcher").dispatch(a)};return a}();e.exports=new a()}),null);
__d("SphericalDirectorMetadataUtils",["SphericalDirectorAction","SphericalDirectorComponentSources","SphericalDirectorGuideKeyframeData","immutable"],(function(a,b,c,d,e,f){__p&&__p();var g=b("immutable").List,h=40,i=90;a={initWithParams:function(a,c,d,e,f,h,i,j,k){__p&&__p();b("SphericalDirectorAction").clearSphericalDirector();b("SphericalDirectorAction").updateEnableOmnistab(k);b("SphericalDirectorAction").updateFOV(d);b("SphericalDirectorAction").updateCurrentViewport(c,a);b("SphericalDirectorAction").updateGuideEnabled(e);b("SphericalDirectorAction").updateProjection(h);b("SphericalDirectorAction").updateStereoMode(i);b("SphericalDirectorAction").updateHasSpatialAudio(j);k=[[0,c,a]].concat(f).map(function(a){return b("SphericalDirectorGuideKeyframeData").getFromLegacyParams(a)});b("SphericalDirectorAction").updateGuideKeyframes(g(k))},initWithOriginalSphericalMetadata:function(a){__p&&__p();a.stereoMode&&b("SphericalDirectorAction").updateStereoMode(a.stereoMode);a.projectionType&&b("SphericalDirectorAction").updateProjection(a.projectionType);(a.fbSpatialAudioMetadata||a.ytSpatialAudioMetadata)&&(b("SphericalDirectorAction").updateHasSpatialAudio(!0),a.fbSpatialAudioMetadata&&b("SphericalDirectorAction").updateFbSpatialAudioMetadata(a.fbSpatialAudioMetadata),a.ytSpatialAudioMetadata&&b("SphericalDirectorAction").updateYtSpatialAudioMetadata(a.ytSpatialAudioMetadata));a.initialFOV!=null&&a.initialFOV!==0&&a.initialFOV>=h&&a.initialFOV<=i&&b("SphericalDirectorAction").updateFOV(a.initialFOV);var c=a.initialPitch!=null&&a.initialPitch!==0&&Number.isFinite(a.initialPitch)?a.initialPitch:0,d=a.initialYaw!=null&&a.initialYaw!==0&&Number.isFinite(a.initialYaw)?a.initialYaw:0;b("SphericalDirectorAction").updateCurrentViewport(c,d);d=new(b("SphericalDirectorGuideKeyframeData"))({timestamp:0,yaw:Math.round(d),pitch:Math.round(c),thumbnailURI:null,isSelected:!0});b("SphericalDirectorAction").updateSaveGuideKeyframe(d);if(a.guideData){c=a.guideData.keyframes.map(function(a){return new(b("SphericalDirectorGuideKeyframeData"))({timestamp:a.timestamp,yaw:a.yaw,pitch:a.pitch,thumbnailURI:null,isSelected:!1})});c=g([d].concat(c));b("SphericalDirectorAction").updateGuideKeyframes(c)}else c=g([d]);b("SphericalDirectorAction").updateOriginalSphericalMetadata(a)},isV1:function(a){return a===b("SphericalDirectorComponentSources").PAGE_COMPOSER_V1||a===b("SphericalDirectorComponentSources").EDIT_DIALOG_V1||a===b("SphericalDirectorComponentSources").CROSSPOST_DIALOG_V1}};e.exports=a}),null);
__d("ISOVideoBoxFieldDefinition",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({NUMBER:10,FIELD:11,REMAINING_SPACE:12});b=Object.freeze({NUMBER:100,STRING:101,ARRAY_OF_NUMBERS:102,ARRAY_OF_STRINGS:103,ARRAY_BUFFER:104});c=Object.freeze({INT_8_SIZE:1,INT_16_SIZE:2,ATOM_LENGTH_BYTES:4,ATOM_NAME_BYTES:4,INT_32_SIZE:4});e.exports=Object.freeze({ISOVideoBoxFieldType:b,ISOVideoBoxFieldSize:c,ISOVideoBoxFieldLength:a})}),null);
__d("ISOVideoBoxUtils",["ISOVideoBoxFieldDefinition"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize;a={readString:function(a,b,c){var d=[];for(var e=0;e<c;e++)d.push(String.fromCharCode(a.getUint8(b+e)));return d.join("")},readNumber:function(a,b,c){switch(c){case g.INT_8_SIZE:return a.getUint8(b);case g.INT_16_SIZE:return a.getUint16(b);case g.ATOM_LENGTH_BYTES:case g.ATOM_NAME_BYTES:case g.INT_32_SIZE:return a.getUint32(b);default:throw new Error("Unexpected field size: "+c)}},writeString:function(a,b,c){for(var d=0;d<c.length;d++){var e=c.charCodeAt(d);a.setUint8(b+d,e)}},writeNumber:function(a,b,c,d){switch(c){case g.INT_8_SIZE:return a.setUint8(b,d);case g.INT_16_SIZE:return a.setUint16(b,d);case g.ATOM_LENGTH_BYTES:case g.ATOM_NAME_BYTES:case g.INT_32_SIZE:return a.setUint32(b,d);default:throw new Error("Unexpected field size: "+c)}},writeArrayBuffer:function(a,b,c){var d=new DataView(c);for(var e=0;e<c.byteLength;e++)a.setUint8(b+e,d.getUint8(e))}};e.exports=a}),null);
__d("ISOVideoBox",["Promise","Int64","ISOVideoBoxConstants","ISOVideoBoxFieldDefinition","ISOVideoBoxUtils","fileSlice"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,h=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType;a=function(){__p&&__p();function a(a){this.__size=a.size||b("ISOVideoBoxConstants").BOX_BASE_SIZE,this.__boxtype=a.boxtype,this.__extraFields=a.extraFields,a.isLargeSize?this.__isLargeSize=!0:this.__isLargeSize=!1,this.__parent=null,this.__children=[],this.__size=a.size||this.getFieldsSize(),a.source&&(this.__source=a.source)}a.getExtraFieldDefinitions=function(){return[]};var c=a.prototype;c.getBoxtype=function(){return this.__boxtype};c.getSize=function(){return this.__size};c.getExtraFields=function(){return this.__extraFields};c.getChildren=function(){return this.__children};c.getParent=function(){return this.__parent};c.getSource=function(){return this.__source};c.getBuffer=function(a){__p&&__p();var c=this;return new(b("Promise"))(function(d,e){__p&&__p();var f=c.getExtraFields()[a];if(!f){e(a+" was not found in box fields");return}if(f.type==="buffer"){d(f.buffer);return}if(f.type==="info"){if(!c.__source){e("buffer was requested but source is missing from box");return}var g=f.startOffset;f=g+f.length;if(c.__source instanceof File){var h=new FileReader();h.onload=function(a){a=h.result;d(a)};h.onerror=function(a){e(a)};h.readAsArrayBuffer(b("fileSlice").call(c.__source,g,f))}else d(c.__source.slice(g,f));return}e(a+" is not a buffer type")})};c.getFieldsSize=function(){__p&&__p();var a=this,b=2*g.INT_32_SIZE;this.__isLargeSize&&(b+=2*g.INT_32_SIZE);var c=this.constructor.getExtraFieldDefinitions();c.forEach(function(c){__p&&__p();var d;switch(c.type){case h.NUMBER:b+=c.size;break;case h.STRING:d=c.requiredValue!==void 0?c.requiredValue:a.__extraFields[c.name];if(!(typeof d==="string"))throw new Error("Field "+c.name+" is not a string");b+=d.length;break;case h.ARRAY_OF_NUMBERS:case h.ARRAY_OF_STRINGS:d=c.requiredValue!==void 0?c.requiredValue:a.__extraFields[c.name];if(!Array.isArray(d))throw new Error("Field "+c.name+" is not an array");b+=d.length*c.size;break;case h.ARRAY_BUFFER:d=a.__extraFields[c.name];if(d instanceof ArrayBuffer)b+=d.byteLength;else if(typeof d.startOffset==="number"&&typeof d.length==="number")b+=d.length;else throw new Error("Field '"+c.name+"' is not an ArrayBuffer or an ArrayBuffer reference");break;default:throw new Error("Unexpected field type: "+c.type)}});return b};c.$1=function(a){this.__size+=a,this.__parent&&this.__parent.$1(a)};c.addChild=function(a,b){b===void 0&&(b=!0);var c=a.getSize();a.$2(this);this.__children.push(a);b&&this.$1(c)};c.$2=function(a){this.__parent=a};c.removeChild=function(a,b){__p&&__p();b===void 0&&(b=0);for(var c=0;c<this.__children.length;c++)if(this.__children[c].getBoxtype()===a)if(b===0){var d=this.__children[c].getSize();this.__children.splice(c,1);this.$1(-d);return!0}else b-=1;return!1};c.$3=function(a){for(var b=0;b<this.__children.length;b++)if(this.__children[b]===a){var c=this.__children[b].getSize();this.__children.splice(b,1);this.$1(-c);return}};c.remove=function(){if(!this.__parent)return;this.__parent.$3(this)};c.setSource=function(a){this.__source=a};c.boxToArrayBuffer=function(a,b,c){this.__boxToArrayBufferImpl(a,b,c)};c.__boxToArrayBufferImpl=function(a,b,c){__p&&__p();this.__headerToArrayBuffer(a,b,c);for(var d=this.__children,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;g.__boxToArrayBufferImpl(a,b,c)}};c.__headerToArrayBuffer=function(a,c,d){__p&&__p();this.__isLargeSize?a.setUint32(c.getOffset(),1):a.setUint32(c.getOffset(),this.__size);c.incrementOffset(g.INT_32_SIZE);b("ISOVideoBoxUtils").writeString(a,c.getOffset(),this.__boxtype);c.incrementOffset(g.INT_32_SIZE);if(this.__isLargeSize){var e=b("Int64").fromNumber(this.__size);a.setUint32(c.getOffset(),e.getHighBits());a.setUint32(c.getOffset()+g.INT_32_SIZE,e.getLowBitsUnsigned());c.incrementOffset(g.INT_32_SIZE*2)}this.__extraHeaderToArrayBuffer(a,c,d)};c.__extraHeaderToArrayBuffer=function(a,c,d){__p&&__p();var e=this;this.constructor.getExtraFieldDefinitions().forEach(function(f){__p&&__p();var i=e.__extraFields[f.name];switch(f.type){case h.NUMBER:i=f.requiredValue!==void 0?f.requiredValue:i;if(typeof i!=="number")throw new Error("Field '"+f.name+"' is not a number");b("ISOVideoBoxUtils").writeNumber(a,c.getOffset(),f.size,i);c.incrementOffset(f.size);break;case h.STRING:i=f.requiredValue!==void 0?f.requiredValue:i;if(typeof i!=="string")throw new Error("Field '"+f.name+"' is not a string");b("ISOVideoBoxUtils").writeString(a,c.getOffset(),i);c.incrementOffset(i.length);break;case h.ARRAY_OF_NUMBERS:i=f.requiredValue!==void 0?f.requiredValue:i;if(!Array.isArray(i))throw new Error("Field '"+f.name+"' is not an array");var j=f.size;i.forEach(function(d){if(typeof d!=="number")throw new Error("An array entry of '"+f.name+"' is not a number");b("ISOVideoBoxUtils").writeNumber(a,c.getOffset(),j,d);c.incrementOffset(j)});break;case h.ARRAY_OF_STRINGS:i=f.requiredValue!==void 0?f.requiredValue:i;if(!Array.isArray(i))throw new Error("Field '"+f.name+"' is not an array");var k=f.size;i.forEach(function(d){if(typeof d!=="string")throw new Error("An array entry of '"+f.name+"' is not a number");b("ISOVideoBoxUtils").writeString(a,c.getOffset(),d);c.incrementOffset(k)});break;case h.ARRAY_BUFFER:if(i instanceof ArrayBuffer)b("ISOVideoBoxUtils").writeArrayBuffer(a,c.getOffset(),i),c.incrementOffset(i.byteLength);else if(typeof i.startOffset==="number"&&typeof i.length==="number"){i=i;var l=i.startOffset;i=i.length;if(!d)throw new Error("Original file buffer is not provided");for(var m=0;m<i;m++)a.setUint8(c.getOffset(),d.getUint8(l+m)),c.incrementOffset(g.INT_8_SIZE)}else throw new Error("Field '"+f.name+"' is not an ArrayBuffer or an ArrayBuffer reference");break;default:throw new Error("Unexpected field type: "+f.type)}})};c.toSimpleObject=function(a){__p&&__p();var b=this;if(a){var c=a;Object.keys(this.__extraFields).forEach(function(a){a=b.__extraFields[a];a instanceof ArrayBuffer&&c.push(a)})}var d=[];for(var e=this.__children,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;d.push(h.toSimpleObject(a))}return{children:d,size:this.__size,isLargeSize:this.__isLargeSize,boxtype:this.__boxtype,extraFields:this.__extraFields}};return a}();e.exports=a}),null);
__d("FTYPBox",["ISOVideoBox","ISOVideoBoxFieldDefinition"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength,h=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,i=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.getExtraFieldDefinitions=function(){return a.getExtraFieldDefinitions.call(this).concat([{name:"major_brand",type:i.STRING,length:{type:g.NUMBER,value:h.INT_32_SIZE}},{name:"minor_version",type:i.NUMBER,size:h.INT_32_SIZE},{name:"compatible_brands",type:i.ARRAY_OF_STRINGS,size:h.INT_32_SIZE,length:{type:g.REMAINING_SPACE}}])};return b}(b("ISOVideoBox"));e.exports=a}),null);
__d("FullBox",["ISOVideoBox","ISOVideoBoxFieldDefinition"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength,h=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,i=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.getExtraFieldDefinitions=function(){return a.getExtraFieldDefinitions.call(this).concat([{name:"version",type:i.NUMBER,size:h.INT_8_SIZE},{name:"flags",type:i.ARRAY_OF_NUMBERS,size:h.INT_8_SIZE,length:{type:g.NUMBER,value:3}}])};return b}(b("ISOVideoBox"));e.exports=a}),null);
__d("HDLRBox",["FullBox","ISOVideoBoxFieldDefinition"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength,h=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,i=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.getExtraFieldDefinitions=function(){return a.getExtraFieldDefinitions.call(this).concat([{name:"pre_defined",type:i.NUMBER,size:h.INT_32_SIZE,requiredValue:0},{name:"handler_type",type:i.STRING,length:{type:g.NUMBER,value:h.INT_32_SIZE}},{name:"reserved",type:i.ARRAY_OF_NUMBERS,size:h.INT_32_SIZE,length:{type:g.NUMBER,value:3},requiredValue:[0,0,0]},{name:"name",type:i.STRING,length:{type:g.REMAINING_SPACE}}])};return b}(b("FullBox"));e.exports=a}),null);
__d("SA3DBox",["ISOVideoBox","ISOVideoBoxFieldDefinition"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength,h=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,i=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.getExtraFieldDefinitions=function(){return a.getExtraFieldDefinitions.call(this).concat([{name:"version",type:i.NUMBER,size:h.INT_8_SIZE},{name:"ambisonic_type",type:i.NUMBER,size:h.INT_8_SIZE},{name:"ambisonic_order",type:i.NUMBER,size:h.INT_32_SIZE},{name:"ambisonic_channel_ordering",type:i.NUMBER,size:h.INT_8_SIZE},{name:"ambisonic_normalization",type:i.NUMBER,size:h.INT_8_SIZE},{name:"num_channels",type:i.NUMBER,size:h.INT_32_SIZE},{name:"channel_map",type:i.ARRAY_OF_NUMBERS,size:h.INT_32_SIZE,length:{type:g.FIELD,definition:{name:"num_channels",type:i.NUMBER,size:h.INT_32_SIZE}}}])};return b}(b("ISOVideoBox"));e.exports=a}),null);
__d("SSDBox",["ISOVideoBox","ISOVideoBoxFieldDefinition"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength,h=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,i=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.getExtraFieldDefinitions=function(){return a.getExtraFieldDefinitions.call(this).concat([{name:"reserved",type:i.ARRAY_OF_NUMBERS,size:h.INT_8_SIZE,length:{type:g.NUMBER,value:6},requiredValue:[0,0,0,0,0,0]},{name:"drefIndex",type:i.NUMBER,size:h.INT_16_SIZE},{name:"qtAudioEncodingVersion",type:i.NUMBER,size:h.INT_16_SIZE},{name:"qtAudioEncodingRevision",type:i.NUMBER,size:h.INT_16_SIZE},{name:"qtAudioEncodingVendor",type:i.STRING,length:{type:g.NUMBER,value:h.INT_32_SIZE}},{name:"channelCount",type:i.NUMBER,size:h.INT_16_SIZE},{name:"sampleSize",type:i.NUMBER,size:h.INT_16_SIZE},{name:"qtAudioCompressionID",type:i.NUMBER,size:h.INT_16_SIZE},{name:"qtAudioPacketSize",type:i.NUMBER,size:h.INT_16_SIZE,requiredValue:0},{name:"sampleRate",type:i.NUMBER,size:h.INT_16_SIZE},{name:"sampleRateLowerBits",type:i.NUMBER,size:h.INT_16_SIZE,requiredValue:0}])};return b}(b("ISOVideoBox"));e.exports=a}),null);
__d("STCOBox",["FullBox","ISOVideoBoxFieldDefinition"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength,h=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,i=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType;a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.getExtraFieldDefinitions=function(){return a.getExtraFieldDefinitions.call(this).concat([{name:"entry_count",type:i.NUMBER,size:h.INT_32_SIZE},{name:"chunk_offsets",type:i.ARRAY_OF_NUMBERS,length:{type:g.FIELD,definition:{name:"entry_count",type:i.NUMBER,size:h.INT_32_SIZE}},size:h.INT_32_SIZE}])};var c=b.prototype;c.updateChunkOffsets=function(a){var b=this.__extraFields.chunk_offsets;for(var c=0,d=b.length;c<d;c++)b[c]+=a};return b}(b("FullBox"));e.exports=a}),null);
__d("STSDBox",["FullBox","ISOVideoBoxFieldDefinition"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,h=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.getExtraFieldDefinitions=function(){return a.getExtraFieldDefinitions.call(this).concat([{name:"num_descriptions",type:h.NUMBER,size:g.INT_32_SIZE}])};return b}(b("FullBox"));e.exports=a}),null);
__d("TKHDBox",["FullBox","ISOVideoBoxFieldDefinition"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength,h=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,i=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,j=4,k=8,l=2,m=36;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.getExtraFieldDefinitions=function(){return a.getExtraFieldDefinitions.call(this).concat([{name:"creation_time",type:i.NUMBER,size:h.INT_32_SIZE},{name:"modification_time",type:i.NUMBER,size:h.INT_32_SIZE},{name:"track_id",type:i.NUMBER,size:h.INT_32_SIZE},{name:"reserved_1",type:i.ARRAY_BUFFER,length:{type:g.NUMBER,value:j}},{name:"duration",type:i.NUMBER,size:h.INT_32_SIZE},{name:"reserved_2",type:i.ARRAY_BUFFER,length:{type:g.NUMBER,value:k}},{name:"layer",type:i.NUMBER,size:h.INT_16_SIZE},{name:"alternate_group",type:i.NUMBER,size:h.INT_16_SIZE},{name:"volume",type:i.NUMBER,size:h.INT_16_SIZE},{name:"reserved_3",type:i.ARRAY_BUFFER,length:{type:g.NUMBER,value:l}},{name:"matrix_structure",type:i.ARRAY_BUFFER,length:{type:g.NUMBER,value:m}},{name:"track_width",type:i.NUMBER,size:h.INT_32_SIZE},{name:"track_height",type:i.NUMBER,size:h.INT_32_SIZE}])};return b}(b("FullBox"));e.exports=a}),null);
__d("UUIDBox",["ISOVideoBox","ISOVideoBoxFieldDefinition"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength,h=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,i=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.getExtraFieldDefinitions=function(){return a.getExtraFieldDefinitions.call(this).concat([{name:"usertype",type:i.ARRAY_OF_NUMBERS,size:h.INT_8_SIZE,length:{type:g.NUMBER,value:16}},{name:"data",type:i.ARRAY_BUFFER,length:{type:g.REMAINING_SPACE}}])};return b}(b("ISOVideoBox"));e.exports=a}),null);
__d("UnformedBox",["ISOVideoBox","ISOVideoBoxFieldDefinition"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength,h=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.getExtraFieldDefinitions=function(){return a.getExtraFieldDefinitions.call(this).concat([{name:"unformed_data",type:h.ARRAY_BUFFER,length:{type:g.REMAINING_SPACE}}])};return b}(b("ISOVideoBox"));e.exports=a}),null);
__d("XMLBox",["FullBox","ISOVideoBoxFieldDefinition"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength,h=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.getExtraFieldDefinitions=function(){return a.getExtraFieldDefinitions.call(this).concat([{name:"xml_string",type:h.STRING,length:{type:g.REMAINING_SPACE}}])};return b}(b("FullBox"));e.exports=a}),null);
__d("ISOVideoBoxTypeMap",["FTYPBox","FullBox","HDLRBox","ISOVideoBox","SA3DBox","SSDBox","STCOBox","STSDBox","TKHDBox","UnformedBox","UUIDBox","XMLBox"],(function(a,b,c,d,e,f){"use strict";var g=Object.freeze({mdia:b("ISOVideoBox"),minf:b("ISOVideoBox"),moov:b("ISOVideoBox"),stbl:b("ISOVideoBox"),trak:b("ISOVideoBox"),meta:b("FullBox"),ftyp:b("FTYPBox"),hdlr:b("HDLRBox"),stco:b("STCOBox"),uuid:b("UUIDBox"),"xml ":b("XMLBox"),stsd:b("STSDBox"),mp4a:b("SSDBox"),SA3D:b("SA3DBox"),tkhd:b("TKHDBox")});a={getBoxType:function(a){return g[a]||b("UnformedBox")}};e.exports=a}),null);
__d("ISOVideoReader",["ISOVideoBoxFieldDefinition"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize;a=function(){__p&&__p();function a(a,b){b===void 0&&(b=0),this.$1=a,this.$2=b}var b=a.prototype;b.outOfBounds=function(a){return this.$2+a>this.$1.byteLength};b.getOffset=function(){return this.$2};b.incrementOffset=function(a){this.$2+=a};b.$3=function(a){switch(a){case g.INT_8_SIZE:return this.$1.getUint8(this.$2);case g.INT_16_SIZE:return this.$1.getUint16(this.$2);case g.ATOM_LENGTH_BYTES:case g.ATOM_NAME_BYTES:case g.INT_32_SIZE:return this.$1.getUint32(this.$2);default:throw new Error("Unexpected field size: "+a)}};b.readNumber=function(a){var b=this.$3(a);this.incrementOffset(a);return b};b.readString=function(a){var b=[];for(var c=this.$2;c<this.$2+a;c++)b.push(String.fromCharCode(this.$1.getUint8(c)));this.incrementOffset(a);return b.join("")};b.readNumberArray=function(a,b){var c=[];for(var d=0;d<b;d++)c.push(this.$3(a)),this.incrementOffset(a);return c};b.readStringArray=function(a,b){var c=[];for(var d=0;d<b;d++){var e=[];for(var f=this.$2;f<this.$2+a;f++)e.push(String.fromCharCode(this.$1.getUint8(f)));c.push(e.join(""));this.incrementOffset(a)}return c};b.readArrayBuffer=function(a){var b=new ArrayBuffer(a),c=new DataView(b);for(var d=0;d<a;d++)c.setUint8(d,this.$1.getUint8(this.$2+d));this.incrementOffset(a);return b};return a}();e.exports=a}),null);
__d("ISOVideoBoxParser",["invariant","regeneratorRuntime","Promise","Int64","ISOVideoBox","ISOVideoBoxFieldDefinition","ISOVideoBoxTypeMap","ISOVideoFile","ISOVideoReader","fileSlice"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength,i=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,j=b("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,k=5242880;a=function(){__p&&__p();function a(a,b){b===void 0&&(b=!0),this.$5=a,this.$2=b,this.$9=[],this.$10=[],this.$12(),a instanceof File?(this.$7=0,this.$8=Math.min(a.size,k),this.$6=a.size,this.$3=a):(this.$7=0,this.$8=a.byteLength,this.$6=a.byteLength,this.$4=a)}var c=a.prototype;c.parse=function(){__p&&__p();return b("regeneratorRuntime").async(function(a){__p&&__p();while(1)switch(a.prev=a.next){case 0:if(!(this.$5 instanceof File)){a.next=5;break}a.next=3;return b("regeneratorRuntime").awrap(this.$13());case 3:a.next=6;break;case 5:this.$14();case 6:return a.abrupt("return",new(b("ISOVideoFile"))(this.$9,this.$5));case 7:case"end":return a.stop()}},null,this)};c.$13=function(){__p&&__p();var a=this;return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:return c.abrupt("return",new(b("Promise"))(function(c,d){__p&&__p();var e=new FileReader();e.onload=function(d){__p&&__p();return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:if(e.result instanceof ArrayBuffer){d.next=2;break}throw new Error("File reading failed");case 2:a.$1=new(b("ISOVideoReader"))(new DataView(e.result));a.$15();if(!(a.$7>=a.$6)){d.next=7;break}c();return d.abrupt("return");case 7:d.next=9;return b("regeneratorRuntime").awrap(a.$13());case 9:c();case 10:case"end":return d.stop()}},null,this)};e.onerror=function(a){d(a)};e.readAsArrayBuffer(b("fileSlice").call(a.$3,a.$7,a.$8))}));case 1:case"end":return c.stop()}},null,this)};c.$14=function(){this.$1=new(b("ISOVideoReader"))(new DataView(this.$4)),this.$15()};c.$15=function(){__p&&__p();while(!0){var a=this.$16();if(a===null)break;a instanceof b("ISOVideoBox")||g(0,290);this.$10.push(a);while(!0){a=this.$10[this.$10.length-1];var c=a.getFieldsSize();for(var d=a.getChildren(),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;c+=h.getSize()}if(c===a.getSize())this.$10.pop();else break;if(this.$10.length===0){this.$9.push(a);break}else{h=this.$10[this.$10.length-1];h.addChild(a,!1)}}}};c.$16=function(){__p&&__p();if(this.$11.size===null){if(this.$1.outOfBounds(i.ATOM_LENGTH_BYTES)){this.$17(i.ATOM_LENGTH_BYTES);return null}this.$11.offset+=i.ATOM_LENGTH_BYTES;this.$11.size=this.$1.readNumber(i.ATOM_LENGTH_BYTES)}if(this.$11.boxType===null){if(this.$1.outOfBounds(i.ATOM_NAME_BYTES)){this.$17(i.ATOM_NAME_BYTES);return null}this.$11.offset+=i.ATOM_NAME_BYTES;this.$11.boxType=this.$1.readString(i.ATOM_NAME_BYTES)}if(this.$11.size===1&&this.$11.isLargeSize===!1){if(this.$1.outOfBounds(i.INT_32_SIZE*2)){this.$17(i.INT_32_SIZE*2);return null}this.$11.offset+=i.INT_32_SIZE*2;var a=this.$1.readNumber(i.INT_32_SIZE),c=this.$1.readNumber(i.INT_32_SIZE);this.$11.size=new(b("Int64"))(c,a).toNumber();this.$11.isLargeSize=!0}typeof this.$11.boxType==="string"||g(0,291);c=b("ISOVideoBoxTypeMap").getBoxType(this.$11.boxType);this.$11.definitions===null&&(this.$11.definitions=c.getExtraFieldDefinitions());if(!this.$18())return null;typeof this.$11.boxType==="string"&&typeof this.$11.size==="number"||g(0,291);a={boxtype:this.$11.boxType,size:this.$11.size,isLargeSize:this.$11.isLargeSize,extraFields:this.$11.extraFields,source:this.$5};this.$12();return new c(a)};c.$18=function(){__p&&__p();this.$11.definitions||g(0,291);if(this.$11.index===this.$11.definitions.length)return!0;var a=this.$11.definitions[this.$11.index],b=this.$19(a);if(this.$2&&a.type===j.ARRAY_BUFFER)this.$11.extraFields[a.name]={type:"info",startOffset:this.$7+this.$1.getOffset(),length:b},this.$1.incrementOffset(b);else{var c=this.$20(a);if(c===null)return!1;a.type===j.ARRAY_BUFFER?this.$11.extraFields[a.name]={type:"buffer",buffer:c}:this.$11.extraFields[a.name]=c}this.$11.offset+=b;this.$11.index+=1;return this.$18()};c.$20=function(a){__p&&__p();var b=this.$1,c=this.$19(a),d=this.$21(a);if(a.requiredValue!==void 0){b.incrementOffset(c);return a.requiredValue}if(b.outOfBounds(c)){this.$17(c);return null}switch(a.type){case j.NUMBER:return b.readNumber(a.size);case j.STRING:return b.readString(d);case j.ARRAY_OF_NUMBERS:return b.readNumberArray(a.size,d);case j.ARRAY_OF_STRINGS:return b.readStringArray(a.size,d);case j.ARRAY_BUFFER:return b.readArrayBuffer(d);default:throw new Error("Unexpected field type: "+a.type)}};c.$12=function(){this.$11={size:null,offset:0,boxType:null,isLargeSize:!1,extraFields:{},index:0,definitions:null}};c.$17=function(a){if(!this.$3){if(this.$1.getOffset()<this.$6)throw new Error("Reader went out of bounds with ArrayBuffer");return}this.$7=this.$7+this.$1.getOffset();this.$8=Math.min(this.$6,Math.max(this.$7+k,this.$7+a))};c.$19=function(a){var b=this.$21(a);switch(a.type){case j.NUMBER:return a.size;case j.STRING:case j.ARRAY_BUFFER:return b;case j.ARRAY_OF_NUMBERS:case j.ARRAY_OF_STRINGS:return a.size*b;default:throw new Error("Unexpected field type: "+a.type)}};c.$21=function(a){if(a.type===j.NUMBER)return-1;switch(a.length.type){case h.NUMBER:return a.length.value;case h.FIELD:return this.$11.extraFields[a.length.definition.name];case h.REMAINING_SPACE:typeof this.$11.size==="number"||g(0,291);var b=this.$11.size-this.$11.offset;return a.type===j.ARRAY_OF_NUMBERS||a.type===j.ARRAY_OF_STRINGS?b/a.size:b;default:throw new Error("Field "+a.name+" of type "+a.type+" "+("cannot have length type "+a.length.type))}};c.getBoxes=function(){return this.$9};a.parseFromSimpleObject=function(a,c,d){c=b("ISOVideoBoxTypeMap").getBoxType(a.boxtype);c=new c(a);d&&c.setSource(d);return c};a.parseFromSimpleObjectRecursive=function(a,b,c){__p&&__p();var d=this.parseFromSimpleObject(a,b,c);a=a.children||[];for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;g=this.parseFromSimpleObjectRecursive(g,b,c);d.addChild(g,!1)}return d};return a}();e.exports=a}),null);
__d("ISOVideoBoxPath",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1=[]}var b=a.prototype;b.addPath=function(a,b){this.$1.push({boxtype:a,index:b||0});return this};b.addWildCardPath=function(){this.$1.push({boxtype:"",index:0});return this};b.clearPath=function(){this.$1=[]};b.getPath=function(){return this.$1};return a}();e.exports=a}),null);
__d("ISOVideoFileEvent",[],(function(a,b,c,d,e,f){"use strict";e.exports=Object.freeze({BUILD_PROGRESS:"buildProgress"})}),null);
__d("ISOVideoOffsetManager",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1024*100,h=1024;a=function(){__p&&__p();function a(){this.$1=0,this.$2=0,this.$3=g,this.$4=[]}var b=a.prototype;b.addOnUpdateCallback=function(a){this.$4.push(a);return this};b.setMinUpdateInterval=function(a){this.$3=Math.max(a,h);return this};b.getOffset=function(){return this.$1};b.getMinUpdateInterval=function(){return this.$3};b.incrementOffset=function(a){this.$1+=a,this.$1>=this.$2+this.$3&&(this.$2=this.$1,this.$4.forEach(function(a){return a()}))};return a}();e.exports=a}),null);
__d("ISOVideoFile",["regeneratorRuntime","Promise","EventEmitter","ISOVideoBox","ISOVideoBoxParser","ISOVideoBoxPath","ISOVideoFileEvent","ISOVideoOffsetManager","STCOBox"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1e3;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c){var d;d=a.call(this)||this;d.$ISOVideoFile1=b;d.$ISOVideoFile2=d.$ISOVideoFile5();c&&(c instanceof ArrayBuffer?(d.$ISOVideoFile4=c,d.$ISOVideoFile3=null):(d.$ISOVideoFile3=c,d.$ISOVideoFile4=null));return d}var d=c.prototype;d.getBoxes=function(){return this.$ISOVideoFile1};d.findBoxes=function(a){return this.$ISOVideoFile6(this.$ISOVideoFile1,[],a)};d.$ISOVideoFile6=function(a,b,c){__p&&__p();for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;f.getBoxtype()===c&&b.push(f);this.$ISOVideoFile6(f.getChildren(),b,c)}return b};d.$ISOVideoFile7=function(a,b){return b===""||a.getBoxtype()===b};d.findBoxAtExactLocation=function(a){__p&&__p();var b=this,c=this.$ISOVideoFile1,d=a.getPath();a=function(a){__p&&__p();var e=d[a].boxtype;if(e==="")throw new Error("Wildcard path is not allowed in exact location match");var f=d[a].index,g=c.filter(function(a){return b.$ISOVideoFile7(a,e)});if(g.length>f){if(a===d.length-1)return{v:g[f]};c=g[f].getChildren()}else return{v:null}};for(var e=0;e<d.length;e++){var f=a(e);if(typeof f==="object")return f.v}return null};d.findBoxesMatchingPath=function(a){var b=[];if(a.getPath().length===0)return b;this.$ISOVideoFile8(a,0,this.$ISOVideoFile1,b);return b};d.$ISOVideoFile8=function(a,b,c,d){var e=this,f=a.getPath(),g=f[b].boxtype;c=c.filter(function(a){return e.$ISOVideoFile7(a,g)});b===f.length-1?c.forEach(function(a){return d.push(a)}):c.forEach(function(c){return e.$ISOVideoFile8(a,b+1,c.getChildren(),d)})};d.injectBoxAtLocation=function(a,b){b=this.findBoxAtExactLocation(b);if(b){b.addChild(a);this.$ISOVideoFile9(a.getSize());return!0}else return!1};d.removeBoxAtLocation=function(a){__p&&__p();var b=a.getPath(),c=b[b.length-1].boxtype,d=b[b.length-1].index;if(b.length===1){for(var b=0;b<this.$ISOVideoFile1.length;b++)if(this.$ISOVideoFile7(this.$ISOVideoFile1[b],c))if(d===0){var e=this.$ISOVideoFile1[b].getSize();this.$ISOVideoFile1.splice(b,1);this.$ISOVideoFile9(-e);return!0}else d-=1;return!1}e=this.findBoxAtExactLocation(a);if(e){c=e.getSize();e.remove();this.$ISOVideoFile9(-c);return!0}return!1};d.$ISOVideoFile5=function(){__p&&__p();var a=!1;for(var b=this.$ISOVideoFile1,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.getBoxtype()==="mdat"&&(a=!0);if(e.getBoxtype()==="moov")return!a}return!1};d.$ISOVideoFile9=function(a){__p&&__p();if(!this.$ISOVideoFile2)return;var c=this.findBoxes("stco");for(var c=c,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;if(!(f instanceof b("STCOBox")))throw new Error("found non-stco boxes when updating offsets");f.updateChunkOffsets(a)}};c.fromFile=function(a,c){__p&&__p();var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:c===void 0&&(c=!0);d=new(b("ISOVideoBoxParser"))(a,c);e.next=4;return b("regeneratorRuntime").awrap(d.parse());case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},null,this)};c.fromArrayBuffer=function(a,c){__p&&__p();var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:c===void 0&&(c=!0);d=new(b("ISOVideoBoxParser"))(a,c);e.next=4;return b("regeneratorRuntime").awrap(d.parse());case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},null,this)};d.toArrayBuffer=function(){__p&&__p();var a=this;return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:return c.abrupt("return",new(b("Promise"))(function(c,d){__p&&__p();var e=0;for(var d=a.$ISOVideoFile1,f=Array.isArray(d),h=0,d=f?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(f){if(h>=d.length)break;i=d[h++]}else{h=d.next();if(h.done)break;i=h.value}i=i;e+=i.getSize()}var j=new ArrayBuffer(e),k=new DataView(j),l=new(b("ISOVideoOffsetManager"))();l.setMinUpdateInterval(Math.ceil(e/g)).addOnUpdateCallback(function(){var c=l.getOffset();a.emit(b("ISOVideoFileEvent").BUILD_PROGRESS,c/e)});if(a.$ISOVideoFile4){i=new DataView(a.$ISOVideoFile4);for(var h=a.$ISOVideoFile1,f=Array.isArray(h),d=0,h=f?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(f){if(d>=h.length)break;m=h[d++]}else{d=h.next();if(d.done)break;m=d.value}m=m;m.boxToArrayBuffer(k,l,i)}c(j)}else if(a.$ISOVideoFile3){m=a.$ISOVideoFile3;var n=new FileReader();n.onload=function(){__p&&__p();if(!(n.result instanceof ArrayBuffer))throw new Error("File reading failed");i=new DataView(n.result);for(var b=a.$ISOVideoFile1,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;f.boxToArrayBuffer(k,l,i)}c(j)};n.readAsArrayBuffer(m)}else{for(var d=a.$ISOVideoFile1,f=Array.isArray(d),h=0,d=f?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(h>=d.length)break;m=d[h++]}else{h=d.next();if(h.done)break;m=h.value}m=m;m.boxToArrayBuffer(k,l)}c(j)}}));case 1:case"end":return c.stop()}},null,this)};d.toSimpleObject=function(a){__p&&__p();var b=[];for(var c=this.$ISOVideoFile1,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;b.push(f.toSimpleObject(a))}a&&this.$ISOVideoFile4&&a.push(this.$ISOVideoFile4);f={boxes:b,mustUpdateOffsetsOnEdit:this.$ISOVideoFile2,originalFileBuffer:this.$ISOVideoFile4,file:this.$ISOVideoFile3};return f};c.fromSimpleObject=function(a){__p&&__p();var d=[],e=!1,f=null;a.file?(f=a.file,e=!0):a.originalFileBuffer&&(f=a.originalFileBuffer,e=!0);for(var g=a.boxes,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}j=j;j=f?b("ISOVideoBoxParser").parseFromSimpleObjectRecursive(j,e,f):b("ISOVideoBoxParser").parseFromSimpleObjectRecursive(j,e);d.push(j)}j=new c(d,f);j.$ISOVideoFile2=a.mustUpdateOffsetsOnEdit;return j};return c}(b("EventEmitter"));e.exports=a}),null);
__d("SphericalMetadata",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({fbSpatialAudioMetadata:void 0,ytSpatialAudioMetadata:void 0,guideData:void 0,mayHaveSpatialAudio:void 0,initialPitch:void 0,initialYaw:void 0,initialFOV:void 0,projectionType:void 0,spherical:void 0,stereoMode:void 0,stitched:void 0,stitchingSoftware:void 0,extraTagXML:void 0,used360Director:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("VideoSphericalMetadataGatherer",["regeneratorRuntime","ISOVideoBoxConstants","VideoSphericalMetadataUtil","checkForSphericalTag"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$5=a,this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$6=!1,this.$7=!1,this.$8=0}var c=a.prototype;c.gatherRawSphericalMetadata=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(this.$9());case 2:this.$10(),this.$11(),this.$7=!0;case 5:case"end":return a.stop()}},null,this)};c.getRawSphericalMetadata=function(){if(!this.$7)throw new Error("spherical metadata has not been gathered yet");var a={isSpherical:this.$6,numAudioTracks:this.$8};this.$3&&(this.$3="<fb360_spatial_audio>"+this.$3+"</fb360_spatial_audio>");this.$1!==null&&(a.FBSphericalMetadataXML=this.$1);this.$2!==null&&(a.GSphericalMetadataXML=this.$2);this.$3!==null&&(a.FBSpatialAudioMetadataXML=this.$3);this.$4!==null&&(a.YTSA3DMetadataJSON=this.$4);return a};c.hasGathered=function(){return this.$7};c.$9=function(){__p&&__p();var a,c,d,e,f,g;return b("regeneratorRuntime").async(function(h){__p&&__p();while(1)switch(h.prev=h.next){case 0:a=this.$5.findBoxes("uuid"),(c=a,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]());case 2:if(!d){h.next=8;break}if(!(e>=c.length)){h.next=5;break}return h.abrupt("break",17);case 5:f=c[e++];h.next=12;break;case 8:e=c.next();if(!e.done){h.next=11;break}return h.abrupt("break",17);case 11:f=e.value;case 12:g=f;h.next=15;return b("regeneratorRuntime").awrap(this.$12(g));case 15:h.next=2;break;case 17:case"end":return h.stop()}},null,this)};c.$12=function(a){__p&&__p();var c,d,e,f,g;return b("regeneratorRuntime").async(function(h){__p&&__p();while(1)switch(h.prev=h.next){case 0:c=b("VideoSphericalMetadataUtil").uuidArrayEquals(a.getExtraFields().usertype,b("ISOVideoBoxConstants").GSPHERICAL_UUID);d=b("VideoSphericalMetadataUtil").uuidArrayEquals(a.getExtraFields().usertype,b("ISOVideoBoxConstants").FBSPHERICAL_UUID);if(!(c||d)){h.next=11;break}h.t0=Uint8Array;h.next=6;return b("regeneratorRuntime").awrap(a.getBuffer("data"));case 6:h.t1=h.sent;e=new h.t0(h.t1);f="";for(g=0;g<e.length;g++)f+=String.fromCharCode(e[g]);b("checkForSphericalTag")(f)&&(this.$6=!0,d&&(this.$1=f),c&&(this.$2=f));case 11:case"end":return h.stop()}},null,this)};c.$10=function(){__p&&__p();var a=this.$5.findBoxes("meta");for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;this.$13(d)}};c.$13=function(a){__p&&__p();var b=a.getChildren(),c=null,d=null;for(var b=b,e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;g.getBoxtype()==="hdlr"&&(c=g);g.getBoxtype()==="xml "&&(d=g)}if(c===null||d===null||c.getExtraFields().handler_type!=="face")return;g=d.getExtraFields().xml_string;f=null;e=null;b=a.getParent();if(b&&b.getBoxtype()==="trak"){for(var c=b.getChildren(),d=Array.isArray(c),a=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(a>=c.length)break;b=c[a++]}else{a=c.next();if(a.done)break;b=a.value}b=b;b.getBoxtype()==="tkhd"&&(f=b)}f!==null&&(e=f.getExtraFields().track_id,this.$8++)}this.$3||(this.$3="");e!==null?this.$3+='<track id="'+e.toString()+'">'+g+"</track>":this.$3+="<spatial_audio_formatting>"+g+"</spatial_audio_formatting>"};c.$11=function(){__p&&__p();var a=this.$5.findBoxes("SA3D");for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;this.$14(d)}};c.$14=function(a){if(this.$4!==null)return;a=JSON.stringify(a.getExtraFields());this.$4=a};return a}();e.exports=a}),null);
__d("FBGuideMetadata",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({keyframes:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("FBSpatialAudioMetadata",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({encoderMetadata:null,focusData:null,headlockedData:null,spatialData:null,trackData:null});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("YTSpatialAudioMetadata",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({ambisonic_channel_ordering:-1,ambisonic_normalization:-1,ambisonic_order:-1,ambisonic_type:-1,channel_map:[],num_channels:-1,version:-1});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("VideoSphericalMetadataReader",["FBGuideMetadata","FBSpatialAudioMetadata","VideoProjection","VideoSphericalMetadataUtil","YTSpatialAudioMetadata"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={parseGSphericalMetadataXML:function(a,c){__p&&__p();a=b("VideoSphericalMetadataUtil").parseXMLToDocument(a);if(!a)return c;var d=b("VideoSphericalMetadataUtil").getUnsupportedGSphericalTagsXML(a),e=a.getElementsByTagNameNS("*","Spherical")[0],f=a.getElementsByTagNameNS("*","InitialViewHeadingDegrees")[0],g=a.getElementsByTagNameNS("*","InitialViewPitchDegrees")[0],h=a.getElementsByTagNameNS("*","Stitched")[0],i=a.getElementsByTagNameNS("*","StitchingSoftware")[0],j=a.getElementsByTagNameNS("*","StereoMode")[0],k=a.getElementsByTagNameNS("*","ProjectionType")[0],l=a.getElementsByTagNameNS("*","CroppedAreaImageWidthPixels")[0],m=a.getElementsByTagNameNS("*","CroppedAreaImageHeightPixels")[0],n=a.getElementsByTagNameNS("*","FullPanoWidthPixels")[0];a=a.getElementsByTagNameNS("*","FullPanoHeightPixels")[0];var o=null;if(f){f=parseInt(f.childNodes[0].nodeValue,10);isNaN(f)||(o=f)}f=null;if(g){g=parseInt(g.childNodes[0].nodeValue,10);isNaN(g)||(f=g)}g=e?e.childNodes[0].nodeValue.toLowerCase()==="true":null;e=h?h.childNodes[0].nodeValue.toLowerCase()==="true":null;h=i?i.childNodes[0].nodeValue:null;i=j?b("VideoSphericalMetadataUtil").stringToStereoMode(j.childNodes[0].nodeValue):null;j=k?b("VideoSphericalMetadataUtil").stringToProjectionType(k.childNodes[0].nodeValue):null;k=l?l.childNodes[0].nodeValue:null;l=m?m.childNodes[0].nodeValue:null;m=n?n.childNodes[0].nodeValue:null;n=a?a.childNodes[0].nodeValue:null;o!==null&&(c=c.set("initialYaw",o));f!==null&&(c=c.set("initialPitch",f));e!==null&&(c=c.set("stitched",e));h!==null&&(c=c.set("stitchingSoftware",h));g&&(c=c.set("spherical",g));i&&(c=c.set("stereoMode",i));j&&(c=c.set("projectionType",j));d&&(c=c.set("extraTagXML",d));a=b("VideoSphericalMetadataUtil").isGoogleVR180(c,k,l,m,n);a&&(c=c.set("projectionType",b("VideoProjection").HALF_EQUIRECTANGULAR));return c},parseFBSphericalMetadataXML:function(a,c){__p&&__p();a=b("VideoSphericalMetadataUtil").parseXMLToDocument(a);if(!a)return c;var d=null,e=null,f=null,g=a.getElementsByTagNameNS("*","InitialVerticalFOVDegrees")[0];if(g){g=parseInt(g.childNodes[0].nodeValue,10);isNaN(g)||(d=g)}g=a.getElementsByTagNameNS("*","Used360Director")[0];g&&(f=g.childNodes[0].nodeValue==="true");g=a.getElementsByTagNameNS("*","Guide")[0];if(g){a=g.getElementsByTagName("Keyframe");var h=function(){__p&&__p();if(j){if(k>=i.length)return"break";a=i[k++]}else{k=i.next();if(k.done)return"break";a=k.value}var c=a,d=c.getElementsByTagName("pitch"),f=c.getElementsByTagName("yaw"),a=c.getElementsByTagName("fov");c=c.getElementsByTagName("timestamp");var h=void 0;if(d.length>0){d=parseFloat(d[0].textContent);isNaN(d)||(h=d)}var l=void 0;if(f.length>0){d=parseFloat(f[0].textContent);isNaN(d)||(l=d)}var m=void 0;if(a.length>0){f=parseInt(a[0].textContent,10);isNaN(f)||(m=f)}var n=void 0;if(c.length>0){d=parseInt(c[0].textContent,10);isNaN(d)||(n=d)}if(h==null||l==null||m==null||n==null)return"continue";e||(e=new(b("FBGuideMetadata"))({keyframes:[]}));e=e.update("keyframes",function(a){return a.concat([{pitch:h,yaw:l,fov:m,timestamp:n}])})};_loop:for(var i=a,j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){a=h();switch(a){case"break":break _loop;case"continue":continue}}}(d||e||f)&&(d!==null&&(c=c.set("initialFOV",d)),e!==null&&(c=c.set("guideData",e)),f!==null&&(c=c.set("used360Director",f)));return c},parseFBSpatialAudioXML:function(a){__p&&__p();a=b("VideoSphericalMetadataUtil").parseXMLToDocument(a);if(!a)return null;var c=a.getElementsByTagName("encoder_metadata")[0],d=a.getElementsByTagName("spatial")[0],e=a.getElementsByTagName("headlocked")[0],f=a.getElementsByTagName("focus")[0];a=a.getElementsByTagName("track");var g=new(b("FBSpatialAudioMetadata"))();c&&(g=g.set("encoderMetadata",{gitCommitDate:c.getAttribute("git_commit_date"),gitHash:c.getAttribute("git_hash"),is64Bit:c.getAttribute("is64bit")==="yes",name:c.getAttribute("name"),osName:c.getAttribute("osName"),version:c.getAttribute("version")}));if(d){c=d.getAttribute("format");var h=d.getAttribute("channel_map"),i=[];if(h){h=h.split(" ");for(var h=h,j=Array.isArray(h),k=0,h=j?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=h.length)break;l=h[k++]}else{k=h.next();if(k.done)break;l=k.value}l=l;i.push(parseInt(l,10))}}g=g.set("spatialData",{bitDepth:parseInt(d.getAttribute("bit_depth"),10),channelMap:i,format:c?c:"",sampleRate:parseInt(d.getAttribute("sample_rate"),10)})}e&&(g=g.set("headlockedData",{bitDepth:parseInt(d.getAttribute("bit_depth"),10),sampleRate:parseInt(d.getAttribute("sample_rate"),10)}));if(f){l=f.getAttribute("schemeIdUri");g=g.set("focusData",{enabled:f.getAttribute("enabled")==="true",focusWidthDegrees:parseFloat(f.getAttribute("focusWidthDegrees")),offFocusLevel:parseFloat(f.getAttribute("offFocusLevel")),offFocusLevelDB:parseFloat(f.getAttribute("offFocusLevelDB")),schemeIDUri:l?l:""})}if(a){k=[];for(var j=a,h=Array.isArray(j),i=0,j=h?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(h){if(i>=j.length)break;c=j[i++]}else{i=j.next();if(i.done)break;c=i.value}e=c;d=e.getElementsByTagName("AudioChannelConfiguration");f=void 0;d.length>1?f=d[1]:f=d[0];l=f.getAttribute("schemeIdUri");a=f.getAttribute("value");k.push({schemeIDUri:l?l:"",trackID:parseInt(e.getAttribute("id"),10),value:a?a:""})}g=g.set("trackData",k)}return g},parseYTSpatialAudioJSON:function(a){a=JSON.parse(a);var c=a.ambisonic_channel_ordering,d=a.ambisonic_normalization,e=a.ambisonic_order,f=a.ambisonic_type,g=a.channel_map,h=a.num_channels;a=a.version;return new(b("YTSpatialAudioMetadata"))({ambisonic_channel_ordering:c,ambisonic_normalization:d,ambisonic_order:e,ambisonic_type:f,channel_map:g,num_channels:h,version:a})}};e.exports=a}),null);
__d("VideoSphericalMetadataReaderController",["regeneratorRuntime","ISOVideoFile","SphericalMetadata","VideoSphericalMetadataGatherer","VideoSphericalMetadataReader"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=3;a=function(){__p&&__p();function a(a){this.$2=new(b("SphericalMetadata"))();this.$3=!1;switch(a.sourceType){case"fileObject":this.$5=a.fileObject;this.$4=new(b("VideoSphericalMetadataGatherer"))(this.$5);break;case"metadata":this.$1=a.metadata;break;default:throw new Error("Unrecognized source type")}}var c=a.prototype;c.$6=function(){__p&&__p();if(!this.$1)return;if(!this.$1.isSpherical)return;this.$1.GSphericalMetadataXML&&(this.$2=b("VideoSphericalMetadataReader").parseGSphericalMetadataXML(this.$1.GSphericalMetadataXML,this.$2));this.$1.FBSphericalMetadataXML&&(this.$2=b("VideoSphericalMetadataReader").parseFBSphericalMetadataXML(this.$1.FBSphericalMetadataXML,this.$2));if(this.$1.FBSpatialAudioMetadataXML){var a=b("VideoSphericalMetadataReader").parseFBSpatialAudioXML(this.$1.FBSpatialAudioMetadataXML);a&&(this.$2=this.$2.set("fbSpatialAudioMetadata",a))}if(this.$1.YTSA3DMetadataJSON){a=b("VideoSphericalMetadataReader").parseYTSpatialAudioJSON(this.$1.YTSA3DMetadataJSON);this.$2=this.$2.set("ytSpatialAudioMetadata",a)}this.$2=this.$2.set("mayHaveSpatialAudio",this.$1.numAudioTracks===g);this.$3=!0};a.objectToRawSphericalMetadata=function(a){__p&&__p();var b,c=a.streams.numAudioTracks;b=!!((b=a)!=null?(b=b.format)!=null?b.isSpherical:b:b);c={isSpherical:b,numAudioTracks:c};if(!b)return c;b=(b=a)!=null?(b=b.metadata)!=null?b.sphericalMetadataXml:b:b;b&&(c.GSphericalMetadataXML=b);b=(b=a)!=null?(b=b.metadata)!=null?b.FBSphericalMetadataXML:b:b;b&&(c.FBSphericalMetadataXML=b);b=(b=a)!=null?(b=b.metadata)!=null?b.fbSpatialAudioMetadataXml:b:b;b&&(c.FBSpatialAudioMetadataXML=b);a=(b=a)!=null?(b=b.metadata)!=null?b.ytSa3dMetadataJson:b:b;a&&(c.YTSA3DMetadataJSON=a);return c};c.getFileMetadata=function(){__p&&__p();var a;return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:if(this.$3){c.next=15;break}if(this.$1){c.next=14;break}c.prev=2;a=this.$4;if(!a){c.next=9;break}if(a.hasGathered()){c.next=8;break}c.next=8;return b("regeneratorRuntime").awrap(a.gatherRawSphericalMetadata());case 8:this.$1=a.getRawSphericalMetadata();case 9:c.next=14;break;case 11:c.prev=11;c.t0=c["catch"](2);return c.abrupt("return",this.$2);case 14:this.$6();case 15:return c.abrupt("return",this.$2);case 16:case"end":return c.stop()}},null,this,[[2,11]])};return a}();e.exports=a}),null);
__d("VideoComposerSphericalDirectorStoreClass",["Promise","ImmutableRecordWithV4Types","SphericalDirectorAction","SphericalDirectorMetadataUtils","SphericalDirectorStore","VideoComposerActions","VideoComposerActionTypes","VideoComposerStoreBase","VideoSphericalMetadataReaderController","flattenPHPQueryData","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ImmutableRecordWithV4Types").Record;c={videoComposerID:"",bootloadedParams:null,contextConfig:null,metadata:null,omnistabEnabled:!1,showOmnistabSection:!1,spherical:!1};var g=a(c);d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return g()};d.reduceImpl=function(a,c){__p&&__p();switch(c.type){case b("VideoComposerActionTypes").RESET_COMPOSER:a=this.$VideoComposerSphericalDirectorStoreClass1(a);return a;case b("VideoComposerActionTypes").BOOTLOAD_SPHERICAL_DIRECTOR_CROSSPOST_PARAMETERS:a=this.$VideoComposerSphericalDirectorStoreClass2(a,c.data);return a;case b("VideoComposerActionTypes").BOOTLOAD_SPHERICAL_DIRECTOR_EDIT_PARAMETERS:var d=c.data,e=d.showOmnistabSection,f=d.hasOmnistabEncoding,g=d.omnistabEnabled;d=babelHelpers.objectWithoutPropertiesLoose(d,["showOmnistabSection","hasOmnistabEncoding","omnistabEnabled"]);a=a.set("omnistabEnabled",g);a=a.set("showOmnistabSection",e&&f);a=this.$VideoComposerSphericalDirectorStoreClass2(a,d);return a;case b("VideoComposerActionTypes").BOOTLOAD_SPHERICAL_DIRECTOR_UPLOAD_PARAMETERS:a=a.set("showOmnistabSection",c.data.showOmnistabSection);return a;case b("VideoComposerActionTypes").BOOTLOAD_CROSSPOST_DEFAULT_TAB:a=this.$VideoComposerSphericalDirectorStoreClass3(a,c.data.composerConfig.contextConfig);return a;case b("VideoComposerActionTypes").BOOTLOAD_DEFAULT_EDIT_PARAMS:a=this.$VideoComposerSphericalDirectorStoreClass3(a,c.data.composerConfig.contextConfig);return a;case b("VideoComposerActionTypes").BOOTLOAD_SPHERICAL_CONTEXT_CONFIG:a=this.$VideoComposerSphericalDirectorStoreClass4(a,c.data);return a;case b("VideoComposerActionTypes").METADATA_LOADED_FROM_VIDEO_UPLOADER:a=this.$VideoComposerSphericalDirectorStoreClass5(a,c.data);return a;case b("VideoComposerActionTypes").TOGGLE_SPHERICAL:a=a.set("spherical",c.data);return a;default:return a}};d.$VideoComposerSphericalDirectorStoreClass3=function(a,b){a=a.set("contextConfig",b);var c=this.getState().get("bootloadedParams");c&&(a=this.$VideoComposerSphericalDirectorStoreClass6(a,b.composerID,c));return a};d.$VideoComposerSphericalDirectorStoreClass4=function(a,b){a=a.set("contextConfig",b);var c=this.getState().get("metadata");c&&(a=this.$VideoComposerSphericalDirectorStoreClass7(a,b.composerID,c));return a};d.$VideoComposerSphericalDirectorStoreClass2=function(a,b){a=a.set("bootloadedParams",b);var c=this.getState().get("contextConfig");c&&(a=this.$VideoComposerSphericalDirectorStoreClass6(a,c.composerID,b));return a};d.$VideoComposerSphericalDirectorStoreClass5=function(a,b){a=a.set("metadata",b);var c=this.getState().get("contextConfig");c&&(a=this.$VideoComposerSphericalDirectorStoreClass7(a,c.composerID,b));return a};d.$VideoComposerSphericalDirectorStoreClass1=function(a){var c=this.getState().get("contextConfig");c&&b("SphericalDirectorAction").clearSphericalDirector();a=this.getInitialState();return a};d.$VideoComposerSphericalDirectorStoreClass6=function(a,c,d){c=this.getState().get("omnistabEnabled");b("SphericalDirectorMetadataUtils").initWithParams(d.initialHeading,d.initialPitch,d.fov,d.guideEnabled,d.guideKeyframes,d.projection,d.stereoMode,d.hasSpatialAudio,c);return a};d.$VideoComposerSphericalDirectorStoreClass7=function(a,c,d){__p&&__p();if(d&&d.format){c=d.format.isSpherical;a=a.set("spherical",c);if(c){c=b("VideoSphericalMetadataReaderController").objectToRawSphericalMetadata(d);b("promiseDone")(new(b("VideoSphericalMetadataReaderController"))({sourceType:"metadata",metadata:c}).getFileMetadata().then(function(c){b("SphericalDirectorMetadataUtils").initWithOriginalSphericalMetadata(c),b("VideoComposerActions").sphericalMetadataParsed(a.videoComposerID,c)}))}}return a};d.getEditAndCrosspostRequestData=function(a){__p&&__p();var c=this.getState().get("contextConfig"),d=this.getState().get("spherical");if(!c||!d)return b("Promise").resolve({});c=b("SphericalDirectorStore").getPostData();var e={};e.spherical=d;e.initial_heading=c.initialHeading;e.initial_pitch=c.initialPitch;e.fov=c.fov;e.guide_enabled=!!c.guide_enabled;e.enable_omnistab=!!c.enable_omnistab;var f;a?f=b("flattenPHPQueryData")({guide_keyframes:c.guide_keyframes}):f=b("flattenPHPQueryData")({guide:c.guide_keyframes});Object.keys(f).forEach(function(a){e[a]=f[a]});return b("Promise").resolve(e)};d.getPostRequestDataToSend=function(){__p&&__p();var a=this.getState().get("contextConfig");if(!a)return b("Promise").resolve({});a=["enable_omnistab","guide_enabled","guide_keyframes","fov","initialHeading","initialPitch","projection","spherical","stereoMode"];var c=Object.assign({},b("SphericalDirectorStore").getPostData());c.spherical=this.getState().get("spherical");a=a.reduce(function(a,b){b in c&&(a[b]=c[b]);return a},{});return b("Promise").resolve(a)};d.getSpherical=function(){return this.getState().spherical};return c}(b("VideoComposerStoreBase"));e.exports=d}),null);
__d("URLVideoThumbnail",["VideoThumbnail"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("VideoThumbnail"));e.exports=a}),null);
__d("videoComposerDialogUploadAddUploadSubscriptions",["VideoComposerActions","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){c.addSubscriptions(d.subscribe("upload-finished",function(){return b("VideoComposerActions").uploadFinished(a)}),d.subscribe("upload-failed",function(c){b("setTimeout")(function(){return b("VideoComposerActions").uploadFailed(a,c)},0)}),d.subscribe("upload-progressed",function(c,d){return b("VideoComposerActions").uploadProgressed(a,c,d)}),d.subscribe("post-failed",function(c,d){return b("VideoComposerActions").postFailed(a,c,d)}),d.subscribe("post-finished",function(c,d){return b("VideoComposerActions").postFinished(a,c,d)}),d.subscribe("metadata-parsed",function(c,d){b("setTimeout")(function(){return b("VideoComposerActions").metadataLoadedFromVideoUploader(a,d)},0)}))}e.exports=a}),null);
__d("videoComposerDialogUploadCreateVideoData",["React","VideoComposerDialogConstants","VideoData"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function c(c,d){__p&&__p();d===void 0&&(d=null);c=a.URL.createObjectURL(c);c={aspect_ratio:b("VideoComposerDialogConstants").SIXTEEN_NINE,original_height:b("VideoComposerDialogConstants").PLAYER_HEIGHT,original_width:b("VideoComposerDialogConstants").PLAYER_WIDTH,player_version_overwrite:"pleasantville",sd_src:c,stream_type:"progressive",video_id:""};if(d){d=d;var e=d.projectionType,f=d.stereoMode,g=d.initialFOV,h=d.initialYaw,i=d.initialPitch,j=d.mayHaveSpatialAudio,k=d.fbSpatialAudioMetadata;d=d.ytSpatialAudioMetadata;e={projectionType:e?e:"equirectangular",stereoFormat:f?f:"mono",fieldOfView:g?g:60,initialHeading:h?h:0,initialPitch:i?i:0,hasSpatialAudio:j?j:!1,expansionCoef:1.01};k&&(e.fbSpatialAudioMetadata=k);d&&(e.ytSpatialAudioMetadata=d);return new(b("VideoData"))(babelHelpers["extends"]({},c,{is_spherical:!0,spherical_config:e}))}return new(b("VideoData"))(c)}e.exports=c}),null);
__d("XVideoComposerInitUploadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/init_upload/",{target_id:{type:"FBID",required:!0},composer_entry_point_ref:{type:"Enum",required:!0,enumType:1}})}),null);
__d("videoComposerDialogUploadLoadVideoUploader",["ActorURI","AsyncRequest","React","VideoComposerActions","VideoUploader","XVideoComposerInitUploadController"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){d=b("XVideoComposerInitUploadController").getURIBuilder().setFBID("target_id",d).setEnum("composer_entry_point_ref",e).getURI();e=b("ActorURI").create(d,c);new(b("AsyncRequest"))(e).setHandler(function(c){b("VideoComposerActions").initVideoUploader(a,new(b("VideoUploader"))(c.payload.videoUploader[0]))}).send()}e.exports=a}),null);
__d("VideoCaptionDeletionCache",["immutable"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.cache=b("immutable").Map()}var c=a.prototype;c.add=function(a){this.cache=this.cache.set(a.id,a)};c.remove=function(a){this.cache=this.cache["delete"](a)};c.has=function(a){return this.cache.get(a)!==void 0};return a}();e.exports=a}),null);
__d("VideoComposerCaptionEditorActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({ADD_CAPTION_ENTRY:"",REMOVE_CAPTION_ENTRY:"",EDIT_CAPTION_ENTRY:"",SET_PREVIEW_ENTRY:"",SET_EDITOR_LANGUAGE:"",SET_EDITOR_LOCALE:"",SET_CAPTIONS:"",SET_NEXT_ENTRY:"",PLAY_PREVIEW_ENTRY:"",CONFIRM_CLOSE_DIALOG:"",CANCEL_CLOSE_DIALOG:"",SHOW_EXIT_DIALOG:"",START_SAVE_CAPTION_CHANGESET:"",FINISH_SAVE_CAPTION_CHANGESET:"",INITIALIZE_EDITOR_LANGUAGE:"",RESET_CAPTION_EDITOR:""});e.exports=a}),null);
__d("VideoComposerCaptionsTabActionTypes",["immutable","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({SHOW_CAPTION_EDITOR:"",HIDE_CAPTION_EDITOR:"",INITIALIZE_CAPTION_LANDING_SCREEN:"",GENERATE:"",CANCEL_GENERATE:"",CREATE:"",EDIT_CAPTIONS_DRAFT:"",DELETE_CAPTIONS_DRAFT:"",START_SRT_UPLOAD:"",FINISH_SRT_UPLOAD:"",GENERATE_COMPLETE:"",CREATE_COMPLETE:"",SELECT_SPOKEN_LANGUAGE:"",SELECT_SPOKEN_LOCALE:"",FINISHED_FETCH_DRAFTS:"",GENERATE_PROGRESS_UPDATE:"",UPDATE_CAPTION_FILES:"",UPDATE_ERROR_STATE:"",SET_AUTO_GENERATED_CAPTIONS:"",RESET_CAPTIONS_LANDING_TAB:"",RETRY_AUTO_GENERATION:"",RESUME_AUTO_GENERATION:"",RESET_AUTO_GENERATING_LOCALE:"",TRY_RESUME_AUTO_GENERATION:"",INITIALIZE_ALL_CAPTION_FILES:"",BOOTLOAD_PARAMETERS_CAPTIONS_TAB:"",CHANGE_PUBLISHED_STATE:"",PENDING_TO_PUBLISHED:"",CAPTION_LANDING_SCREEN_OPEN_EVENT:"",OLD_COMPOSER_CAPTION_TAB_OPEN_EVENT:"",RESET_OPEN_LANDING_SCREEN_STATE:""});e.exports=a}),null);
__d("XVideoCaptionSpeechDetectionAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/captioneditor/speechnonspeech/getresults/",{video_id:{type:"Int",required:!0},locale:{type:"String",defaultValue:""}})}),null);
__d("XVideoCaptionUploadAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/captioneditor/captionupload/",{video_id:{type:"Int",required:!0},set_immediate_publish:{type:"Bool",defaultValue:!1}})}),null);
__d("VideoComposerCaptionsStoreClass",["fbt","Promise","ActorURI","AsyncRequest","ComposerVideoUploadActions","ImmutableRecordWithV4Types","InsightsLocaleNamesStatic","SkywalkerManager","VideoCaptionDeletionCache","VideoCaptionsLoggerEvents","VideoCaptionsPublishTypedLogger","VideoComposerActionTypes","VideoComposerCaptionEditorActionTypes","VideoComposerCaptionsTabActions","VideoComposerCaptionsTabActionTypes","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorPublishStateEnum","VideoComposerDialogCaptionEditorUtils","VideoComposerDialogCaptionMode","VideoComposerDialogMode","VideoComposerDispatchers","VideoComposerStoreBase","VideoComposerStores","VideoUploadUIError","XVideoCaptionGenerateAsyncController","XVideoCaptionSpeechDetectionAsyncController","XVideoCaptionUploadAsyncController","clearInterval","immutable","nullthrows","promiseDone","setInterval","setTimeout","videoComposerDialogUploadCreateVideoData"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("ImmutableRecordWithV4Types").Record;var h=b("InsightsLocaleNamesStatic"),i=a({videoComposerID:"",accessToken:null,autoGenerateCanceled:!1,drafts:b("immutable").List(),isSpokenLanguageSelected:!1,publishedStateChangeset:b("immutable").Map(),deletionCache:new(b("VideoCaptionDeletionCache"))(),selectedCaption:null,show_caption_editor:!1,videoFile:null,video_id:null,videoData:null,isAutoGenerating:!1,shouldAutopublishCaptions:!1,showAutopublishCaptionsFeature:!1,isCreating:!1,subtitleForDeletion:null,spokenLanguage:b("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED,autoGeneratingLocale:null,autoGeneratingLanguage:null,spokenLocale:b("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE,progress:0,autoGenProcessRate:b("VideoComposerDialogCaptionEditorConstants").DEFAULT_PROCESSING_SPEED,generateStarted:0,composerID:"",pageID:"",serverCaptionLocales:b("immutable").Seq(),captionFiles:b("immutable").Map(),captionURLs:b("immutable").List(),composerMode:null,isOldComposer:!1,isSRTUploading:!1,videoDurationInSec:0,errors:b("immutable").List(),partialUploadError:!1,numAutoGenerationRetries:0,wasOldComposerCaptionTabClicked:!1,timeFirstInitialized:null,captionsFeaturesMode:b("VideoComposerDialogCaptionMode").ADVANCED_FEATURES_WITH_SUBTITLES,isDefaultLangugeSectionEnabled:!0,isNewCaptionsTabTextAndLayoutEnabled:!1,shouldShowNuxPill:!1,enableAddCaptionWhenUploading:!1,autogeneratableHeadLocales:b("VideoComposerDialogCaptionEditorConstants").AUTO_GENERATABLE_HEAD_LOCALES,enableNullStateForCaptionsAdded:!1,showEditAndReviewButton:!1,fakeAutogenerateProgressRate:0,autoGenV1Subtitle:null,localCaptionFiles:b("immutable").List(),captionURLsForEdit:b("immutable").List(),hasAutoGenV1:!1,captionLocalesWithoutSubtitles:b("immutable").List(),localesWithoutSubtitlesToDelete:b("immutable").List(),shouldTrimCaptions:!1}),j=5*1e3,k=50,l=1e3,m=15*1e3;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return i()};d.getIsEditMode=function(){return this.getState().get("composerMode")===b("VideoComposerDialogMode").VIDEO_EDIT};d.getIsCrosspostMode=function(){return this.getState().get("composerMode")===b("VideoComposerDialogMode").VIDEO_CROSSPOST};d.shouldEnableOldDataModel=function(){return this.getState().get("captionsFeaturesMode")===b("VideoComposerDialogCaptionMode").OLD_DATA_MODEL};d.getIsDefaultLangugeSectionEnabled=function(){return this.getState().get("isDefaultLangugeSectionEnabled")};d.getIsNewCaptionsTabTextAndLayoutEnabled=function(){return this.getState().get("isNewCaptionsTabTextAndLayoutEnabled")};d.getShouldShowNuxPill=function(){return this.getState().get("shouldShowNuxPill")};d.getEnableAddCaptionWhenUploading=function(){return this.getState().get("enableAddCaptionWhenUploading")};d.getAutogeneratableHeadLocales=function(){return this.getState().get("autogeneratableHeadLocales")};d.getAllCaptions=function(){var a=this.getState().get("drafts"),b=this.getState().get("captionURLs"),c=this.getState().get("localCaptionFiles");return a.concat(b).concat(c)};d.getCaptionLocalesWithoutSubtitles=function(){return this.getState().get("captionLocalesWithoutSubtitles")};d.getSpokenLanguage=function(){return this.getState().get("spokenLanguage")};d.getSpokenLocale=function(){return this.getState().get("spokenLocale")};d.getAutoGeneratingLocale=function(){return this.getState().get("autoGeneratingLocale")};d.isSpokenLanguageSelected=function(){return this.getState().get("isSpokenLanguageSelected")};d.getShowAutopublishCaptionsFeature=function(){return this.getState().get("showAutopublishCaptionsFeature")};d.getShouldAutopublishCaptions=function(){return this.getState().get("shouldAutopublishCaptions")};d.getLogger=function(){var a=this.getState(),c=this.getIsEditMode()===!0?"post-publish":"pre-publish";return new(b("VideoCaptionsPublishTypedLogger"))().setVideoID(a.get("video_id")).setVideoLanguage(a.get("spokenLanguage")).setVideoLocale(a.get("spokenLocale")).setPublishPhase(c)};d.getEnableAdvancedCaptionsFeatures=function(){return this.getState().get("captionsFeaturesMode")===b("VideoComposerDialogCaptionMode").ADVANCED_FEATURES_WITH_SUBTITLES};d.getpublishedStateChangeset=function(){return this.getState().get("publishedStateChangeset")};d.wasTabOpenedInOldComposer=function(){var a=this.getState();return a.get("isOldComposer")&&a.get("wasOldComposerCaptionTabClicked")};d.logComposerSaveEvent=function(){var a=this.getState();if(a.get("timeFirstInitialized")===null||a.get("video_id")===null||a.get("video_id")==="")return;var c=a.get("drafts");a=b("VideoComposerDialogCaptionEditorUtils").getPublishedCaptionFiles(a.get("captionFiles"),c||b("immutable").List());this.$VideoComposerCaptionsStoreClass1(a)};d.$VideoComposerCaptionsStoreClass1=function(a){var c=this.getState(),d=c.get("drafts");this.$VideoComposerCaptionsStoreClass2(b("VideoCaptionsLoggerEvents").COMPOSER_SAVE,{session_id:c.get("timeFirstInitialized"),num_captions:String(d.size),num_published_captions:String(a.size)});b("setTimeout")(function(){return b("VideoComposerCaptionsTabActions").resetOpenLandingScreenState(c.videoComposerID)},0)};d.$VideoComposerCaptionsStoreClass3=function(a,c){__p&&__p();var d=!0;switch(a.type){case b("VideoComposerCaptionsTabActionTypes").SHOW_CAPTION_EDITOR:case b("VideoComposerCaptionsTabActionTypes").CREATE:case b("VideoComposerCaptionsTabActionTypes").EDIT_CAPTIONS_DRAFT:case b("VideoComposerCaptionsTabActionTypes").SELECT_SPOKEN_LANGUAGE:case b("VideoComposerCaptionsTabActionTypes").SELECT_SPOKEN_LOCALE:case b("VideoComposerCaptionsTabActionTypes").DELETE_CAPTIONS_DRAFT:return!0;case b("VideoComposerCaptionsTabActionTypes").START_SRT_UPLOAD:case b("VideoComposerActionTypes").UPLOAD_LOCAL_CAPTIONS:return!a.partialUploadError;case b("VideoComposerCaptionsTabActionTypes").FINISH_SRT_UPLOAD:return!this.getState().get("partialUploadError");case b("VideoComposerCaptionsTabActionTypes").GENERATE:d=!0;if(c.size>0){var e=b("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(b("VideoUploadUIError").AUTOGENERATE_FAIL_RETRY);c.forEach(function(a){if(a.toString().localeCompare(e.toString())===0){d=!1;return}})}return d;case b("VideoComposerCaptionsTabActionTypes").GENERATE_COMPLETE:d=!1;if(c.size>0){var f=b("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(b("VideoUploadUIError").AUTOGENERATE_FAIL_RETRY);c.forEach(function(a){if(a.toString().localeCompare(f.toString())===0){d=!0;return}})}return d}return!1};d.reduceImpl=function(a,c){__p&&__p();var d=this,e=null,f=null,g=null;this.$VideoComposerCaptionsStoreClass3(c,a.get("errors"))&&a.get("errors").size>0&&(a=a.set("errors",b("immutable").List()));switch(c.type){case b("VideoComposerActionTypes").RESET_COMPOSER:a=this.getInitialState();return a;case b("VideoComposerCaptionsTabActionTypes").RESET_CAPTIONS_LANDING_TAB:a=this.getInitialState().set("captionsFeaturesMode",a.get("captionsFeaturesMode")).set("captionURLs",a.get("captionURLs")).set("captionURLsForEdit",a.get("captionURLsForEdit")).set("localCaptionFiles",a.get("localCaptionFiles")).set("hasAutoGenV1",a.get("hasAutoGenV1")).set("isDefaultLangugeSectionEnabled",a.get("isDefaultLangugeSectionEnabled")).set("isNewCaptionsTabTextAndLayoutEnabled",a.get("isNewCaptionsTabTextAndLayoutEnabled")).set("shouldShowNuxPill",a.get("shouldShowNuxPill")).set("enableAddCaptionWhenUploading",a.get("enableAddCaptionWhenUploading")).set("autogeneratableHeadLocales",a.get("autogeneratableHeadLocales")).set("enableNullStateForCaptionsAdded",a.get("enableNullStateForCaptionsAdded")).set("showEditAndReviewButton",a.get("showEditAndReviewButton")).set("fakeAutogenerateProgressRate",a.get("fakeAutogenerateProgressRate")).set("shouldAutopublishCaptions",a.get("shouldAutopublishCaptions")).set("showAutopublishCaptionsFeature",a.get("showAutopublishCaptionsFeature"));return a;case b("VideoComposerCaptionsTabActionTypes").SHOW_CAPTION_EDITOR:a=a.set("show_caption_editor",!0);return a;case b("VideoComposerCaptionEditorActionTypes").CONFIRM_CLOSE_DIALOG:a=a.set("show_caption_editor",!1);a=this.$VideoComposerCaptionsStoreClass4(a);return a;case b("VideoComposerCaptionEditorActionTypes").FINISH_SAVE_CAPTION_CHANGESET:return this.$VideoComposerCaptionsStoreClass5(a);case b("VideoComposerCaptionsTabActionTypes").OLD_COMPOSER_CAPTION_TAB_OPEN_EVENT:return a.set("wasOldComposerCaptionTabClicked",!0);case b("VideoComposerCaptionsTabActionTypes").CAPTION_LANDING_SCREEN_OPEN_EVENT:var i=a.get("video_id");i=a.get("timeFirstInitialized")===null&&i!==null&&i!=="";if(!i)return a;i=String(Date.now());this.$VideoComposerCaptionsStoreClass2(b("VideoCaptionsLoggerEvents").CAPTION_TAB_OPENED,{session_id:i});return a.set("timeFirstInitialized",i);case b("VideoComposerCaptionsTabActionTypes").RESET_OPEN_LANDING_SCREEN_STATE:return a.set("isOldComposer",!1).set("wasOldComposerCaptionTabClicked",!1).set("timeFirstInitialized",null);case b("VideoComposerCaptionsTabActionTypes").INITIALIZE_CAPTION_LANDING_SCREEN:i=c.isOldComposer?c.isOldComposer:!1;var j=c.dialogMode?c.dialogMode:b("VideoComposerDialogMode").VIDEO_UPLOAD;return this.initialize(a,c.videoFile,c.video_id,c.accessToken,c.composerID,c.pageID,c.videoDurationInSec,j,i);case b("VideoComposerCaptionsTabActionTypes").TRY_RESUME_AUTO_GENERATION:j=a.get("autoGeneratingLocale");i=j!==null?b("VideoComposerDialogCaptionEditorUtils").getHeadLocale(b("nullthrows")(j)):null;j=a.get("video_id");j&&this.$VideoComposerCaptionsStoreClass6(j,i);return a;case b("VideoComposerCaptionsTabActionTypes").FINISHED_FETCH_DRAFTS:g=b("VideoComposerDialogCaptionEditorUtils").updateToChangesetValues(c.drafts,a.get("publishedStateChangeset"));g=b("VideoComposerDialogCaptionEditorUtils").filterOutDeletions(g,a.get("deletionCache"));if(a.autoGenerateCanceled){g=b("VideoComposerDialogCaptionEditorUtils").filterOutAutoGeneratedCaptions(c.drafts);j=b("immutable").Set(c.drafts).subtract(g);j.size>0&&(a=a.set("autoGenerateCanceled",!1));j.forEach(function(c){b("VideoComposerDialogCaptionEditorUtils").silentlyDeleteSubtitle(a.get("video_id"),c,a.get("pageID"))})}return a.set("drafts",g).set("captionLocalesWithoutSubtitles",c.captionLocalesWithoutSubtitles);case b("VideoComposerCaptionsTabActionTypes").RESET_AUTO_GENERATING_LOCALE:return a.set("autoGeneratingLocale",null).set("autoGeneratingLanguage",null);case b("VideoComposerCaptionsTabActionTypes").GENERATE:i=a.get("video_id");if(i){a=a.set("autoGenerateCanceled",!1).set("isAutoGenerating",!0).set("progress",0).set("generateStarted",Date.now()).set("autoGeneratingLocale",a.get("spokenLocale")).set("autoGeneratingLanguage",a.get("spokenLanguage"));j=this.$VideoComposerCaptionsStoreClass7(i,a.get("spokenLanguage"),a.get("spokenLocale"));j!==null&&j!==void 0&&(a=a.set("errors",b("immutable").List([b("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(j,a.get("spokenLanguage"))])).set("isAutoGenerating",!1).set("autoGeneratingLocale",null).set("autoGeneratingLanguage",null))}return a;case b("VideoComposerActionTypes").CAPTION_HAS_TRIMMED:return a.set("shouldTrimCaptions",!1);case b("VideoComposerCaptionsTabActionTypes").CREATE:i=a.get("video_id");i&&(a=a.set("isCreating",!0),a=a.set("shouldTrimCaptions",b("VideoComposerStores").getTrimmingEditorStore(a.videoComposerID).isVideoTrimmed()),a=a.set("selectedCaption",null).set("show_caption_editor",!0),this.$VideoComposerCaptionsStoreClass8(i));return a;case b("VideoComposerCaptionsTabActionTypes").GENERATE_COMPLETE:j=a.get("spokenLanguage");f=b("VideoComposerDialogCaptionEditorUtils").makeNewCaptionFile(c.captions,c.locale,j,!0);i=f!==null&&j!==""&&c.subtitlesID!==null;i&&(a=this.$VideoComposerCaptionsStoreClass9(a,String(c.subtitlesID)),a=this.$VideoComposerCaptionsStoreClass10(a,b("nullthrows")(f),c.locale),a=a.set("numAutoGenerationRetries",0));a=a.set("isAutoGenerating",!1).set("autoGenProcessRate",b("VideoComposerDialogCaptionEditorConstants").DEFAULT_PROCESSING_SPEED).set("progress",0).set("autoGeneratingLocale",null).set("autoGeneratingLanguage",null);return a;case b("VideoComposerCaptionsTabActionTypes").CREATE_COMPLETE:a=a.set("isCreating",!1);return a;case b("VideoComposerCaptionsTabActionTypes").GENERATE_PROGRESS_UPDATE:a=this.$VideoComposerCaptionsStoreClass11(a,c.progress);return a;case b("VideoComposerCaptionsTabActionTypes").EDIT_CAPTIONS_DRAFT:a=a.set("show_caption_editor",!0);j=a.get("drafts").get(c.id);a=a.set("selectedCaption",j);this.$VideoComposerCaptionsStoreClass2(b("VideoCaptionsLoggerEvents").CAPTION_DRAFT_EDITED,{},null,j.id);return a;case b("VideoComposerCaptionsTabActionTypes").DELETE_CAPTIONS_DRAFT:g=a.get("drafts");e=g.get(c.id);i=a.get("video_id");i&&b("VideoComposerDialogCaptionEditorUtils").deleteSubtitles(a.videoComposerID,i,e,a.get("pageID"),a.get("deletionCache"),this.$VideoComposerCaptionsStoreClass12.bind(this));e.language!==b("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE&&(a=a.set("subtitleForDeletion",e));return a;case b("VideoComposerActionTypes").DELETE_SUBTITLES_FAILURE:return a.set("subtitleForDeletion",null);case b("VideoComposerActionTypes").DELETE_SUBTITLES_SUCCESS:var k=a.get("subtitleForDeletion");if(!k)return a;j=a.get("drafts");a.get("deletionCache").add(k);j=b("VideoComposerDialogCaptionEditorUtils").filterOutDeletions(j.filter(function(a){return!k||a.id!==k.id}),a.get("deletionCache"));i=a.get("captionFiles");var l=b("VideoComposerDialogCaptionEditorUtils").getHeadLocale(k.locale);i=i["delete"](l!==""?l:k.locale);l=a.get("composerID");if(l){var m=b("VideoComposerDialogCaptionEditorUtils").getPublishedCaptionFiles(i,j);b("ComposerVideoUploadActions").updateCaptions(l,Array.from(m.values()))}this.$VideoComposerCaptionsStoreClass2(b("VideoCaptionsLoggerEvents").CAPTION_DRAFT_DELETED,{},null,k.id);return a.set("drafts",j).set("subtitleForDeletion",null).set("captionFiles",i).set("publishedStateChangeset",a.get("publishedStateChangeset")["delete"](k.id));case b("VideoComposerCaptionsTabActionTypes").SELECT_SPOKEN_LANGUAGE:this.$VideoComposerCaptionsStoreClass2(b("VideoCaptionsLoggerEvents").VIDEO_LANGUAGE_SELECTED);a=a.set("spokenLanguage",c.language).set("isSpokenLanguageSelected",!0);return a;case b("VideoComposerCaptionsTabActionTypes").SELECT_SPOKEN_LOCALE:a=a.set("spokenLocale",c.locale);return a;case b("VideoComposerCaptionsTabActionTypes").CANCEL_GENERATE:var n=a.autoGeneratingLanguage,o=a.video_id;if(!n||!o)return a;b("setTimeout")(function(){return b("VideoComposerDialogCaptionEditorUtils").fetchCaptions(o,function(a){d.$VideoComposerCaptionsStoreClass13(a,o,n)})},b("VideoComposerDialogCaptionEditorConstants").AUTO_GENERATION_CANCEL_FETCH);a=a.set("autoGenerateCanceled",!0);a=a.set("isAutoGenerating",!1);this.$VideoComposerCaptionsStoreClass2(b("VideoCaptionsLoggerEvents").CAPTION_GENERATE_CANCEL);return a;case b("VideoComposerCaptionsTabActionTypes").START_SRT_UPLOAD:a=a.set("isSRTUploading",!0);a=a.set("partialUploadError",c.partialUploadError);l=a.get("video_id");m=a.get("accessToken");l&&m&&this.$VideoComposerCaptionsStoreClass14(l,c.captions,m);return a;case b("VideoComposerActionTypes").FETCHED_AUTO_GEN_V1_SUBTITLE:a=a.set("autoGenV1Subtitle",c.autoGenV1Subtitle);return a;case b("VideoComposerActionTypes").UPLOAD_LOCAL_CAPTIONS:a=a.set("localCaptionFiles",a.get("localCaptionFiles").concat(c.captions));a=a.set("partialUploadError",c.partialUploadError);return a;case b("VideoComposerActionTypes").UPDATE_ALL_LOCAL_CAPTIONS:a=a.set("localCaptionFiles",b("immutable").List(c.captions));return a;case b("VideoComposerCaptionsTabActionTypes").FINISH_SRT_UPLOAD:a=a.set("isSRTUploading",!1);this.$VideoComposerCaptionsStoreClass2(b("VideoCaptionsLoggerEvents").CAPTION_UPLOAD_COMPLETE,{},c.error?c.error.toString():"");(!c.success||c.error)&&(a=a.set("errors",a.errors.push(c.error||"")));j=c.uploadedVideoSubtitles.size>0;if(!j)return a;c.uploadedVideoSubtitles.forEach(function(c,e){a=d.$VideoComposerCaptionsStoreClass9(a,c.subtitlesID),f=b("VideoComposerDialogCaptionEditorUtils").makeNewCaptionFile(b("immutable").List(c.captions),e,h[e],!1),f&&(a=d.$VideoComposerCaptionsStoreClass10(a,f,e))});return a;case b("VideoComposerCaptionsTabActionTypes").UPDATE_CAPTION_FILES:f=b("VideoComposerStores").getCaptionEditorStore(a.videoComposerID).getState().get("captionFile");i=b("VideoComposerStores").getCaptionEditorStore(a.videoComposerID).getState().get("locale");l=i!==b("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE&&i!==b("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE;l&&(a=this.$VideoComposerCaptionsStoreClass9(a,b("VideoComposerStores").getCaptionEditorStore(a.videoComposerID).getState().get("captionID")));m=f!==null;if(m&&l)return this.$VideoComposerCaptionsStoreClass10(a,f,i);return l?this.$VideoComposerCaptionsStoreClass15(a,i):a;case b("VideoComposerCaptionsTabActionTypes").UPDATE_ERROR_STATE:a=a.set("errors",c.errors).set("show_caption_editor",!1);return a;case b("VideoComposerCaptionsTabActionTypes").RETRY_AUTO_GENERATION:j=b("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(b("VideoUploadUIError").AUTOGENERATE_FAIL_RETRY);a=a.set("isAutoGenerating",!1).set("autoGenProcessRate",b("VideoComposerDialogCaptionEditorConstants").DEFAULT_PROCESSING_SPEED).set("progress",0).set("numAutoGenerationRetries",a.get("numAutoGenerationRetries")+1).set("errors",b("immutable").List([j]));this.$VideoComposerCaptionsStoreClass2(b("VideoCaptionsLoggerEvents").CAPTION_GENERATE_RETRY,{},j.toString());b("setTimeout")(function(){return b("VideoComposerCaptionsTabActions").generate(a.videoComposerID)},b("VideoComposerDialogCaptionEditorConstants").POLL_FAKE_FREQUENCY_GENERATE_MS);return a;case b("VideoComposerCaptionsTabActionTypes").RESUME_AUTO_GENERATION:m=a.get("video_id");l=a.get("autoGeneratingLanguage");m&&l&&(this.$VideoComposerCaptionsStoreClass16(m),this.$VideoComposerCaptionsStoreClass17(m,l),this.$VideoComposerCaptionsStoreClass18());return a;case b("VideoComposerCaptionsTabActionTypes").INITIALIZE_ALL_CAPTION_FILES:a=a.set("serverCaptionLocales",c.subtitles.keySeq());c.subtitles.forEach(function(c,e){if(c.locale===b("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE)return;f=b("VideoComposerDialogCaptionEditorUtils").makeNewCaptionFile(b("immutable").List(c.captions),e,h[e],c.creationMethod===b("VideoComposerDialogCaptionEditorConstants").AUTO_GENERATED);f&&(a=d.$VideoComposerCaptionsStoreClass10(a,f,e))});return a;case b("VideoComposerCaptionsTabActionTypes").BOOTLOAD_PARAMETERS_CAPTIONS_TAB:a=a.set("captionsFeaturesMode",c.data.captionsFeaturesMode).set("isDefaultLangugeSectionEnabled",c.data.enableCaptionsDefaultLanguageSection!=null?c.data.enableCaptionsDefaultLanguageSection:!0).set("isNewCaptionsTabTextAndLayoutEnabled",c.data.enableNewCaptionsTabTextAndLayout===!0).set("shouldShowNuxPill",c.data.shouldShowNuxPill===!0).set("enableAddCaptionWhenUploading",c.data.enableAddCaptionWhenUploading===!0).set("autogeneratableHeadLocales",c.data.autogeneratableHeadLocales!=null?b("immutable").Set(c.data.autogeneratableHeadLocales):b("VideoComposerDialogCaptionEditorConstants").AUTO_GENERATABLE_HEAD_LOCALES).set("showAutopublishCaptionsFeature",c.data.showAutopublishCaptionsFeature===!0).set("shouldAutopublishCaptions",c.data.shouldAutopublishCaptions===!0).set("enableNullStateForCaptionsAdded",c.data.enableNullStateForCaptionsAdded===!0).set("showEditAndReviewButton",c.data.showEditAndReviewButton===!0).set("fakeAutogenerateProgressRate",c.data.fakeAutogenerateProgressRate!=null?c.data.fakeAutogenerateProgressRate:0);return a;case b("VideoComposerCaptionsTabActionTypes").CHANGE_PUBLISHED_STATE:g=a.get("drafts");e=g.get(c.id);i=e.publishedState;j=b("VideoComposerDialogCaptionEditorUtils").getUpdatedPublishState(e.publishedState);e.publishedState=j;g=b("VideoComposerDialogCaptionEditorUtils").filterOutDeletions(g.splice(c.id,1,e),a.get("deletionCache"));m=a.get("publishedStateChangeset").set(e.id,e.publishedState);if(a.get("composerID")){l=b("VideoComposerDialogCaptionEditorUtils").getPublishedCaptionFiles(a.get("captionFiles"),a.get("drafts")||b("immutable").List());b("ComposerVideoUploadActions").updateCaptions(a.get("composerID"),Array.from(l.values()))}this.$VideoComposerCaptionsStoreClass2(b("VideoCaptionsLoggerEvents").CHANGE_PUBLISHED_STATE,{previous_state:i,new_state:e.publishedState},null,e.id);return a.set("drafts",g).set("publishedStateChangeset",m);case b("VideoComposerCaptionsTabActionTypes").PENDING_TO_PUBLISHED:return a.set("drafts",b("VideoComposerDialogCaptionEditorUtils").changeAllPendingToPublished(a.get("drafts"))).set("publishedStateChangeset",b("immutable").Map());case b("VideoComposerActionTypes").SET_DEFAULT_CAPTION_LOCALE:var p=c.locale;return a.set("captionFiles",a.get("captionFiles").map(function(a){a.setIsDefault(p==a.getLocale());return a})).set("localCaptionFiles",a.get("localCaptionFiles").map(function(a){a.setIsDefault(p==a.getLocale());return a}));case b("VideoComposerActionTypes").SET_DISMISS_CAPTIONS_NUX:return a.set("shouldShowNuxPill",!1);case b("VideoComposerActionTypes").FETCH_CAPTION_EDITOR_CROSSPOST_PARAMS:j=b("VideoComposerDialogCaptionEditorUtils").getConvertedCaptionURLs(c.captions);l=this.getInitialState();c.spokenLocale!==""&&c.spokenLanguage!==""&&(l=l.set("spokenLocale",c.spokenLocale).set("spokenLanguage",c.spokenLanguage));return l.set("captionsFeaturesMode",c.captionsFeaturesMode).set("composerMode",b("VideoComposerDialogMode").VIDEO_CROSSPOST).set("captionURLs",j);case b("VideoComposerActionTypes").CAPTIONS_EDIT_PARAMS_FETCHED:i=b("VideoComposerDialogCaptionEditorUtils").getConvertedCaptionURLs(c.data.localCaptionURLs);return a.set("captionsFeaturesMode",c.data.captionsFeaturesMode).set("hasAutoGenV1",c.data.hasAutoGenV1).set("composerMode",b("VideoComposerDialogMode").VIDEO_EDIT).set("captionURLsForEdit",i).set("localCaptionFiles",a.get("localCaptionFiles").concat(i));case b("VideoComposerActionTypes").DELETE_CAPTIONS_URL:return a.set("captionURLs",a.get("captionURLs").splice(c.id,1));case b("VideoComposerActionTypes").DELETE_LOCAL_CAPTION_FILE:return a.set("localCaptionFiles",a.get("localCaptionFiles").splice(c.id,1));case b("VideoComposerActionTypes").DELETE_LOCALE_WITHOUT_SUBTITLE:return a.set("localesWithoutSubtitlesToDelete",a.get("localesWithoutSubtitlesToDelete").push(c.locale));case b("VideoComposerActionTypes").CHANGE_PUBLISHED_STATE_URL:e=a.get("captionURLs").get(c.id);e.setPublishState(b("VideoComposerDialogCaptionEditorUtils").getUpdatedPublishState(e.getPublishState()));return a.set("captionURLs",a.get("captionURLs").splice(c.id,1,e));case b("VideoComposerActionTypes").UPDATE_SHOULD_AUTOPUBLISH_CAPTIONS:return a.set("shouldAutopublishCaptions",c.value);default:return a}};d.getCrosspostPostData=function(){this.logComposerSaveEvent();return b("Promise").resolve({})};d.getPostRequestDataToSend=function(){__p&&__p();var a=this.getState();if(this.shouldEnableOldDataModel())return b("Promise").resolve({captions:Array.from(a.get("localCaptionFiles"))});var c=a.get("video_id");c&&b("VideoComposerDialogCaptionEditorUtils").updatePublishedStatesOnServer(a.videoComposerID,c,a.get("pageID"),this.getpublishedStateChangeset());c=a.get("drafts");a=b("VideoComposerDialogCaptionEditorUtils").getPublishedCaptionFiles(a.get("captionFiles"),c||b("immutable").List());this.logComposerSaveEvent();if(this.getSpokenLocale()===b("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE)return b("Promise").resolve({captions:Array.from(a.values()),autopublish_captions:this.getShouldAutopublishCaptions()});else return b("Promise").resolve({captions:Array.from(a.values()),spoken_locale:this.getSpokenLocale(),autopublish_captions:this.getShouldAutopublishCaptions()})};d.getPostDataForEdit=function(){__p&&__p();var a=this.getState();if(this.shouldEnableOldDataModel())return b("Promise").resolve(b("VideoComposerDialogCaptionEditorUtils").getOldCaptionsDataModelForEdit(a.localCaptionFiles,a.captionURLsForEdit));var c=a.get("video_id");c&&b("VideoComposerDialogCaptionEditorUtils").updatePublishedStatesOnServer(a.videoComposerID,c,a.get("pageID"),this.getpublishedStateChangeset());c=a.get("drafts");c=b("VideoComposerDialogCaptionEditorUtils").getPublishedCaptionFilesForEdit(a.get("captionFiles"),c||b("immutable").List());var d={};a.get("serverCaptionLocales").concat(a.get("localesWithoutSubtitlesToDelete")).forEach(function(a,b){d["remove_caption["+b+"]"]=a});this.getSpokenLocale()!==b("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE&&(d.spoken_locale=this.getSpokenLocale());d.autopublish_captions=this.getShouldAutopublishCaptions();return b("Promise").resolve(c.merge(d).toObject())};d.initialize=function(a,b,c,d,e,f,g,h,i){a=this.$VideoComposerCaptionsStoreClass19(a,b,c,d,e,f,g,h,i);this.$VideoComposerCaptionsStoreClass20(c);this.$VideoComposerCaptionsStoreClass21(c,!0);return a};d.$VideoComposerCaptionsStoreClass19=function(a,c,d,e,f,g,h,i,j){a=a.set("videoFile",c);c&&(a=a.set("videoData",b("videoComposerDialogUploadCreateVideoData")(c)));return a.set("video_id",d).set("accessToken",e).set("composerID",f||"").set("pageID",g).set("videoDurationInSec",h?h:0).set("composerMode",i).set("isOldComposer",j)};d.$VideoComposerCaptionsStoreClass5=function(a){__p&&__p();var c=b("VideoComposerStores").getCaptionEditorStore(a.videoComposerID).getState().get("locale"),d=b("VideoComposerStores").getCaptionEditorStore(a.videoComposerID).getState().get("language"),e=b("VideoComposerStores").getCaptionEditorStore(a.videoComposerID).getState().get("captionID"),f=a.get("drafts"),g=f.toArray();for(var h=0;h<f.size;h++){var i=f.get(h);if(i.id===e){i.locale=c;i.language=d;g[h]=i;break}}i=b("VideoComposerDialogCaptionEditorUtils").filterOutDeletions(b("immutable").List(g),a.get("deletionCache"));return a.set("drafts",i)};d.$VideoComposerCaptionsStoreClass4=function(a){var c=a.get("drafts"),d=b("immutable").List();for(var e=0;e<c.size;e++){var f=c.get(e);f.locale===b("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE?b("VideoComposerDialogCaptionEditorUtils").silentlyDeleteSubtitle(a.get("video_id"),f,a.get("pageID")):d=d.push(f)}return a.set("drafts",d)};d.$VideoComposerCaptionsStoreClass9=function(a,c){c=b("VideoComposerDialogCaptionEditorUtils").addLocaleAsPublishPending(a.get("publishedStateChangeset"),c);var d=b("VideoComposerDialogCaptionEditorUtils").updateToChangesetValues(a.get("drafts"),c);return a.set("publishedStateChangeset",c).set("drafts",d)};d.$VideoComposerCaptionsStoreClass2=function(a,b,c,d){a=this.getLogger().setEvent(a).setError(c).setSubtitleID(d);if(b!==null)for(var e in b){if(e===null||b[e]===null)return;a.addToExtraData(e,b[e])}a.log()};d.$VideoComposerCaptionsStoreClass11=function(a,b){__p&&__p();var c=a.get("videoDurationInSec");if(c===0)return a;c=100*b/c;c=Math.min(c,99);c>a.get("progress")&&(a=a.set("progress",c));if(a.fakeAutogenerateProgressRate!==0)return a.set("autoGenProcessRate",a.fakeAutogenerateProgressRate);else{c=(Date.now()-a.get("generateStarted"))/1e3;return a.set("autoGenProcessRate",b/c)}};d.$VideoComposerCaptionsStoreClass10=function(a,c,d){d=b("VideoComposerDialogCaptionEditorUtils").getHeadLocale(d);d=a.get("captionFiles").set(d,c);c=a.get("composerID");if(c){var e=a.get("drafts");e=b("VideoComposerDialogCaptionEditorUtils").getPublishedCaptionFiles(d,e||b("immutable").List());b("ComposerVideoUploadActions").updateCaptions(c,Array.from(e.values()))}return a.set("captionFiles",d)};d.$VideoComposerCaptionsStoreClass15=function(a,c){c=b("VideoComposerDialogCaptionEditorUtils").getHeadLocale(c);c=a.get("captionFiles")["delete"](c);var d=a.get("composerID");if(d){var e=a.get("drafts");e=b("VideoComposerDialogCaptionEditorUtils").getPublishedCaptionFiles(c,e||b("immutable").List());b("ComposerVideoUploadActions").updateCaptions(d,Array.from(e.values()))}return a.set("captionFiles",c)};d.$VideoComposerCaptionsStoreClass20=function(a){__p&&__p();var c=this;b("VideoComposerDialogCaptionEditorUtils").fetchCaptions(a,function(d){__p&&__p();d&&d.video&&d.video.spoken_language&&(b("VideoComposerCaptionsTabActions").selectSpokenLanguage(c.getState().videoComposerID,d.video.spoken_language),b("VideoComposerCaptionsTabActions").selectSpokenLocale(c.getState().videoComposerID,d.video.spoken_locale+"_XX")),b("VideoComposerDialogCaptionEditorUtils").convertFetchToObject(c.getState().videoComposerID,a,!1,d,function(a){__p&&__p();a=b("VideoComposerDialogCaptionEditorUtils").makeAllSRTCaptionPromises(a);b("promiseDone")(b("Promise").all(a).then(function(a){var d=b("immutable").Map(),e="";a.forEach(function(a){if(!a)return;d=d.set(a.locale,{captions:a.captions,locale:a.locale,publishedState:a.publishedState,subtitlesID:a.subtitlesID,isDefault:a.isDefault,creationMethod:a.creationMethod});a.isDefault&&(e=a.locale)});b("VideoComposerCaptionsTabActions").initializeAllCaptionFiles(c.getState().videoComposerID,d);e!==""&&b("VideoComposerCaptionsTabActions").setDefaultLocale(c.getState().videoComposerID,e)}))})})};d.$VideoComposerCaptionsStoreClass12=function(a){a=a.payload;a=a&&a.success;if(!a){a=b("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(b("VideoUploadUIError").CAPTION_ERROR_DELETE_FAIL);this.$VideoComposerCaptionsStoreClass22(a);b("VideoComposerCaptionsTabActions").deleteSubtitlesFailure(this.getState().videoComposerID)}};d.$VideoComposerCaptionsStoreClass23=function(a,c,d){a=b("XVideoCaptionGenerateAsyncController").getURIBuilder().setInt("video_id",a).setBool("regenerate",!0).setBool("is_new_editor",!0);c!==b("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE&&(a=a.setString("locale",c));c=a.getURI();a=b("ActorURI").create(c,this.getState().get("pageID"));new(b("AsyncRequest"))(a).setMethod("POST").setHandler(d).send()};d.$VideoComposerCaptionsStoreClass7=function(a,c,d){__p&&__p();var e=this;if(!b("VideoComposerDialogCaptionEditorUtils").isAutoGenerateable(this.getState().videoComposerID,d))return b("VideoUploadUIError").CAPTION_ERROR_GENERATE_FAIL;this.$VideoComposerCaptionsStoreClass2(b("VideoCaptionsLoggerEvents").CAPTION_GENERATE_BUTTON_CLICKED);var f=!1,g=b("VideoComposerDialogCaptionEditorUtils").getHeadLocale(d);this.getState().get("drafts").forEach(function(a){a=b("VideoComposerDialogCaptionEditorUtils").getHeadLocale(a.locale);a===g&&(f=!0)});if(f)return b("VideoUploadUIError").CAPTION_ERROR_DUPLICATE_LOCALE;this.$VideoComposerCaptionsStoreClass23(a,d,function(b){b=b.payload;b=b&&b.status!==0;b?(e.$VideoComposerCaptionsStoreClass16(a),e.$VideoComposerCaptionsStoreClass17(a,c),e.$VideoComposerCaptionsStoreClass18()):e.$VideoComposerCaptionsStoreClass24(c)});return null};d.$VideoComposerCaptionsStoreClass13=function(a,b,c){a=this.$VideoComposerCaptionsStoreClass25(a,b,c);if(a){this.$VideoComposerCaptionsStoreClass21(b,!1);this.$VideoComposerCaptionsStoreClass26(a.id,a.locale);return}};d.$VideoComposerCaptionsStoreClass25=function(a,c,d){a=(c=a)!=null?(c=c.video)!=null?c.video_subtitles:c:c;if(!a)return null;c=a.map(function(a,b){return{id:a.id,language:a.display_language,locale:a.locale,creationMethod:a.subtitle_creation_method}});return b("VideoComposerDialogCaptionEditorUtils").findAutoGeneratedCaption(c,d)};d.$VideoComposerCaptionsStoreClass16=function(a){a&&b("SkywalkerManager").subscribe("shortwave/captions/"+a,this.$VideoComposerCaptionsStoreClass27.bind(this))};d.$VideoComposerCaptionsStoreClass27=function(a){var c=a&&a.payload;if(!c)return;c=JSON.parse(a.payload);if(!c.progress_ms)return;b("VideoComposerCaptionsTabActions").updateGenerateProgress(this.getState().videoComposerID,c.progress_ms/1e3)};d.$VideoComposerCaptionsStoreClass28=function(){var a=(new Date()-this.getState().get("generateStarted"))/1e3;return b("VideoComposerDialogCaptionEditorUtils").shouldRetryAutoGeneration(this.getState().get("videoDurationInSec"),a)};d.$VideoComposerCaptionsStoreClass29=function(){return this.getState().get("numAutoGenerationRetries")>0};d.$VideoComposerCaptionsStoreClass30=function(a){if(this.$VideoComposerCaptionsStoreClass29()){this.$VideoComposerCaptionsStoreClass24(a);b("VideoComposerCaptionsTabActions").generateComplete(this.getState().videoComposerID,b("immutable").List(),this.getState().get("spokenLocale"),null);return}b("VideoComposerCaptionsTabActions").retryAutoGeneration(this.getState().videoComposerID)};d.$VideoComposerCaptionsStoreClass17=function(a,c){__p&&__p();var d=this,e=!1,f=0,g=b("setInterval")(function(){__p&&__p();f++;if(e)return;if(!d.getState().get("isAutoGenerating")&&!d.getState().get("autoGenerateCanceled")){b("clearInterval")(g);return}e=!0;if(d.$VideoComposerCaptionsStoreClass28()){b("clearInterval")(g);d.$VideoComposerCaptionsStoreClass30(c);return}b("VideoComposerDialogCaptionEditorUtils").fetchCaptions(a,function(h){__p&&__p();var i=h&&h.video&&h.video.video_subtitles;if(i){i=d.$VideoComposerCaptionsStoreClass25(h,a,c);if(i){b("clearInterval")(g);d.$VideoComposerCaptionsStoreClass21(a,!1);d.$VideoComposerCaptionsStoreClass26(i.id,i.locale);return}if(f===l){d.$VideoComposerCaptionsStoreClass24(c);b("VideoComposerCaptionsTabActions").generateComplete(d.getState().videoComposerID,b("immutable").List(),d.getState().get("spokenLocale"),null);b("clearInterval")(g);return}e=!1}})},m)};d.$VideoComposerCaptionsStoreClass18=function(){__p&&__p();var a=this,c=0,d=this.getState().get("videoDurationInSec"),e=b("setInterval")(function(){__p&&__p();c++;var f=!a.getState().get("isAutoGenerating")||c>=b("VideoComposerDialogCaptionEditorConstants").MAX_FAKE_POLL_ITERATIONS;if(f){b("clearInterval")(e);return}f=a.getState().get("progress");f=f*d/100;var g=a.getState().get("autoGenProcessRate");f=f+g*b("VideoComposerDialogCaptionEditorConstants").POLL_FAKE_FREQUENCY_GENERATE_MS*b("VideoComposerDialogCaptionEditorConstants").AUTO_GEN_PROGRESS_RATE_FACTOR/1e3;b("VideoComposerCaptionsTabActions").updateGenerateProgress(a.getState().videoComposerID,f)},b("VideoComposerDialogCaptionEditorConstants").POLL_FAKE_FREQUENCY_GENERATE_MS)};d.$VideoComposerCaptionsStoreClass8=function(a){__p&&__p();var c=this;this.$VideoComposerCaptionsStoreClass23(a,b("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE,function(b){b=b.payload;var d=b&&b.status!==0;if(d)c.$VideoComposerCaptionsStoreClass31(a);else{d="Speech non speech request error";b.error&&(d=d+": "+b.error);c.$VideoComposerCaptionsStoreClass32(d)}})};d.$VideoComposerCaptionsStoreClass31=function(a){__p&&__p();var c=this,d=!1,e=0,f=b("setInterval")(function(){__p&&__p();e++;if(d)return;var g=b("XVideoCaptionSpeechDetectionAsyncController").getURIBuilder().setInt("video_id",a);d=!0;g=g.getURI();g=b("ActorURI").create(g,c.getState().get("pageID"));new(b("AsyncRequest"))(g).setMethod("POST").setHandler(function(g){__p&&__p();g=g.payload;var h=g&&g.status===2;if(h){b("clearInterval")(f);g.error==="speech_non_speech_fallback"?c.$VideoComposerCaptionsStoreClass2(b("VideoCaptionsLoggerEvents").CAPTION_CREATE_COMPLETE,{},"Speech non speech fallback path."):c.$VideoComposerCaptionsStoreClass2(b("VideoCaptionsLoggerEvents").CAPTION_CREATE_COMPLETE);b("VideoComposerDialogCaptionEditorUtils").fetchCaptionedLocales(c.getState().videoComposerID,b("nullthrows")(a),!1,function(a,d){b("VideoComposerDialogCaptionEditorUtils").finishCaptionsFetch(c.getState().videoComposerID,a,d);b("VideoComposerCaptionsTabActions").createComplete(c.getState().videoComposerID);if(c.getState().show_caption_editor){d=a.findIndex(function(a){return a.language===b("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE});b("VideoComposerCaptionsTabActions").editCaptionsDraft(c.getState().videoComposerID,d)}else a.forEach(function(a,d){a.language===b("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE&&b("VideoComposerCaptionsTabActions").deleteCaptionsDraft(c.getState().videoComposerID,d)})});return}h=g===null||g&&g.status===0;if(h){c.$VideoComposerCaptionsStoreClass33();b("clearInterval")(f);return}if(e===k){c.$VideoComposerCaptionsStoreClass32("Speech non speech timeout.");b("clearInterval")(f);return}d=!1}).send()},j)};d.$VideoComposerCaptionsStoreClass21=function(a,c){var d=this;b("VideoComposerDialogCaptionEditorUtils").fetchCaptionedLocales(this.getState().videoComposerID,a,c,function(a,c){return b("VideoComposerDialogCaptionEditorUtils").finishCaptionsFetch(d.getState().videoComposerID,a,c)})};d.$VideoComposerCaptionsStoreClass6=function(a,c){var d=this;b("VideoComposerDialogCaptionEditorUtils").fetchCaptionedLocales(this.getState().videoComposerID,a,!1,function(a,e){var f=c!==null;f&&d.$VideoComposerCaptionsStoreClass34(a,c);b("VideoComposerDialogCaptionEditorUtils").finishCaptionsFetch(d.getState().videoComposerID,a,e)})};d.$VideoComposerCaptionsStoreClass34=function(a,c){a=a.some(function(a){a.locale===c});a?b("VideoComposerCaptionsTabActions").resetAutoGeneratingLocale(this.getState().videoComposerID):b("VideoComposerCaptionsTabActions").resumeAutoGeneration(this.getState().videoComposerID)};d.uploadCaptionsForSRT=function(a,b,c){this.$VideoComposerCaptionsStoreClass14(a,b,c)};d.$VideoComposerCaptionsStoreClass14=function(a,c,d){__p&&__p();var e=this;d=b("XVideoCaptionUploadAsyncController").getURIBuilder().setInt("video_id",a);d=d.getURI();var f=b("ActorURI").create(d,this.getState().get("pageID")),h=c.length,i=[],j=function(b,d){var f=b.payload,j=f&&f.success==="true"&&f.error==="";if(j)i.push(d),c.length===0?e.$VideoComposerCaptionsStoreClass35(a,h,i,null):k();else{j=i.length;b.getError()!==0?d=b.getErrorDescriptionString():d=f?f.error:g._("We are unable to upload your SRT file at this time. Please try again later.");h===1?b=d:b=g._("Uploaded {uploadedCaptions} of {captionsToUpload}. Reason: {reason}",[g._param("uploadedCaptions",j),g._param("captionsToUpload",h),g._param("reason",d)]);e.$VideoComposerCaptionsStoreClass35(a,h,i,b)}},k=function(){var a=c.pop(),d=new FormData(),e=a.getIsDefault()?"captions_default":"captions_file0";d.append(e,a.getFile());new(b("AsyncRequest"))(f).setMethod("POST").setHandler(function(b){j(b,a)}).setErrorHandler(function(b){j(b,a)}).setRawData(d).send()};k()};d.$VideoComposerCaptionsStoreClass35=function(a,c,d,e){__p&&__p();var f=this,g=d.length===c;if(!g&&d.length===0){b("VideoComposerCaptionsTabActions").finishSRTUpload(this.getState().videoComposerID,!1,e,b("immutable").Map());return}b("VideoComposerDialogCaptionEditorUtils").fetchCaptions(a,function(c){__p&&__p();b("VideoComposerDialogCaptionEditorUtils").convertFetchToObject(f.getState().videoComposerID,a,!1,c,function(a,c){b("VideoComposerDialogCaptionEditorUtils").finishCaptionsFetch(f.getState().videoComposerID,a,c);c=b("VideoComposerDialogCaptionEditorUtils").makeSRTCaptionPromises(d,a);b("promiseDone")(b("Promise").all(c).then(function(a){var c=b("immutable").Map();a.forEach(function(a){if(!a)return;c=c.set(a.locale,{subtitlesID:a.subtitlesID,captions:a.captions})});b("VideoComposerCaptionsTabActions").finishSRTUpload(f.getState().videoComposerID,g,e,c)}))})})};d.$VideoComposerCaptionsStoreClass24=function(a){a=b("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(b("VideoUploadUIError").CAPTION_ERROR_GENERATE_FAIL,a);this.$VideoComposerCaptionsStoreClass2(b("VideoCaptionsLoggerEvents").CAPTION_GENERATE_COMPLETE,{},a.toString());this.$VideoComposerCaptionsStoreClass22(a)};d.$VideoComposerCaptionsStoreClass33=function(){var a=b("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(b("VideoUploadUIError").CAPTION_ERROR_CREATE_FAIL);this.$VideoComposerCaptionsStoreClass32(a.toString())};d.$VideoComposerCaptionsStoreClass32=function(a){var c=b("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(b("VideoUploadUIError").CAPTION_ERROR_CREATE_FAIL);this.$VideoComposerCaptionsStoreClass2(b("VideoCaptionsLoggerEvents").CAPTION_CREATE_COMPLETE,{},a);this.$VideoComposerCaptionsStoreClass22(c)};d.$VideoComposerCaptionsStoreClass22=function(a){a=b("immutable").List([a]);a={type:b("VideoComposerCaptionsTabActionTypes").UPDATE_ERROR_STATE,errors:a};b("VideoComposerDispatchers").get(this.getState().videoComposerID).dispatch(a)};d.$VideoComposerCaptionsStoreClass26=function(a,c){var d=this;this.$VideoComposerCaptionsStoreClass2(b("VideoCaptionsLoggerEvents").CAPTION_GENERATE_COMPLETE);b("VideoComposerDialogCaptionEditorUtils").fetchCaptionByID(a,function(e){var f=e&&e.video_subtitle&&e.video_subtitle.captions&&e.video_subtitle.captions.edges;if(f){f=e.video_subtitle.captions.edges;b("VideoComposerCaptionsTabActions").generateComplete(d.getState().videoComposerID,b("immutable").List(f),c,a)}})};d.isCaptionsEnabled=function(){var a=this.getState();a=a.drafts;var c=!1;a.forEach(function(a){a.publishedState!==b("VideoComposerDialogCaptionEditorPublishStateEnum").DRAFT&&(c=!0)});return c};return c}(b("VideoComposerStoreBase"));e.exports=c}),null);
__d("XVideoComposerGameshowLightweightFetchEditPostDataController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/gameshows/fetch_edit_post_data/",{video_id:{type:"FBID",required:!0}})}),null);
__d("XVideoComposerGameshowLightweightLoadAvailableGamesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/gameshows/load_available_games/",{})}),null);
__d("XVideoComposerGameshowLightweightLoadGameDataController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/gameshows/load_game_data/",{game_id:{type:"FBID",required:!0}})}),null);
__d("VideoComposerGameshowLightweightStoreClass",["Promise","ActorURI","AsyncRequest","VideoComposerActionTypes","VideoComposerGameshowLightweightActions","VideoComposerGameshowLightweightUtils","VideoComposerPollsUtils","VideoComposerStoreBase","VideoComposerStores","XVideoComposerGameshowLightweightFetchEditPostDataController","XVideoComposerGameshowLightweightLoadAvailableGamesController","XVideoComposerGameshowLightweightLoadGameDataController","flattenPHPQueryData","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({videoComposerID:"",editingSavedGame:!1,showEditor:!1,availableGames:b("immutable").List(),draftSelectedGameID:null,draftSelectedGameData:null,savedSelectedGameID:null,savedSelectedGameData:null,enteredTimestampStringsMap:b("immutable").Map(),timestampErrorsMap:b("immutable").Map(),showRemoveGameConfirmationDialog:!1,showCloseEditorConfirmationDialog:!1}));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new g()};d.reduceImpl=function(a,c){__p&&__p();switch(c.type){case b("VideoComposerActionTypes").INITIALIZE_UPLOAD_COMPOSER:var d=c.serverParams.common.actorID;return this.$VideoComposerGameshowLightweightStoreClass1(a,d);case b("VideoComposerActionTypes").GAMESHOW_LIGHTWEIGHT_LOAD_AVAILABLE_GAMES_SUCCESS:return a.set("availableGames",b("immutable").List(c.payload.games));case b("VideoComposerActionTypes").GAMESHOW_LIGHTWEIGHT_LOAD_GAME_SUCCESS:return this.$VideoComposerGameshowLightweightStoreClass2(a,c.payload.game);case b("VideoComposerActionTypes").GAMESHOW_LIGHTWEIGHT_LOAD_EDIT_DATA_SUCCESS:return this.$VideoComposerGameshowLightweightStoreClass3(a,c.payload.game);case b("VideoComposerActionTypes").GAMESHOW_LIGHTWEIGHT_SELECT_GAME:return this.$VideoComposerGameshowLightweightStoreClass4(a,c.gameID);case b("VideoComposerActionTypes").GAMESHOW_LIGHTWEIGHT_OPEN_EDITOR:return this.$VideoComposerGameshowLightweightStoreClass5(a);case b("VideoComposerActionTypes").GAMESHOW_LIGHTWEIGHT_CLOSE_EDITOR_ATTEMPT:return this.$VideoComposerGameshowLightweightStoreClass6(a);case b("VideoComposerActionTypes").GAMESHOW_LIGHTWEIGHT_CLOSE_EDITOR_CONFIRM:return this.$VideoComposerGameshowLightweightStoreClass7(a);case b("VideoComposerActionTypes").GAMESHOW_LIGHTWEIGHT_CLOSE_EDITOR_CANCEL:return a.set("showCloseEditorConfirmationDialog",!1);case b("VideoComposerActionTypes").GAMESHOW_LIGHTWEIGHT_UPDATE_TIMESTAMP_STRING:return this.$VideoComposerGameshowLightweightStoreClass8(a,c.questionID,c.text);case b("VideoComposerActionTypes").GAMESHOW_LIGHTWEIGHT_ATTEMPT_SAVE_EDITS:return this.$VideoComposerGameshowLightweightStoreClass9(a);case b("VideoComposerActionTypes").GAMESHOW_LIGHTWEIGHT_REMOVE_GAME_ATTEMPT:return a.set("showRemoveGameConfirmationDialog",!0);case b("VideoComposerActionTypes").GAMESHOW_LIGHTWEIGHT_REMOVE_GAME_CONFIRM:return this.$VideoComposerGameshowLightweightStoreClass10(a);case b("VideoComposerActionTypes").GAMESHOW_LIGHTWEIGHT_REMOVE_GAME_CANCEL:return a.set("showRemoveGameConfirmationDialog",!1);case b("VideoComposerActionTypes").RESET_COMPOSER:return this.getInitialState();default:return a}};d.$VideoComposerGameshowLightweightStoreClass1=function(a,c){if(c==null)return a;var d=b("XVideoComposerGameshowLightweightLoadAvailableGamesController").getURIBuilder().getURI();d=b("ActorURI").create(d,c);c=new(b("AsyncRequest"))().setURI(d).exec().then(function(c){b("VideoComposerGameshowLightweightActions").loadAvailableGamesSuccess(a.videoComposerID,c.payload)});b("promiseDone")(c);return a};d.$VideoComposerGameshowLightweightStoreClass5=function(a){a=a.set("showEditor",!0).set("draftSelectedGameID",a.savedSelectedGameID).set("draftSelectedGameData",a.savedSelectedGameData);var b=a.draftSelectedGameData;return b===null||b===void 0?a:this.$VideoComposerGameshowLightweightStoreClass11(a,b)};d.$VideoComposerGameshowLightweightStoreClass12=function(a){var c=a.draftSelectedGameData;if(!c)return null;c=c.set("questions",c.questions.map(function(c){var d=a.enteredTimestampStringsMap.get(c.id);d=b("VideoComposerPollsUtils").isValidTimeString(d)?b("VideoComposerGameshowLightweightUtils").timeStringToMilliseconds(d):-1;return c.set("releaseTimestamp",d)})).set("resultsReleaseTimestamp",b("VideoComposerPollsUtils").isValidTimeString(a.enteredTimestampStringsMap.get("results"))?b("VideoComposerGameshowLightweightUtils").timeStringToMilliseconds(a.enteredTimestampStringsMap.get("results")):-1);return c};d.$VideoComposerGameshowLightweightStoreClass6=function(a){var c=this.$VideoComposerGameshowLightweightStoreClass12(a);return b("immutable").is(c,a.savedSelectedGameData)?this.$VideoComposerGameshowLightweightStoreClass7(a):a.set("showCloseEditorConfirmationDialog",!0)};d.$VideoComposerGameshowLightweightStoreClass7=function(a){a=a.set("showEditor",!1).set("showCloseEditorConfirmationDialog",!1);return this.$VideoComposerGameshowLightweightStoreClass13(a)};d.$VideoComposerGameshowLightweightStoreClass13=function(a){return a.set("draftSelectedGameID",null).set("draftSelectedGameData",null).set("enteredTimestampStringsMap",b("immutable").Map()).set("timestampErrorsMap",b("immutable").Map())};d.$VideoComposerGameshowLightweightStoreClass11=function(a,c){var d=b("immutable").Map();c.questions.forEach(function(a){d=d.set(a.id,b("VideoComposerGameshowLightweightUtils").millisecondsToTimeString(a.releaseTimestamp))});d=d.set("results",b("VideoComposerGameshowLightweightUtils").millisecondsToTimeString(c.resultsReleaseTimestamp));return a.set("enteredTimestampStringsMap",d).set("timestampErrorsMap",b("immutable").Map())};d.$VideoComposerGameshowLightweightStoreClass4=function(a,b){if(b===a.draftSelectedGameID)return a;this.$VideoComposerGameshowLightweightStoreClass14(b);return a.set("draftSelectedGameID",b)};d.$VideoComposerGameshowLightweightStoreClass14=function(a){var c=this;a=b("XVideoComposerGameshowLightweightLoadGameDataController").getURIBuilder().setFBID("game_id",a).getURI();a=new(b("AsyncRequest"))().setURI(a).exec().then(function(a){b("VideoComposerGameshowLightweightActions").loadGameDataSuccess(c.getState().videoComposerID,a.payload)});b("promiseDone")(a)};d.$VideoComposerGameshowLightweightStoreClass2=function(a,c){if(!c)return a.set("draftSelectedGameData",null);c=b("VideoComposerGameshowLightweightUtils").mapGameDataPayloadToGameDataRecord(c);return this.$VideoComposerGameshowLightweightStoreClass11(a.set("draftSelectedGameData",c),c)};d.fetchEditPostData=function(a,c){var d=b("XVideoComposerGameshowLightweightFetchEditPostDataController").getURIBuilder().setFBID("video_id",c.videoID).getURI();c=c.common.actorID;d=b("ActorURI").create(d,c);return new(b("AsyncRequest"))().setURI(d).exec().then(function(c){b("VideoComposerGameshowLightweightActions").loadEditDataSuccess(a,c.payload)})};d.$VideoComposerGameshowLightweightStoreClass3=function(a,c){if(!c)return a;c=b("VideoComposerGameshowLightweightUtils").mapGameDataPayloadToGameDataRecord(c);return a.set("savedSelectedGameData",c).set("savedSelectedGameID",c.id).set("editingSavedGame",!0)};d.$VideoComposerGameshowLightweightStoreClass8=function(a,b,c){var d=a.enteredTimestampStringsMap;d=d.set(b,c);return a.set("enteredTimestampStringsMap",d)};d.$VideoComposerGameshowLightweightStoreClass9=function(a){__p&&__p();var c=a.draftSelectedGameData;if(!c)return a.set("showEditor",!1);c=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState();c=c.videoDuration;c=b("VideoComposerGameshowLightweightUtils").checkForTimestampErrors(a.enteredTimestampStringsMap,c);var d=a.set("timestampErrorsMap",c);if(!c.isEmpty())return d;d=d.set("showEditor",!1).set("savedSelectedGameID",a.draftSelectedGameID).set("savedSelectedGameData",this.$VideoComposerGameshowLightweightStoreClass12(a));return this.$VideoComposerGameshowLightweightStoreClass13(d)};d.$VideoComposerGameshowLightweightStoreClass10=function(a){return a.set("showRemoveGameConfirmationDialog",!1).set("savedSelectedGameID",null).set("savedSelectedGameData",null)};d.getPostRequestDataToSend=function(){var a=this.getState().savedSelectedGameData;if(a===null||a===void 0)return b("Promise").resolve();a=this.$VideoComposerGameshowLightweightStoreClass15(a);a=b("flattenPHPQueryData")({gameshow_lightweight:a});return b("Promise").resolve(a)};d.$VideoComposerGameshowLightweightStoreClass15=function(a){var b=[];a.questions.forEach(function(a){b.push({id:parseInt(a.id,10),releaseTimestamp:a.releaseTimestamp})});return{id:parseInt(a.id,10),questions:b,resultsReleaseTimestamp:a.resultsReleaseTimestamp}};return c}(b("VideoComposerStoreBase"));e.exports=a}),null);
__d("VideoComposerPollsStoreClass",["invariant","Promise","ImmutableRecordWithV4Types","VideoComposerActionTypes","VideoComposerPollsConstants","VideoComposerPollsTypes","VideoComposerPollsUtils","VideoComposerStoreBase","VideoComposerStores","VideoPollsOptionType","VideoPollType","flattenPHPQueryData","gkx","immutable","uuid"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("ImmutableRecordWithV4Types").Record;var h=b("VideoComposerPollsTypes").EditorState,i=b("VideoComposerPollsTypes").PollDataRecordFactory,j=b("VideoComposerPollsTypes").PollOptionDataRecordFactory,k=b("VideoComposerPollsTypes").SliderDataRecordFactory,l=3600,m="START",n="END",o=a({videoComposerID:"",isAdBreaksPollCreationEnabled:!1,isImageAttachmentEnabled:!1,savedStateLoaded:!1,draftPoll:i(),editAttemptPollID:"",deleteAttemptPollID:null,editorState:h.CLOSED,persistedPolls:[],polls:b("immutable").List(),showEditor:!1,showCancelConfirmDialog:!1,showCloseEditorConfirmDialog:!1,showEditAttemptDialog:!1,isLiveVideo:!1,enableWasLiveVoting:!1,showWasLiveVotingToggle:!1,canSeeSlidersSection:!1,showOpenPollsFormSectionConfirmationDialog:!1,showOpenSlidersFormSectionConfirmationDialog:!1,draftSlider:k(),sliders:b("immutable").List(),editAttemptSliderID:"",deleteAttemptSliderID:null});c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.mapPollRecordToNewPollRequestData=function(a,c){var e=[],f=[];a.options.forEach(function(a,b){b=a.imageFile!==null?this.constructImageFileKey(c,b):null;f.push({text:a.text,imageFileKey:b});e.push(a.stickerID)},babelHelpers.assertThisInitialized(d));return{question_text:a.questionText,display_results_after_voting:a.showResults,display_results_timestamp:a.displayResultsTimestamp,voting_closed_timestamp:a.votingClosedTimestamp,options:[],sticker_options:a.optionType===b("VideoPollsOptionType").STICKER?e:[],options_with_images:a.optionType===b("VideoPollsOptionType").TEXT?f:[],start_time:d.$VideoComposerPollsStoreClass29(a.startTime),end_time:d.$VideoComposerPollsStoreClass29(a.endTime),is_ad_break_poll:a.isAdBreakPoll,poll_type:a.pollType}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getInitialState=function(){return o()};d.reduceImpl=function(a,c){__p&&__p();switch(c.type){case b("VideoComposerActionTypes").INITIALIZE_UPLOAD_COMPOSER:a=a.set("isImageAttachmentEnabled",c.serverParams.isImageAttachmentEnabled);a=a.set("canSeeSlidersSection",this.$VideoComposerPollsStoreClass1(a));return a.set("isAdBreaksPollCreationEnabled",c.serverParams.isAdBreaksPollCreationEnabled);case b("VideoComposerActionTypes").POLLS_BOOTLOAD_EDIT:a=a.set("isImageAttachmentEnabled",c.data.isImageAttachmentEnabled);a=a.set("isAdBreaksPollCreationEnabled",c.data.isAdBreaksPollCreationEnabled);a=a.set("persistedPolls",c.data.polls);a=a.set("isLiveVideo",c.data.isLiveVideo);a=a.set("showWasLiveVotingToggle",c.data.showWasLiveVotingToggle);a=a.set("enableWasLiveVoting",c.data.enableWasLiveVoting);a=a.set("polls",b("immutable").List(c.data.polls.map(b("VideoComposerPollsUtils").mapPersistedPollToLocalPoll)));a=a.set("canSeeSlidersSection",this.$VideoComposerPollsStoreClass1(a));return a;case b("VideoComposerActionTypes").POLLS_ADD_NEW:var d=this.$VideoComposerPollsStoreClass2(a,c.isAdBreakPoll);return a.set("showEditor",!0).set("editorState",h.ADDING_NEW_POLL).set("draftPoll",d);case b("VideoComposerActionTypes").POLLS_CLOSE_EDITOR_ATTEMPT:if(this.$VideoComposerPollsStoreClass3(a))return a.set("showCloseEditorConfirmDialog",!0);else return this.$VideoComposerPollsStoreClass4(a,!0);case b("VideoComposerActionTypes").POLLS_CLOSE_EDITOR_ABANDON:return a.set("showCloseEditorConfirmDialog",!1);case b("VideoComposerActionTypes").POLLS_CLOSE_EDITOR_CONFIRM:return this.$VideoComposerPollsStoreClass4(a,!0);case b("VideoComposerActionTypes").POLLS_CANCEL_CHANGES_ATTEMPT:if(this.$VideoComposerPollsStoreClass3(a))return a.set("showCancelConfirmDialog",!0);else return this.$VideoComposerPollsStoreClass4(a,a.polls.size===0);case b("VideoComposerActionTypes").POLLS_CANCEL_CHANGES_ABANDON:return a.set("showCancelConfirmDialog",!1);case b("VideoComposerActionTypes").POLLS_CANCEL_CHANGES_CONFIRM:return this.$VideoComposerPollsStoreClass4(a,a.polls.size===0);case b("VideoComposerActionTypes").POLLS_DELETE_ATTEMPT:return a.set("deleteAttemptPollID",c.pollID);case b("VideoComposerActionTypes").POLLS_DELETE_INTERACTION_CANCEL:return this.$VideoComposerPollsStoreClass5(a);case b("VideoComposerActionTypes").POLLS_DELETE_CONFIRM:d=a.polls.findIndex(function(b){return b.id===a.deleteAttemptPollID});return a.set("polls",a.polls["delete"](d)).set("deleteAttemptPollID",null);case b("VideoComposerActionTypes").POLLS_DRAFT_ADD_OPTION:return a.set("draftPoll",a.draftPoll.set("options",a.draftPoll.options.push(j())));case b("VideoComposerActionTypes").POLLS_DRAFT_DELETE_OPTION:return a.set("draftPoll",a.draftPoll.set("options",a.draftPoll.options.deleteIn([c.optionIndex])));case b("VideoComposerActionTypes").POLLS_DRAFT_SET_RESULTS_VISIBLE:return a.set("draftPoll",a.draftPoll.set("showResults",c.showResultsAfterVote));case b("VideoComposerActionTypes").POLLS_DRAFT_SET_DISPLAY_RESULTS_TIMESTAMP:return a.set("draftPoll",a.draftPoll.set("displayResultsTimestamp",c.time));case b("VideoComposerActionTypes").POLLS_DRAFT_SET_VOTING_CLOSED_TIMESTAMP:return a.set("draftPoll",a.draftPoll.set("votingClosedTimestamp",c.time));case b("VideoComposerActionTypes").POLLS_DRAFT_TOGGLE_AD_BREAK_POLL:d=!a.draftPoll.isAdBreakPoll;var e=a.draftPoll;e=e.set("isAdBreakPoll",d);e=e.set("pollType",d?b("VideoPollType").AD_BREAK_POLL:b("VideoPollType").SCHEDULED);return a.set("draftPoll",e);case b("VideoComposerActionTypes").POLLS_DRAFT_UPDATE_START_TIME:return this.$VideoComposerPollsStoreClass6(a,"startTime",c.time);case b("VideoComposerActionTypes").POLLS_DRAFT_UPDATE_END_TIME:return this.$VideoComposerPollsStoreClass6(a,"endTime",c.time);case b("VideoComposerActionTypes").POLLS_DRAFT_UPDATE_OPTION_TEXT:d=a.draftPoll.options;d=d.setIn([c.optionIndex],d.get(c.optionIndex).set("text",c.text));return a.set("draftPoll",a.draftPoll.set("options",d));case b("VideoComposerActionTypes").POLLS_DRAFT_STICKER_SELECT:d=a.draftPoll.options;d=d.setIn([c.optionIndex],d.get(c.optionIndex).set("stickerID",c.stickerID));e=d.filter(function(a){return a.stickerID!==""}).size;a=a.set("draftPoll",a.draftPoll.set("options",d));a=a.set("draftPoll",a.draftPoll.set("optionType",e===0?b("VideoPollsOptionType").TEXT:b("VideoPollsOptionType").STICKER));return a;case b("VideoComposerActionTypes").POLLS_DRAFT_UPDATE_IMAGE_ATTACHMENT:d=a.draftPoll.options;d=d.setIn([c.optionIndex],d.get(c.optionIndex).set("imageURL",c.imageURL));d=d.setIn([c.optionIndex],d.get(c.optionIndex).set("imageFile",c.imageFile));return a.set("draftPoll",a.draftPoll.set("options",d));case b("VideoComposerActionTypes").POLLS_DRAFT_UPDATE_QUESTION:return a.set("draftPoll",a.draftPoll.set("questionText",c.text));case b("VideoComposerActionTypes").POLLS_EDIT_ATTEMPT:if(this.$VideoComposerPollsStoreClass3(a))return this.$VideoComposerPollsStoreClass7(a,c.pollID);else return this.$VideoComposerPollsStoreClass8(a,c.pollID);case b("VideoComposerActionTypes").POLLS_EDIT_ATTEMPT_DISCARD_PREVIOUS:return this.$VideoComposerPollsStoreClass9(a);case b("VideoComposerActionTypes").POLLS_EDIT_ATTEMPT_HIDE_DIALOG:return this.$VideoComposerPollsStoreClass10(a);case b("VideoComposerActionTypes").POLLS_EDIT_ATTEMPT_SAVE_PREVIOUS:return this.$VideoComposerPollsStoreClass11(a);case b("VideoComposerActionTypes").POLLS_TOGGLE_WAS_LIVE_VOTING:return a.set("enableWasLiveVoting",c.enableWasLiveVoting);case b("VideoComposerActionTypes").POLLS_OPEN_POLLS_FORM_SECTION_ATTEMPT:return this.$VideoComposerPollsStoreClass12(a);case b("VideoComposerActionTypes").POLLS_OPEN_POLLS_FORM_SECTION_CONFIRM:return this.$VideoComposerPollsStoreClass13(a);case b("VideoComposerActionTypes").POLLS_OPEN_POLLS_FORM_SECTION_CANCEL:return a.set("showOpenPollsFormSectionConfirmationDialog",!1);case b("VideoComposerActionTypes").POLLS_OPEN_SLIDERS_FORM_SECTION_ATTEMPT:return this.$VideoComposerPollsStoreClass14(a);case b("VideoComposerActionTypes").POLLS_OPEN_SLIDERS_FORM_SECTION_CONFIRM:return this.$VideoComposerPollsStoreClass15(a);case b("VideoComposerActionTypes").POLLS_OPEN_SLIDERS_FORM_SECTION_CANCEL:return a.set("showOpenSlidersFormSectionConfirmationDialog",!1);case b("VideoComposerActionTypes").POLLS_DRAFT_UPDATE_SLIDER_QUESTION:return a.set("draftSlider",a.draftSlider.set("questionText",c.text));case b("VideoComposerActionTypes").POLLS_DRAFT_UPDATE_SLIDER_EMOJI:return a.set("draftSlider",a.draftSlider.set("emoji",c.emoji));case b("VideoComposerActionTypes").POLLS_EDIT_SLIDER_ATTEMPT:return this.$VideoComposerPollsStoreClass16(a,c.sliderID);case b("VideoComposerActionTypes").POLLS_DELETE_SLIDER_ATTEMPT:return a.set("deleteAttemptSliderID",c.sliderID);case b("VideoComposerActionTypes").POLLS_DELETE_SLIDER_CONFIRM:return this.$VideoComposerPollsStoreClass17(a);case b("VideoComposerActionTypes").POLLS_SAVE:return this.$VideoComposerPollsStoreClass18(a);case b("VideoComposerActionTypes").POLLS_SAVE_SLIDER:return this.$VideoComposerPollsStoreClass19(a);case b("VideoComposerActionTypes").RESET_COMPOSER:return this.getInitialState();default:return a}};d.$VideoComposerPollsStoreClass1=function(a){return b("gkx")("976432")&&!a.isLiveVideo};d.$VideoComposerPollsStoreClass6=function(a,b,c){switch(a.editorState){case h.ADDING_NEW_POLL:case h.EDITING_POLL:return a.set("draftPoll",a.draftPoll.set(b,c));case h.ADDING_NEW_SLIDER:case h.EDITING_SLIDER:return a.set("draftSlider",a.draftSlider.set(b,c));default:return a}};d.$VideoComposerPollsStoreClass12=function(a){if(a.editorState===h.ADDING_NEW_POLL||a.editorState===h.EDITING_POLL)return a;return this.$VideoComposerPollsStoreClass3(a)?a.set("showOpenPollsFormSectionConfirmationDialog",!0):this.$VideoComposerPollsStoreClass13(a)};d.$VideoComposerPollsStoreClass13=function(a){var b=this.$VideoComposerPollsStoreClass2(a,!1);return a.set("showOpenPollsFormSectionConfirmationDialog",!1).set("editorState",h.ADDING_NEW_POLL).set("draftPoll",b)};d.$VideoComposerPollsStoreClass14=function(a){if(a.editorState===h.ADDING_NEW_SLIDER||a.editorState===h.EDITING_SLIDER)return a;return this.$VideoComposerPollsStoreClass3(a)?a.set("showOpenSlidersFormSectionConfirmationDialog",!0):this.$VideoComposerPollsStoreClass15(a)};d.$VideoComposerPollsStoreClass15=function(a){return a.set("showOpenSlidersFormSectionConfirmationDialog",!1).set("editorState",h.ADDING_NEW_SLIDER).set("draftSlider",this.$VideoComposerPollsStoreClass20(a))};d.$VideoComposerPollsStoreClass3=function(a){__p&&__p();switch(a.editorState){case h.EDITING_POLL:var c=a.polls.find(function(b){return b.id===a.draftPoll.id});return!b("immutable").is(c,a.draftPoll);case h.ADDING_NEW_POLL:return!!a.draftPoll.questionText.trim()||a.draftPoll.options.some(function(a){return!!a.text.trim()});case h.EDITING_SLIDER:return!1;case h.ADDING_NEW_SLIDER:return this.$VideoComposerPollsStoreClass21(a);case h.LIST_VIEW:case h.CLOSED:return!1}return!1};d.$VideoComposerPollsStoreClass21=function(a){return!!a.draftSlider.questionText.trim()||!!a.draftSlider.emoji.trim()};d.$VideoComposerPollsStoreClass18=function(a){__p&&__p();var c=a.draftPoll;c=c.set("questionText",c.questionText.trim()).set("options",c.options.map(function(a){return a.set("text",a.text.trim())}).map(function(a){return a.set("stickerID",a.stickerID)}).map(function(a){return a.set("imageURL",a.imageURL)}).map(function(a){return a.set("imageFile",a.imageFile)}).filter(function(a){return!!a.text||!!a.stickerID}));c.options.size>=b("VideoComposerPollsConstants").MIN_OPTIONS_COUNT&&c.options.size<=b("VideoComposerPollsConstants").MAX_OPTIONS_COUNT||g(0,4514);a=a.set("draftPoll",c);c=a.editorState===h.ADDING_NEW_POLL?a.polls.push(a.draftPoll.set("id",b("uuid")())):a.polls.set(a.polls.findIndex(function(b){return b.id===a.draftPoll.id}),a.draftPoll);c=c.sortBy(function(a){return b("VideoComposerPollsUtils").timeStringToSeconds(a.startTime)});var d=a.draftPoll.isAdBreakPoll;a=this.$VideoComposerPollsStoreClass22(a).set("polls",c);d&&(a=this.$VideoComposerPollsStoreClass4(a,!0));return a};d.$VideoComposerPollsStoreClass19=function(a){var c=a.draftSlider;c=c.set("questionText",c.questionText.trim());a=a.set("draftSlider",c);c=a.editorState===h.ADDING_NEW_SLIDER?a.sliders.push(a.draftSlider.set("id",b("uuid")())):a.sliders.set(a.sliders.findIndex(function(b){return b.id===a.draftSlider.id}),a.draftSlider);c=c.sortBy(function(a){return b("VideoComposerPollsUtils").timeStringToSeconds(a.startTime)});return this.$VideoComposerPollsStoreClass22(a).set("sliders",c)};d.$VideoComposerPollsStoreClass16=function(a,b){return this.$VideoComposerPollsStoreClass3(a)?this.$VideoComposerPollsStoreClass23(a,b):this.$VideoComposerPollsStoreClass24(a,b)};d.$VideoComposerPollsStoreClass17=function(a){var b=a.sliders.findIndex(function(b){return b.id===a.deleteAttemptSliderID});return a.set("sliders",a.sliders["delete"](b)).set("deleteAttemptSliderID",null)};d.$VideoComposerPollsStoreClass5=function(a){return a.set("deleteAttemptPollID",null).set("deleteAttemptSliderID",null)};d.$VideoComposerPollsStoreClass4=function(a,b){a=this.$VideoComposerPollsStoreClass22(a);a=a.set("showCancelConfirmDialog",!1);a=a.set("showCloseEditorConfirmDialog",!1);b&&(a=this.$VideoComposerPollsStoreClass25(a));return a};d.$VideoComposerPollsStoreClass7=function(a,b){return a.set("showEditAttemptDialog",!0).set("editAttemptPollID",b)};d.$VideoComposerPollsStoreClass23=function(a,b){return a.set("showEditAttemptDialog",!0).set("editAttemptSliderID",b)};d.$VideoComposerPollsStoreClass10=function(a){return a.set("showEditAttemptDialog",!1).set("editAttemptPollID","").set("editAttemptSliderID","")};d.$VideoComposerPollsStoreClass11=function(a){a=this.$VideoComposerPollsStoreClass26(a);return this.$VideoComposerPollsStoreClass9(a)};d.$VideoComposerPollsStoreClass26=function(a){switch(a.editorState){case h.ADDING_NEW_POLL:case h.EDITING_POLL:return this.$VideoComposerPollsStoreClass18(a);case h.ADDING_NEW_SLIDER:case h.EDITING_SLIDER:return this.$VideoComposerPollsStoreClass19(a)}return a};d.$VideoComposerPollsStoreClass9=function(a){a=a.editAttemptSliderID.length>0?this.$VideoComposerPollsStoreClass24(a,a.editAttemptSliderID):this.$VideoComposerPollsStoreClass8(a,a.editAttemptPollID);return this.$VideoComposerPollsStoreClass10(a)};d.$VideoComposerPollsStoreClass8=function(a,b){var c=a.polls.find(function(a){return a.id===b});return a.set("showEditor",!0).set("editorState",h.EDITING_POLL).set("draftPoll",c)};d.$VideoComposerPollsStoreClass24=function(a,b){var c=a.sliders.find(function(a){return a.id===b});return!c?a:a.set("showEditor",!0).set("editorState",h.EDITING_SLIDER).set("draftSlider",c)};d.$VideoComposerPollsStoreClass22=function(a){return a.set("editorState",h.LIST_VIEW)};d.$VideoComposerPollsStoreClass25=function(a){return a.set("showEditor",!1).set("editorState",h.CLOSED)};d.$VideoComposerPollsStoreClass2=function(a,c){var d=i();d=d.set("options",d.options.push(j()).push(j())).set("isAdBreakPoll",c).set("pollType",c?b("VideoPollType").AD_BREAK_POLL:b("VideoPollType").SCHEDULED);c&&(d=d.set("canChangePollType",!1));c=this.$VideoComposerPollsStoreClass27(a);c&&(d=d.set("startTime",this.$VideoComposerPollsStoreClass28(c.interactionStartTime,c.videoDuration)),d=d.set("endTime",this.$VideoComposerPollsStoreClass28(c.interactionEndTime,c.videoDuration)));d=d.set("showResults",!0);d=d.set("displayResultsTimestamp",b("VideoComposerPollsConstants").AFTER_VOTE_TIMESTAMP);return d};d.$VideoComposerPollsStoreClass20=function(a){var b=k();a=this.$VideoComposerPollsStoreClass27(a);a&&(b=b.set("startTime",this.$VideoComposerPollsStoreClass28(a.interactionStartTime,a.videoDuration)),b=b.set("endTime",this.$VideoComposerPollsStoreClass28(a.interactionEndTime,a.videoDuration)));return b};d.$VideoComposerPollsStoreClass27=function(a){var c=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getVideoPreviewTimeData();c=c.videoDuration;if(!c||c<b("VideoComposerPollsConstants").MIN_POLL_DURATION||this.getNonAdBreakPolls(a.polls).size>0||a.sliders.size>0)return null;a=0;var d=c>=b("VideoComposerPollsConstants").INITIAL_POLL_DEFAULT_DURATION?b("VideoComposerPollsConstants").INITIAL_POLL_DEFAULT_DURATION:b("VideoComposerPollsConstants").MIN_POLL_DURATION;return{videoDuration:c,interactionStartTime:a,interactionEndTime:a+d}};d.$VideoComposerPollsStoreClass28=function(a,c){a=b("VideoComposerPollsUtils").secondsToTimeString(a);return c>=l&&a.split(":").length===2?"00:"+a:a};d.getPostRequestDataToSend=function(){var a=this,c=this.getState().polls.toArray().map(this.mapPollRecordToNewPollRequestData),d={};this.getState().polls.forEach(function(b,c){b=a.constructPollImageDataMap(b,c);d=Object.assign(d,b)});c=b("flattenPHPQueryData")({polls:c});c.pollImages=d;return b("Promise").resolve(c)};d.getEditRequestDataToSend=function(){__p&&__p();var a=this,c=this.getState(),d=c.persistedPolls.filter(function(a){return c.polls.findIndex(function(b){return b.id===a.id})===-1}).map(function(a){return a.id}),e=[],f=[],g={};c.polls.forEach(function(b,c){if(b.isPersisted)e.push(a.mapPollRecordToEditPollRequestData(b));else{f.push(a.mapPollRecordToNewPollRequestData(b,c));b=a.constructPollImageDataMap(b,c);g=Object.assign(g,b)}});d=b("flattenPHPQueryData")({deleted_poll_ids:d,updated_polls:e,new_polls:f,enable_was_live_voting:c.enableWasLiveVoting});Object.assign(d,g);return b("Promise").resolve(d)};d.constructImageFileKey=function(a,b){return"poll_"+a+"_"+b};d.constructPollImageDataMap=function(a,b){var c={};a.options.forEach(function(a,d){if(a.imageFile){d=this.constructImageFileKey(b,d);c[d]=a.imageFile}},this);return c};d.mapPollRecordToEditPollRequestData=function(a){return{id:a.id,display_results_after_voting:a.showResults,display_results_timestamp:a.displayResultsTimestamp,voting_closed_timestamp:a.votingClosedTimestamp,start_time:this.$VideoComposerPollsStoreClass29(a.startTime),end_time:this.$VideoComposerPollsStoreClass29(a.endTime),is_ad_break_poll:a.isAdBreakPoll,poll_type:a.pollType}};d.isSufficientTimeSpanForPoll=function(a,c){return!c?!0:this.findMaxiumTimeSpanAvailableForPoll(a,c)>=b("VideoComposerPollsConstants").MIN_POLL_DURATION};d.numAdBreakPolls=function(a){return this.getAdBreakPolls(a).size};d.getNonAdBreakPolls=function(a){return a.filter(function(a){return a.pollType!==b("VideoPollType").AD_BREAK_POLL})};d.getAdBreakPolls=function(a){return a.filter(function(a){return a.pollType===b("VideoPollType").AD_BREAK_POLL})};d.findMaxiumTimeSpanAvailableForPoll=function(a,c){__p&&__p();var d=this;if(a.size==0)return c||0;var e=b("immutable").List();a.forEach(function(a){var b={timeStampType:m,timestamp:d.$VideoComposerPollsStoreClass29(a.get("startTime"))||0};a={timeStampType:n,timestamp:d.$VideoComposerPollsStoreClass29(a.get("endTime"))||0};e=e.push(b);e=e.push(a)});a=e.sortBy(function(a){return a.timestamp});c=Math.max(a.first().timestamp-0,c-a.last().timestamp);var f=1;while(2*f<a.size)c=Math.max(c,a.get(2*f).timestamp-a.get(2*f-1).timestamp),f++;return c};d.hasValidationErrors=function(a){__p&&__p();var c=this.getState();switch(c.editorState){case h.ADDING_NEW_POLL:case h.EDITING_POLL:if(b("VideoComposerPollsUtils").arePollQuestionAndOptionsInvalid(c.draftPoll))return!0;break;case h.ADDING_NEW_SLIDER:case h.EDITING_SLIDER:if(!c.draftSlider.questionText.trim())return!0;break}var d=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getVideoPreviewTimeData();d=d.videoDuration;a=b("VideoComposerPollsUtils").validateDraftInteractionTimeWindow(this.$VideoComposerPollsStoreClass30(c),a,c.sliders,d);c=a.commonError;d=a.startTimeError;a=a.endTimeError;return!!d||!!a||!!c};d.$VideoComposerPollsStoreClass30=function(a){return a.editorState===h.ADDING_NEW_SLIDER||a.editorState===h.EDITING_SLIDER?a.draftSlider:a.draftPoll};d.$VideoComposerPollsStoreClass29=function(a){return a===""?null:b("VideoComposerPollsUtils").timeStringToSeconds(a)};return c}(b("VideoComposerStoreBase"));e.exports=c}),null);
__d("VideoComposerQuestionsTypes",["ImmutableRecordWithV4Types"],(function(a,b,c,d,e,f){"use strict";a=b("ImmutableRecordWithV4Types").Record;c=a({id:"",isPersisted:!1,questionText:"",startTime:"",endTime:""});e.exports={TextQuestionDataRecordFactory:c}}),null);
__d("VideoComposerQuestionsStoreClass",["Promise","ImmutableRecordWithV4Types","VideoComposerActionTypes","VideoComposerPollsUtils","VideoComposerQuestionsConstants","VideoComposerQuestionsTypes","VideoComposerStoreBase","VideoComposerStores","flattenPHPQueryData","immutable","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ImmutableRecordWithV4Types").Record;var g=b("VideoComposerQuestionsTypes").TextQuestionDataRecordFactory,h=3600,i=a({videoComposerID:"",draftQuestion:g(),isAddingNewQuestion:!1,isEditingQuestion:!1,questions:b("immutable").List(),showEditor:!1,showCancelConfirmDialog:!1,showCloseEditorConfirmDialog:!1});c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.mapQuestionRecordToNewQuestionRequestData=function(a,c){return{question_text:a.questionText,start_time:b("VideoComposerPollsUtils").timeStringToSeconds(a.startTime),end_time:b("VideoComposerPollsUtils").timeStringToSeconds(a.endTime)}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getInitialState=function(){return i()};d.reduceImpl=function(a,c){__p&&__p();switch(c.type){case b("VideoComposerActionTypes").QUESTIONS_ADD_NEW:var d=this.$VideoComposerQuestionsStoreClass1(a);return a.set("showEditor",!0).set("isAddingNewQuestion",!0).set("isEditingQuestion",!1).set("draftQuestion",d);case b("VideoComposerActionTypes").QUESTIONS_CLOSE_EDITOR_ATTEMPT:if(this.$VideoComposerQuestionsStoreClass2(a))return a.set("showCloseEditorConfirmDialog",!0);else return this.$VideoComposerQuestionsStoreClass3(a,!0);case b("VideoComposerActionTypes").QUESTIONS_CANCEL_CHANGES_ATTEMPT:if(this.$VideoComposerQuestionsStoreClass2(a))return a.set("showCancelConfirmDialog",!0);else return this.$VideoComposerQuestionsStoreClass3(a,a.questions.size===0);case b("VideoComposerActionTypes").QUESTIONS_DRAFT_UPDATE_END_TIME:return a.set("draftQuestion",a.draftQuestion.set("endTime",c.time));case b("VideoComposerActionTypes").QUESTIONS_DRAFT_UPDATE_QUESTION:return a.set("draftQuestion",a.draftQuestion.set("questionText",c.text));case b("VideoComposerActionTypes").QUESTIONS_DRAFT_UPDATE_START_TIME:return a.set("draftQuestion",a.draftQuestion.set("startTime",c.time));case b("VideoComposerActionTypes").QUESTIONS_EDIT_ATTEMPT:return a;case b("VideoComposerActionTypes").QUESTIONS_SAVE:return this.$VideoComposerQuestionsStoreClass4(a);case b("VideoComposerActionTypes").QUESTIONS_DELETE_ATTEMPT:var e=c.questionID;d=a.questions.findIndex(function(a){return a.id===e});return a.set("questions",a.questions["delete"](d));case b("VideoComposerActionTypes").QUESTIONS_CANCEL_CHANGES_ABANDON:return a.set("showCancelConfirmDialog",!1);case b("VideoComposerActionTypes").QUESTIONS_CANCEL_CHANGES_CONFIRM:return this.$VideoComposerQuestionsStoreClass3(a,!1);case b("VideoComposerActionTypes").QUESTIONS_CLOSE_EDITOR_ABANDON:return a.set("showCloseEditorConfirmDialog",!1);case b("VideoComposerActionTypes").QUESTIONS_CLOSE_EDITOR_CONFIRM:return this.$VideoComposerQuestionsStoreClass3(a,!0);default:return a}};d.$VideoComposerQuestionsStoreClass4=function(a){var c=a.draftQuestion;c=c.set("questionText",c.questionText.trim());var d=a.isAddingNewQuestion?a.questions.push(a.draftQuestion.set("id",b("uuid")())):a.questions.set(a.questions.findIndex(function(b){return b.id===a.draftQuestion.id}),a.draftQuestion);d=d.sortBy(function(a){return b("VideoComposerPollsUtils").timeStringToSeconds(a.startTime)});return this.$VideoComposerQuestionsStoreClass5(a.set("draftQuestion",c)).set("questions",d)};d.$VideoComposerQuestionsStoreClass2=function(a){if(a.isEditingQuestion){var c=a.questions.find(function(b){return b.id===a.draftQuestion.id});return!b("immutable").is(c,a.draftQuestion)}return a.isAddingNewQuestion?!!a.draftQuestion.questionText.trim():!1};d.$VideoComposerQuestionsStoreClass3=function(a,b){if(b)return this.$VideoComposerQuestionsStoreClass6(this.$VideoComposerQuestionsStoreClass5(a).set("showCancelConfirmDialog",!1).set("showCloseEditorConfirmDialog",!1));else return this.$VideoComposerQuestionsStoreClass5(a).set("showCancelConfirmDialog",!1).set("showCloseEditorConfirmDialog",!1)};d.$VideoComposerQuestionsStoreClass5=function(a){return a.set("isAddingNewQuestion",!1).set("isEditingQuestion",!1)};d.$VideoComposerQuestionsStoreClass6=function(a){return a.set("showEditor",!1)};d.$VideoComposerQuestionsStoreClass1=function(a){__p&&__p();var c=g(),d=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState();d=d.videoDuration;if(d!=null){var e=d;e=d>=b("VideoComposerQuestionsConstants").INITIAL_QUESTION_DEFAULT_DURATION?b("VideoComposerQuestionsConstants").INITIAL_QUESTION_DEFAULT_DURATION:b("VideoComposerQuestionsConstants").MIN_QUESTION_DURATION;d=b("VideoComposerStores").getTrimmingEditorStore(a.videoComposerID).getState();a=d.endTime;d=d.startTime;a=a!=null?a:e;d=d||0;e=a-d;a=Math.ceil(e);c=c.set("startTime",a>=h?"00:00:00":"00:00");c=c.set("endTime",b("VideoComposerPollsUtils").secondsToTimeString(a))}return c};d.getPostRequestDataToSend=function(){var a=this.getState().questions.toArray().map(this.mapQuestionRecordToNewQuestionRequestData);a=b("flattenPHPQueryData")({questions:a});return b("Promise").resolve(a)};return c}(b("VideoComposerStoreBase"));e.exports=c}),null);
__d("SoundCollectionConstants",["MediaManagerAudioAssetTypeEnum"],(function(a,b,c,d,e,f){"use strict";a=["trackTab","effectTab"];d=(c={},c[b("MediaManagerAudioAssetTypeEnum").SOUND_TRACKS]={"0-30s":[0,3e4],"30s-1min":[3e4,6e4],"1min-2min":[6e4,12e4],"2min+":[12e4,Number.MAX_SAFE_INTEGER]},c[b("MediaManagerAudioAssetTypeEnum").SOUND_EFFECTS]={"< 2s":[0,2e3],"2-10s":[2e3,1e4],"10-30s":[1e4,3e4],"30s <":[3e4,Number.MAX_SAFE_INTEGER]},c);e.exports={TAB_KEYS:a,TAB_TIME_DICT:d}}),null);
__d("SoundCollectionTabState",["MediaManagerAudioAssetTypeEnum","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={loading:!1,results:[],totalResultsCount:0,lengthOptions:[],lengthSelected:null,searchString:"",nextPagePromise:null,errorInTab:!1,currentPromise:null,type:b("MediaManagerAudioAssetTypeEnum").SOUND_TRACKS};var g=(c={},c[b("MediaManagerAudioAssetTypeEnum").SOUND_TRACKS]={type:b("MediaManagerAudioAssetTypeEnum").SOUND_TRACKS,lengthOptions:["0-30s","30s-1min","1min-2min","2min+"]},c[b("MediaManagerAudioAssetTypeEnum").SOUND_EFFECTS]={type:b("MediaManagerAudioAssetTypeEnum").SOUND_EFFECTS,lengthOptions:["< 2s","2-10s","10-30s","30s <"]},c);d=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b?b=a.call(this,g[b])||this:b=a.call(this)||this;return babelHelpers.assertThisInitialized(b)}return b}(b("immutable").Record(a));e.exports=d}),null);
__d("VideoComposerSoundEditorSoundCollectionStoreClass",["invariant","DateConsts","ImmutableRecordWithV4Types","MediaManagerAudioAssetTypeEnum","MediaManagerLoadingPromiseTypes","MediaManagerUtils","SoundCollectionConstants","SoundCollectionTabState","SoundCollectionTabStateToStoreKey","VideoComposerActionTypes","VideoComposerSoundEditorActions","VideoComposerSoundEditorUtils","VideoComposerStoreBase","VideoComposerStores","immutable","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("ImmutableRecordWithV4Types").Record;var h=b("SoundCollectionConstants").TAB_KEYS,i=["categorySelected","genreSelected","moodSelected","vocalSelected"],j=a({videoComposerID:"",audioPlayer:null,categorySelected:null,effectTab:new(b("SoundCollectionTabState"))(b("MediaManagerAudioAssetTypeEnum").SOUND_EFFECTS),genreSelected:null,isPlaying:!1,moodSelected:null,playTrack:null,selectedTab:b("MediaManagerAudioAssetTypeEnum").SOUND_TRACKS,selectedTracks:b("immutable").OrderedMap(),trackTab:new(b("SoundCollectionTabState"))(b("MediaManagerAudioAssetTypeEnum").SOUND_TRACKS),vocalSelected:null});c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$VideoComposerSoundEditorSoundCollectionStoreClass5=function(a,c,e){var f=[];e.data.forEach(function(a){a.title&&f.push({artistName:a.display_artist,downloadLink:a.download_hd_url,id:a.id,lengthInSec:Math.round(a.duration_in_ms/b("DateConsts").MS_PER_SEC),mediaTags:a.media_tags?a.media_tags.data:[],title:a.title,type:c})});e.next&&b("VideoComposerSoundEditorActions").setSoundCollectionNextPagePromise(d.getState().videoComposerID,e.next(),c);b("VideoComposerSoundEditorActions").setSoundCollectionSearchResults(d.getState().videoComposerID,a.concat(f),c,e.summary.total_count)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getInitialState=function(){return j()};d.reduceImpl=function(a,c){__p&&__p();var d=c.soundCollectionTab||c.resultType||a.selectedTab;d==="sound_tracks"||d==="sound_effects"||g(0,3191);var e=b("SoundCollectionTabStateToStoreKey")[d],f=a.get(e);switch(c.type){case b("VideoComposerActionTypes").OPEN_SOUND_EDITOR:a=this.$VideoComposerSoundEditorSoundCollectionStoreClass1(a);return a;case b("VideoComposerActionTypes").CONFIRM_CLOSE_SOUND_EDITOR:case b("VideoComposerActionTypes").SOUND_EDITOR_SAVE_DRAFT:a=this.$VideoComposerSoundEditorSoundCollectionStoreClass2(a);return this.$VideoComposerSoundEditorSoundCollectionStoreClass3(a);case b("VideoComposerActionTypes").RESET_COMPOSER:a=this.getInitialState();return a;case b("VideoComposerActionTypes").SOUND_EDITOR_SET_SOUND_COLLECTION_AUDIO_PLAYER:a=a.set("audioPlayer",c.audioPlayer);return a;case b("VideoComposerActionTypes").SOUND_EDITOR_SET_SOUND_COLLECTION_FILTER_SELECTION:if(i.indexOf(c.tagtype)!==-1){var j=c.tagtype;a=a.set(j,c.value)}else f=f.set(c.tagtype,c.value),a=a.set(e,f);return this.$VideoComposerSoundEditorSoundCollectionStoreClass4(a,e);case b("VideoComposerActionTypes").SOUND_EDITOR_SET_SOUND_COLLECTION_IS_PLAYING:a=a.set("isPlaying",c.isPlaying);j=a.get("audioPlayer");j&&j.setPlayPauseTo(c.isPlaying);return a;case b("VideoComposerActionTypes").SOUND_EDITOR_SET_SOUND_COLLECTION_NEXT_PAGE_PROMISE:if(!e)return a;f=f.set("nextPagePromise",c.promise);return a.set(e,f);case b("VideoComposerActionTypes").SOUND_EDITOR_SET_SOUND_COLLECTION_PLAY_TRACK:a=a.set("playTrack",c.track?c.track:null).set("isPlaying",!0);return a;case b("VideoComposerActionTypes").SOUND_EDITOR_SET_SOUND_COLLECTION_SEARCH_RESULTS:if(!e)return a;f=f.set("results",c.results).set("totalResultsCount",c.totalResultsCount);return a.set(e,f);case b("VideoComposerActionTypes").SOUND_EDITOR_SET_SOUND_COLLECTION_TAB:return a.set("selectedTab",c.soundCollectionTab);case b("VideoComposerActionTypes").SOUND_EDITOR_SET_SOUND_COLLECTION_TAB_LOADING_DONE:f=f.set("loading",!1);return a.set(e,f);case b("VideoComposerActionTypes").SOUND_EDITOR_SET_SOUND_COLLECTION_TAB_LOADING_ERROR:f=f.set("errorInTab",!0).set("loading",!1);return a.set(e,f);case b("VideoComposerActionTypes").SOUND_EDITOR_SOUND_COLLECTION_INIT:j=b("MediaManagerUtils").getNewPromiseID();var k=[];for(var l=h,m=Array.isArray(l),n=0,l=m?l:l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=l.length)break;o=l[n++]}else{n=l.next();if(n.done)break;o=n.value}o=o;var p=a.get(o),q=b("VideoComposerSoundEditorUtils").getSoundCollectionTabQueryPromise(b("VideoComposerStores").getMetadataStore(a.videoComposerID).getAccessToken(),this.$VideoComposerSoundEditorSoundCollectionStoreClass5,j,this.$VideoComposerSoundEditorSoundCollectionStoreClass6(a),p);p=a.get(o).set("loading",!0).set("currentPromise",q).set("errorInTab",!1);a=a.set(o,p);k.push({currentPromise:q,tabKey:o})}this.$VideoComposerSoundEditorSoundCollectionStoreClass7(k,j);return a;case b("VideoComposerActionTypes").SOUND_EDITOR_SOUND_COLLECTION_LOAD_NEXT_PAGE:return this.$VideoComposerSoundEditorSoundCollectionStoreClass8(a,f,e,d);case b("VideoComposerActionTypes").SOUND_EDITOR_SOUND_COLLECTION_LOAD_TABS_DONE:for(var p=h,q=Array.isArray(p),o=0,p=q?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(q){if(o>=p.length)break;n=p[o++]}else{o=p.next();if(o.done)break;n=o.value}m=n;f=a.get(m).set("loading",!1);a=a.set(m,f)}return a;case b("VideoComposerActionTypes").SOUND_EDITOR_SOUND_COLLECTION_LOAD_TABS_ERROR:return a;case b("VideoComposerActionTypes").SOUND_EDITOR_SOUND_COLLECTION_SELECT_TRACK:return this.$VideoComposerSoundEditorSoundCollectionStoreClass9(a,c);case b("VideoComposerActionTypes").SOUND_EDITOR_SOUND_COLLECTION_UNSELECT_TRACK:return this.$VideoComposerSoundEditorSoundCollectionStoreClass10(a,c);case b("VideoComposerActionTypes").SOUND_EDITOR_ADD_NESTING_TRACK_ITEM:l=c.trackId;k=c.trackData;return this.$VideoComposerSoundEditorSoundCollectionStoreClass11(a,l,k);case b("VideoComposerActionTypes").SOUND_EDITOR_DELETE_ADDED_TRACK:return this.$VideoComposerSoundEditorSoundCollectionStoreClass12(a,c);case b("VideoComposerActionTypes").SOUND_EDITOR_SUBMIT_EFFECTS_SEARCHSTRING:a=this.$VideoComposerSoundEditorSoundCollectionStoreClass13(a,"effectTab",c.value);return this.$VideoComposerSoundEditorSoundCollectionStoreClass4(a,"effectTab");case b("VideoComposerActionTypes").SOUND_EDITOR_SUBMIT_TRACKS_SEARCHSTRING:a=this.$VideoComposerSoundEditorSoundCollectionStoreClass13(a,"trackTab",c.value);return this.$VideoComposerSoundEditorSoundCollectionStoreClass4(a,"trackTab");case b("VideoComposerActionTypes").SOUND_EDITOR_UPDATE_SELECTED_TRACK_NESTING_ITEM_ORDER:return this.$VideoComposerSoundEditorSoundCollectionStoreClass14(a,c.trackId);default:return a}};d.$VideoComposerSoundEditorSoundCollectionStoreClass2=function(a){__p&&__p();for(var b=h,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e=a.get(e).get("currentPromise");e&&e.isOngoing()&&e.cancel()}return a};d.$VideoComposerSoundEditorSoundCollectionStoreClass3=function(a){var b=a;b=b.selectedTracks;b=b.map(function(a){a.nestingItems=a.nestingItems.clear();return a});a=this.getInitialState();return a.set("selectedTracks",b)};d.$VideoComposerSoundEditorSoundCollectionStoreClass1=function(a){__p&&__p();var c=b("VideoComposerStores").getSoundEditorStore(a.videoComposerID).getState();c=c.addedTracks;var d=a.selectedTracks;c.forEach(function(a){if(d.has(a.sourceId)){var b=d.get(a.sourceId);b.nestingItems=b.nestingItems.set(a.id,a)}});d=d.map(function(a){a.nestingItems.sort(function(a,c){return b("VideoComposerSoundEditorUtils").compareSelectedTracks(a,c)});return babelHelpers["extends"]({},a)});return a.set("selectedTracks",d)};d.$VideoComposerSoundEditorSoundCollectionStoreClass6=function(a){return{category:a.categorySelected,genre:a.genreSelected,mood:a.moodSelected,vocal:a.vocalSelected}};d.$VideoComposerSoundEditorSoundCollectionStoreClass8=function(a,c,d,e){if(!d)return a;var f=c.get("nextPagePromise");f&&(c=c.set("nextPagePromise",null).set("loading",!0),f.then(this.$VideoComposerSoundEditorSoundCollectionStoreClass5.bind(this,c.get("results"),e)).done(function(){b("VideoComposerSoundEditorActions").setSoundCollectionTabLoadingDone(a.videoComposerID,e)},function(){b("VideoComposerSoundEditorActions").setSoundCollectionTabLoadingError(a.videoComposerID,e)}));return a.set(d,c)};d.$VideoComposerSoundEditorSoundCollectionStoreClass15=function(a,c){var d=this,e=a,f=e.type,g=b("SoundCollectionTabStateToStoreKey")[f];a=a.set("results",[]).set("totalResultsCount",0).set("nextPagePromise",null).set("loading",!0);b("promiseDone")(c.promise,function(){c.id===d.getState().get(g).get("currentPromise").id?b("VideoComposerSoundEditorActions").setSoundCollectionTabLoadingDone(d.getState().videoComposerID,f):c.cancel()},function(a){a.isCanceled||b("VideoComposerSoundEditorActions").setSoundCollectionTabLoadingError(d.getState().videoComposerID,f)});return a};d.$VideoComposerSoundEditorSoundCollectionStoreClass7=function(a,c){__p&&__p();var d=this,e=b("MediaManagerUtils").combineCancelablePromises(c,[].concat(a.map(function(a){return a.currentPromise})),b("MediaManagerLoadingPromiseTypes").SOUND_COLLECTION_TAB,[]);b("promiseDone")(e.promise,function(){__p&&__p();var c=!0;for(var f=a,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;if(i.currentPromise.id!==d.getState().get(i.tabKey).get("currentPromise").id){c=!1;break}}c?b("VideoComposerSoundEditorActions").loadSoundCollectionTabsDone(d.getState().videoComposerID):e.cancel()},function(a){a.isCanceled||b("VideoComposerSoundEditorActions").loadSoundCollectionTabsError(d.getState().videoComposerID,a)})};d.$VideoComposerSoundEditorSoundCollectionStoreClass11=function(a,c,d){__p&&__p();var e=a.get("selectedTracks");if(e.has(c)){var f=e.get(c);d=f.nestingItems.set(d.id,d).sort(function(a,c){return b("VideoComposerSoundEditorUtils").compareSelectedTracks(a,c)});f={orderNumber:f.orderNumber,trackResult:f.trackResult,nestingItems:d};e=e.set(c,f);a=a.set("selectedTracks",e)}return a};d.$VideoComposerSoundEditorSoundCollectionStoreClass12=function(a,b){__p&&__p();var c=b.trackResultId;b=b.addedTrackId;var d=a.get("selectedTracks");if(d.has(c)){var e=d.get(c);b=e.nestingItems["delete"](b);e={orderNumber:e.orderNumber,trackResult:e.trackResult,nestingItems:b};d=d.set(c,e);a=a.set("selectedTracks",d)}return a};d.$VideoComposerSoundEditorSoundCollectionStoreClass9=function(a,c){var d=a.get("selectedTracks"),e={orderNumber:d.size+1,trackResult:c.track,nestingItems:b("immutable").OrderedMap()};d=d.set(c.track.id,e);return a.set("selectedTracks",d)};d.$VideoComposerSoundEditorSoundCollectionStoreClass10=function(a,b){var c=a.get("selectedTracks"),d=c.get(b.trackId);c=c["delete"](b.trackId);c=c.map(function(a){a.orderNumber>d.orderNumber&&(a.orderNumber-=1);return a});return a.set("selectedTracks",c)};d.$VideoComposerSoundEditorSoundCollectionStoreClass13=function(a,b,c){return c===void 0?a:a.set(b,a.get(b).set("searchString",c))};d.$VideoComposerSoundEditorSoundCollectionStoreClass14=function(a,c){var d=a.get("selectedTracks");if(d.has(c)){var e=d.get(c),f=e.nestingItems.sort(function(a,c){return b("VideoComposerSoundEditorUtils").compareSelectedTracks(a,c)});e={orderNumber:e.orderNumber,trackResult:e.trackResult,nestingItems:f};d=d.set(c,e);a=a.set("selectedTracks",d)}return a};d.$VideoComposerSoundEditorSoundCollectionStoreClass4=function(a,c){var d=a.get(c),e=d.get("currentPromise");e&&e.isOngoing()&&e.cancel();var f=b("MediaManagerUtils").getNewPromiseID();e=b("VideoComposerSoundEditorUtils").getSoundCollectionTabQueryPromise(b("VideoComposerStores").getMetadataStore(a.videoComposerID).getAccessToken(),this.$VideoComposerSoundEditorSoundCollectionStoreClass5,f,this.$VideoComposerSoundEditorSoundCollectionStoreClass6(a),a.get(c));d=this.$VideoComposerSoundEditorSoundCollectionStoreClass15(d,e);return a.set(c,d.set("currentPromise",e))};d.getSelectedTrackDataById=function(a){var b=this.getState();b=b.selectedTracks;return b.has(a)?b.get(a):null};return c}(b("VideoComposerStoreBase"));e.exports=c}),null);
__d("VideoComposerSoundEditorStoreClass",["DateConsts","ImmutableRecordWithV4Types","MediaManagerAudioAssetTypeEnum","SubscriptionsHandler","VideoComposerActionTypes","VideoComposerDragAndDropScrubberConstants","VideoComposerDragAndDropScrubberTypes","VideoComposerSoundEditorActions","VideoComposerStoreBase","VideoComposerStores","immutable","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ImmutableRecordWithV4Types").Record;var g=b("VideoComposerDragAndDropScrubberTypes").VideoComposerDragAndDropScrubberActionTypes,h=b("VideoComposerDragAndDropScrubberTypes").VideoComposerDragAndDropScrubberItemSourceNumberShapeTypes,i=b("VideoComposerDragAndDropScrubberTypes").VideoComposerDragAndDropScrubberItemSourceTypes,j={downloadLink:"",id:"0",lengthInSec:0,mediaTags:[],title:"",type:b("MediaManagerAudioAssetTypeEnum").SOUND_TRACKS},k=a({videoComposerID:"",addedTracks:b("immutable").List(),audioPlayer:null,draftAddedTracks:b("immutable").List(),editingTrackData:null,hasChanged:!1,isPlaying:!1,playTrack:j,scrubber:null,showCancelConfirmDialog:!1,showEditor:!1,showTrackSelector:!0,showVideoVolumeEditor:!1,videoPlayerController:null,videoVolume:null}),l=1;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return k()};d.reduceImpl=function(a,c){__p&&__p();switch(c.type){case b("VideoComposerActionTypes").FINISH_TRACK_SELECTION:return a.set("showTrackSelector",!1);case b("VideoComposerActionTypes").OPEN_SOUND_EDITOR:a=this.$VideoComposerSoundEditorStoreClass2(a);return a.set("showEditor",!0);case b("VideoComposerActionTypes").OPEN_TRACK_SELECTOR:return a.set("editingTrackData",null).set("showTrackSelector",!0);case b("VideoComposerActionTypes").ATTEMPT_CLOSE_SOUND_EDITOR:return a.set("showCancelConfirmDialog",!0);case b("VideoComposerActionTypes").CANCEL_CLOSE_SOUND_EDITOR:return a.set("showCancelConfirmDialog",!1);case b("VideoComposerActionTypes").CONFIRM_CLOSE_SOUND_EDITOR:return this.$VideoComposerSoundEditorStoreClass3(a);case b("VideoComposerActionTypes").RESET_COMPOSER:a=this.getInitialState();return a;case b("VideoComposerActionTypes").SOUND_EDITOR_SET_VIDEO_PLAYER_VOLUME:var d=a;d=d.videoPlayerController;d&&d.setVolume(c.volume);return a;case b("VideoComposerActionTypes").SOUND_EDITOR_SET_VIDEO_VOLUME:return a.set("videoVolume",c.volume);case b("VideoComposerActionTypes").SOUND_EDITOR_SHOW_VIDEO_VOLUME_EDITOR:return a.set("showVideoVolumeEditor",c.show);case b("VideoComposerActionTypes").SOUND_EDITOR_EDIT_ADDED_TRACK:return this.$VideoComposerSoundEditorStoreClass4(a,c);case b("VideoComposerActionTypes").SOUND_EDITOR_DELETE_ADDED_TRACK:d=c.index;var e=c.trackResultId,f=c.addedTrackId;return this.$VideoComposerSoundEditorStoreClass5(a,d,e,f);case b("VideoComposerActionTypes").SOUND_EDITOR_REGISTER_SCRUBBER:return a.set("scrubber",c.scrubber);case b("VideoComposerActionTypes").SOUND_EDITOR_UPDATE_ADDED_TRACK:a=this.$VideoComposerSoundEditorStoreClass6(a,c);return a;case b("VideoComposerActionTypes").SOUND_EDITOR_UPDATE_ADDED_TRACK_VOLUME:return this.$VideoComposerSoundEditorStoreClass6(a,c);case b("VideoComposerActionTypes").SOUND_EDITOR_UPDATE_VIDEO_PLAYER_CONTROLLER:return this.$VideoComposerSoundEditorStoreClass7(a,c.vpc);case b("VideoComposerActionTypes").SOUND_EDITOR_SAVE_DRAFT:a=this.$VideoComposerSoundEditorStoreClass8(a);a=this.$VideoComposerSoundEditorStoreClass3(a);return a.set("showTrackSelector",!1);case b("VideoComposerActionTypes").SOUND_EDITOR_SCRUBBER_ADD_TRACK:return this.$VideoComposerSoundEditorStoreClass9(a,c);case b("VideoComposerActionTypes").SOUND_EDITOR_SET_SCRUBBER_FOCUS_POSITION:d=a;e=d.scrubber;e&&e.scrollToTimePosition(c.positionInMs);return a;case b("VideoComposerActionTypes").SOUND_EDITOR_SET_SOUND_COLLECTION_AUDIO_PLAYER:a=a.set("audioPlayer",c.audioPlayer);return a;case b("VideoComposerActionTypes").SOUND_EDITOR_SET_SOUND_COLLECTION_IS_PLAYING:a=a.set("isPlaying",c.isPlaying);f=a.get("audioPlayer");f&&f.setPlayPauseTo(c.isPlaying);return a;case b("VideoComposerActionTypes").SOUND_EDITOR_SET_SOUND_COLLECTION_PLAY_TRACK:a=a.set("playTrack",c.track?c.track:j).set("isPlaying",!0);return a;default:return a}};d.hasUnsavedDraftChanges=function(){return this.getState().hasChanged};d.$VideoComposerSoundEditorStoreClass7=function(a,c){this.$VideoComposerSoundEditorStoreClass1&&this.$VideoComposerSoundEditorStoreClass1.release();c&&(this.$VideoComposerSoundEditorStoreClass1=new(b("SubscriptionsHandler"))(),this.$VideoComposerSoundEditorStoreClass1.addSubscriptions(c.addListener("changeVolume",function(c){b("VideoComposerSoundEditorActions").setVideoVolume(a.videoComposerID,c.volume)}),c.addListener("muteVideo",function(c){b("VideoComposerSoundEditorActions").setVideoVolume(a.videoComposerID,0)}),c.addListener("unmuteVideo",function(d){b("VideoComposerSoundEditorActions").setVideoVolume(a.videoComposerID,c?c.getVolume():null)})),a=a.set("videoVolume",c.getVolume()));return a.set("videoPlayerController",c)};d.$VideoComposerSoundEditorStoreClass3=function(a){this.$VideoComposerSoundEditorStoreClass1&&this.$VideoComposerSoundEditorStoreClass1.release();var b=a,c=b.addedTracks;b=b.videoVolume;a=this.getInitialState();return a.set("addedTracks",c).set("videoVolume",b)};d.$VideoComposerSoundEditorStoreClass2=function(a){var b=a.addedTracks;b=b.map(function(a){return babelHelpers["extends"]({},a)});return a.set("draftAddedTracks",b)};d.$VideoComposerSoundEditorStoreClass8=function(a){var c=a.draftAddedTracks;return a.set("addedTracks",b("immutable").List(c))};d.$VideoComposerSoundEditorStoreClass4=function(a,b){return a.set("editingTrackData",b.addedTrackData)};d.$VideoComposerSoundEditorStoreClass10=function(a,c,d,e,f){var g=f.trackResult.lengthInSec*b("DateConsts").MS_PER_SEC,j=f.trackResult,k=j.artistName,m=j.downloadLink;j=j.title;return{lastModifiedTimestamp:Date.now(),endTimeInMs:a,id:b("uuid")(),maxEndTimeInMs:d?d.startTimeInMs-l:null,minStartTimeInMs:c?c.endTimeInMs+l:null,startTimeInMs:e,itemDurationInMs:g,itemStartTimeInMs:0,itemEndTimeInMs:g,itemVolume:b("VideoComposerDragAndDropScrubberConstants").DEFAULT_TRACK_VOLUME,sourceId:f.trackResult.id,sourceOrderNumberShape:f.trackResult.type===b("MediaManagerAudioAssetTypeEnum").SOUND_EFFECTS?h.SQUARE:h.CIRCLE,sourceSubtitle:k?k:"",sourceTitle:j,sourceType:i.AUDIO,sourceURL:m}};d.$VideoComposerSoundEditorStoreClass11=function(a,b,c){a=c.findLastIndex(function(a){return a.startTimeInMs<b});var d=c.findIndex(function(a){return a.startTimeInMs>b}),e=a==-1?null:c.get(a);c=d==-1?null:c.get(d);return{leftItemIndex:a,leftItem:e,rightItemIndex:d,rightItem:c}};d.$VideoComposerSoundEditorStoreClass9=function(a,c){__p&&__p();var d=b("VideoComposerStores").getSoundEditorSoundCollectionStore(a.videoComposerID).getSelectedTrackDataById(c.trackId);if(!d)return a;var e=a.get("draftAddedTracks"),f=c.startTimeInMs;c=c.endTimeInMs;var g=this.$VideoComposerSoundEditorStoreClass11(c,f,e),h=g.leftItemIndex,i=g.leftItem;g=g.rightItem;var j=Date.now();i&&(f=Math.max(i.endTimeInMs+l,f),i.maxEndTimeInMs=f-l,i.lastModifiedTimestamp=j++);g&&(c=Math.min(g.startTimeInMs-l,c),g.minStartTimeInMs=c+l,g.lastModifiedTimestamp=j++);if(c-f<b("VideoComposerDragAndDropScrubberConstants").MINIMUM_DURATION_IN_MS)return a;d=this.$VideoComposerSoundEditorStoreClass10(c,i,g,f,d);d.itemEndTimeInMs=c-f;d.lastModifiedTimestamp=j++;c=[];i&&c.push(i);c.push(d);g&&c.push(g);e=(f=e).splice.apply(f,[Math.max(h,0),c.length-1].concat(c));return a.set("draftAddedTracks",e).set("editingTrackData",d).set("hasChanged",!0)};d.$VideoComposerSoundEditorStoreClass6=function(a,b){b.actionType===g.RESIZE?a=this.$VideoComposerSoundEditorStoreClass12(a,b):b.actionType===g.MOVE?a=this.$VideoComposerSoundEditorStoreClass13(a,b):b.actionType===g.TRACK_VOLUME&&(a=this.$VideoComposerSoundEditorStoreClass14(a,b));if(a.editingTrackData){b=a.draftAddedTracks.get(b.index);a.editingTrackData&&a.editingTrackData.id===b.id&&(a=a.set("editingTrackData",b))}return a.set("hasChanged",!0)};d.$VideoComposerSoundEditorStoreClass5=function(a,b,c,d){__p&&__p();c=a.get("draftAddedTracks");if(b===null||b==void 0){b=c.findIndex(function(b,a){return b.id===d});if(b===-1)return a}var e=Date.now(),f=b>0?c.get(b-1):null,g=b<c.size-1?c.get(b+1):null;f&&(f.maxEndTimeInMs=g?g.startTimeInMs:null,f.lastModifiedTimestamp=e++);g&&(g.minStartTimeInMs=f?f.endTimeInMs:0,g.lastModifiedTimestamp=e++);c=c.splice(b,1);e=[];f&&e.push(f);g&&e.push(g);c=(f=c).splice.apply(f,[Math.max(b-1,0),e.length].concat(e));return a.set("draftAddedTracks",c).set("hasChanged",!0)};d.$VideoComposerSoundEditorStoreClass14=function(a,b){var c=a.get("draftAddedTracks"),d=c.get(b.index);d.itemVolume=b.volume;d.lastModifiedTimestamp=Date.now();c=c.splice(b.index,1,d);return a.set("draftAddedTracks",c)};d.$VideoComposerSoundEditorStoreClass12=function(a,b){__p&&__p();var c=a.get("draftAddedTracks"),d=b.startTimeInMs,e=b.endTimeInMs,f=c.get(b.index),g=f.startTimeInMs,h=f.endTimeInMs;f.startTimeInMs=d;f.endTimeInMs=e;var i=Date.now();f.itemStartTimeInMs-=g-d;f.itemEndTimeInMs-=h-e;f.lastModifiedTimestamp=i++;g=b.index>0?c.get(b.index-1):null;d=b.index<c.size-1?c.get(b.index+1):null;g&&(g.maxEndTimeInMs=f.startTimeInMs-l,g.lastModifiedTimestamp=i++);d&&(d.minStartTimeInMs=f.endTimeInMs+l,d.lastModifiedTimestamp=i++);h=[];g&&h.push(g);h.push(f);d&&h.push(d);c=(e=c).splice.apply(e,[Math.max(b.index-1,0),h.length].concat(h));return a.set("draftAddedTracks",c)};d.$VideoComposerSoundEditorStoreClass13=function(a,b){__p&&__p();var c=a.get("draftAddedTracks"),d=b.startTimeInMs,e=b.endTimeInMs,f=c.findIndex(function(a,c){return c!=b.index&&a.endTimeInMs>=d&&a.startTimeInMs<=e}),g=Date.now();if(f===-1){f=c.get(b.index);f.startTimeInMs=b.startTimeInMs;f.endTimeInMs=b.endTimeInMs;f.lastModifiedTimestamp=g++;var h=b.index>0?c.get(b.index-1):null,i=b.index<c.size-1?c.get(b.index+1):null;h&&(h.maxEndTimeInMs=i?i.startTimeInMs:null,h.lastModifiedTimestamp=g++);i&&(i.minStartTimeInMs=h?h.endTimeInMs:0,i.lastModifiedTimestamp=g++);c=c.splice(b.index,1);var j=[];h&&j.push(h);i&&j.push(i);c=(h=c).splice.apply(h,[Math.max(b.index-1,0),j.length].concat(j));i=this.$VideoComposerSoundEditorStoreClass11(e,d,c);h=i.leftItemIndex;j=i.leftItem;i=i.rightItem;f.minStartTimeInMs=j?j.endTimeInMs+l:null;f.maxEndTimeInMs=i?i.startTimeInMs+l:null;j&&(j.maxEndTimeInMs=f.startTimeInMs-l,j.lastModifiedTimestamp=g++);i&&(i.minStartTimeInMs=f.endTimeInMs+l,i.lastModifiedTimestamp=g++);var k=[];j&&k.push(j);k.push(f);i&&k.push(i);c=(j=c).splice.apply(j,[Math.max(h,0),k.length-1].concat(k))}else{f=c.get(b.index);f.lastModifiedTimestamp=g++;c=c.splice(b.index,1,f)}return a.set("draftAddedTracks",c)};d.getAddedTrackIndexById=function(a){var b=this.getState();b=b.draftAddedTracks;return b.findIndex(function(b){return b.id===a})};d.getEditingTrackData=function(){var a=this.getState();a=a.editingTrackData;return a};d.getVideoEditorConfigData=function(){var a=this.getState(),b=a.addedTracks;a=a.videoVolume;b=b.size>0?b:null;a=a!=null&&a>=0?a:null;return{addedTracks:b,videoVolume:a}};return c}(b("VideoComposerStoreBase"));e.exports=c}),null);
__d("XVideoComposerWasLiveTrimmingTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/edit/was_live_trimming/",{video_id:{type:"FBID",required:!0}})}),null);
__d("VideoComposerTrimmingEditorStoreClass",["Promise","ActorURI","AsyncRequest","ImmutableRecordWithV4Types","VideoComposerActionTypes","VideoComposerStoreBase","VideoComposerStores","VideoComposerTrimmingActions","XVideoComposerWasLiveTrimmingTabController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ImmutableRecordWithV4Types").Record;var g=a({videoComposerID:"",draftEndTime:null,draftStartTime:null,endTime:null,isPlaying:!1,isWasLiveTrimmed:!1,showCancelConfirmDialog:!1,showEditor:!1,startTime:null,vpc:null});c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return g()};d.reduceImpl=function(a,c){__p&&__p();switch(c.type){case b("VideoComposerActionTypes").ATTEMPT_CLOSE_TRIMMING_EDITOR:if(this.$VideoComposerTrimmingEditorStoreClass1(a))return a.set("showCancelConfirmDialog",!0);else return a.set("showEditor",!1);case b("VideoComposerActionTypes").CANCEL_CLOSE_TRIMMING_EDITOR:return a.set("showCancelConfirmDialog",!1);case b("VideoComposerActionTypes").CONFIRM_CLOSE_TRIMMING_EDITOR:a=a.set("showCancelConfirmDialog",!1);return a.set("showEditor",!1);case b("VideoComposerActionTypes").OPEN_TRIMMING_EDITOR:a=this.$VideoComposerTrimmingEditorStoreClass2(a);return a.set("showEditor",!0);case b("VideoComposerActionTypes").RESET_COMPOSER:return this.getInitialState();case b("VideoComposerActionTypes").TRIMMING_SAVE_DRAFT:a=this.$VideoComposerTrimmingEditorStoreClass3(a);return a.set("showEditor",!1);case b("VideoComposerActionTypes").TRIMMING_PREVIEW_BY_START_END:return this.$VideoComposerTrimmingEditorStoreClass4(a,c);case b("VideoComposerActionTypes").TRIMMING_SET_END_TIME:this.$VideoComposerTrimmingEditorStoreClass5(a.vpc,c.endTime);return a.set("draftEndTime",c.endTime);case b("VideoComposerActionTypes").TRIMMING_SET_PLAYER_STATE:return a.set("isPlaying",c.isPlaying);case b("VideoComposerActionTypes").TRIMMING_SET_START_TIME:this.$VideoComposerTrimmingEditorStoreClass5(a.vpc,c.startTime);return a.set("draftStartTime",c.startTime);case b("VideoComposerActionTypes").TRIMMING_SET_VPC:return a.set("vpc",c.vpc);case b("VideoComposerActionTypes").TRIMMING_SET_IS_WAS_LIVE_TRIMMED:return a.set("isWasLiveTrimmed",c.isWasLiveTrimmed);default:return a}};d.$VideoComposerTrimmingEditorStoreClass1=function(a){var b=a.draftEndTime,c=a.draftStartTime,d=a.endTime;a=a.startTime;return b!=d||c!=a};d.$VideoComposerTrimmingEditorStoreClass2=function(a){var b=a,c=b.endTime;b=b.startTime;a=a.set("draftEndTime",c).set("draftStartTime",b);return a};d.$VideoComposerTrimmingEditorStoreClass4=function(a,b){var c=a.get("vpc");c&&c.emit("previewByStartEndTime",{endTime:b.endTime?b.endTime:0,startTime:b.startTime?b.startTime:0});a=a.set("isPlaying",!0);return a};d.$VideoComposerTrimmingEditorStoreClass3=function(a){var b=a,c=b.draftEndTime;b=b.draftStartTime;a=a.set("endTime",c);a=a.set("startTime",b);return a};d.$VideoComposerTrimmingEditorStoreClass5=function(a,b){a&&a.seek(b)};d.getPostDataForEdit=function(){var a=this.getState(),c=a.draftStartTime;a=a.draftEndTime;var d={};c!=null&&(d.new_start_time=c);a!=null&&(d.new_end_time=a);return b("Promise").resolve(d)};d.fetchEditPostDataForWasLiveTrimming=function(a,c){var d=this;a=b("XVideoComposerWasLiveTrimmingTabController").getURIBuilder().setFBID("video_id",a).getURI();var e=b("ActorURI").create(a,c);return new(b("Promise"))(function(a,c){new(b("AsyncRequest"))(e).setHandler(function(c){b("VideoComposerTrimmingActions").setIsWasLiveTrimmed(d.getState().videoComposerID,c.payload.isWasLiveTrimmed);return a()}).setErrorHandler(function(a){c(a)}).send()})};d.isVideoTrimmed=function(){var a=this.getState(),b=a.endTime,c=a.startTime;a=a.vpc;if(!a)return!1;a=a.getPlaybackDuration();return!c&&(!b||b===a)?!1:!0};d.getVideoEditorConfigData=function(){var a=this.getState(),b=a.endTime,c=a.startTime;a=a.vpc;if(this.isVideoTrimmed()&&a){a=a.getPlaybackDuration();c=c?c:0;b=b?b:a;return{trim_before_start:c,trim_after_end:b}}return null};d.getTrimmedVideoDuration=function(){var a=this.getState(),c=a.endTime,d=a.startTime;a=a.videoComposerID;a=b("VideoComposerStores").getMetadataStore(a).getState();a=a.videoDuration;c=c==null?a==null?0:a:c;d=d||0;return c-d};return c}(b("VideoComposerStoreBase"));e.exports=c}),null);
__d("VideoComposerBestPracticesChecklistUtils",["VideoComposerStores","getMentionsTextForContentState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=180;function a(a,c,d,e){e=d.isVideoHighQuality;d=c.contentTags;c=c.descriptionEditorState;a=b("VideoComposerStores").getTrimmingEditorStore(a).getTrimmedVideoDuration();c=b("getMentionsTextForContentState")(c.getCurrentContent());d=d.length>0;c=c.trim()!=="";a=a>g;return{hasMinVideoDuration:a,isDescriptionAdded:c,isTagAdded:d,isVideoHighQuality:e}}e.exports={getBestPracticesChecklistConfig:a}}),null);
__d("VideoComposerCrosspostCaptionsUploadUtils",["Promise","ActorURI","AsyncRequest","GraphAPI","VideoComposerStores","XVideoCaptionUploadAsyncController","killswitch","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f,i,j,k,l){__p&&__p();if(i.length===0){k(a,e,c.id,f);return}if(b("killswitch")("PUBX_VIDEO_CROSSPOST_CREATE_SUBTITLES")){g(a,c,d,e,f,j,k,l);return}var m=c.id,n=b("XVideoCaptionUploadAsyncController").getURIBuilder().setInt("video_id",m).setBool("set_immediate_publish",!0),o=new FormData();i.forEach(function(a,b){b=a.getIsDefault()?"captions_default":"captions_file"+b;o.append(b,a.getFile())});i=n.getURI();n=b("ActorURI").create(i,e);new(b("AsyncRequest"))(n).setMethod("POST").setRawData(o).setHandler(function(b){b=b.payload;if(b&&b.success==="true"&&b.error===""){g(a,c,d,e,f,j,k,l);return}h(m);l(e,b.error)}).send()}function g(a,c,d,f,g,i,j,k){__p&&__p();i=b("VideoComposerStores").getCaptionsStore(a).getState();i=i.localCaptionFiles;i=i.toArray();var l=c.id;if(i.length===0){j(a,f,l,g);return}b("promiseDone")(b("Promise").all(i.map(function(c){var g=new FormData();g.append("access_token",d);g.append("captions_file",c.getFile());c.getIsDefault()&&g.append("default_locale",c.getLocale());c=b("GraphAPI")("2.11",e.id).object("video",l).edge("captions").post(g);b("promiseDone")(c,function(){},function(b){h(l),k(a,f,b)});return c})),function(b){j(a,f,l,g)},function(b){h(l),k(a,f,b)})}function h(a){new(b("AsyncRequest"))().setURI("/ajax/video/actions/delete/").setData({fbid:a,redirect:!1}).send()}e.exports={postCaptionsFilesAndSubtitles:a}}),null);
__d("WoodhengeCreatorOnboardingActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({ADD_STICKERS:"",CROSSPOST_FAILED:"",CROSSPOST_FINISHED:"",EDIT_STICKERS:"",LOAD_STICKERS_DATA_FAILURE:"",LOAD_STICKERS_DATA_SUCCESS:"",INITIALIZE_PROMO_VIDEO_UPLOADER:"",INITIALIZE_THANK_YOU_VIDEO_UPLOADER:"",INITIALIZE:"",METADATA_LOADED_FROM_PROMO_VIDEO_UPLOADER:"",METADATA_LOADED_FROM_THANK_YOU_VIDEO_UPLOADER:"",PROMO_FILE_ADDED:"",PROMO_POST_FAILED:"",PROMO_POST_FINISHED:"",PROMO_UPLOAD_FAILED:"",PROMO_UPLOAD_FINISHED:"",PROMO_UPLOAD_PROGRESSED:"",REMOVE_STICKER:"",SET_ACCEPT_TOS:"",SET_BENEFITS:"",SET_BENEFIT_TYPES:"",SET_BENEFIT_DESCRIPTIONS:"",SET_BENEFITS_DATA:"",SET_CHOSEN_PRICE:"",SET_CREATOR_STATUS:"",SET_HAS_SUBMISSION_ERROR:"",SET_IN_ONBOARDING_STEP:"",SET_IS_SUBMITTING:"",SET_PRIVACY_POLICY_URL:"",SET_COVER_STICKER:"",SET_CUSTOM_TITLE:"",SET_CUSTOM_MESSAGE:"",SET_SHOW_BENEFITS_EDITOR:"",SET_SHOW_PREVIEW_SUBSCRIPTION:"",SET_SHOW_STICKER_UPLOADER:"",SET_SHOW_SUBMISSION_CONFIRMATION:"",SET_SHOW_VIDEO_EDITOR_EXIT_CONFIRM_DIALOG:"",SET_SHOW_VIDEO_EDITOR:"",SET_STICKER_UPLOADING_STEP:"",SET_SUBMITTED_VIDEO_ID:"",SET_THANK_YOU_MESSAGE:"",SUBMIT_STICKERS:"",SUBMIT_STICKERS_SUCCESS:"",SUBMIT_STICKERS_FAILURE:"",THANK_YOU_FILE_ADDED:"",THANK_YOU_POST_FAILED:"",THANK_YOU_POST_FINISHED:"",THANK_YOU_UPLOAD_FAILED:"",THANK_YOU_UPLOAD_FINISHED:"",THANK_YOU_UPLOAD_PROGRESSED:"",VALIDATE_STICKERS_FAILURE:"",VALIDATE_STICKERS_SUCCESS:""});e.exports=a}),null);
__d("WoodhengeCreatorOnboardingDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationReactDispatcher"))({strict:!0})}),null);
__d("WoodhengeCreatorOnboardingActions",["VideoUploadProgressBar","WoodhengeCreatorOnboardingActionTypes","WoodhengeCreatorOnboardingAPIUtils","WoodhengeCreatorOnboardingDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a,c){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").CROSSPOST_FAILED,error:a,pageID:c})};c=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").CROSSPOST_FINISHED,pageID:a})};d=function(a){b("WoodhengeCreatorOnboardingAPIUtils").getAdminedPagesOnboardingInfo(function(c){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").INITIALIZE,adminedPages:c,selectedPageID:a})})};f=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").INITIALIZE_PROMO_VIDEO_UPLOADER,videoUploader:a})};var g=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").INITIALIZE_THANK_YOU_VIDEO_UPLOADER,videoUploader:a})},h=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").METADATA_LOADED_FROM_PROMO_VIDEO_UPLOADER,data:a})},i=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").METADATA_LOADED_FROM_THANK_YOU_VIDEO_UPLOADER,data:a})},j=function(a,c){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").PROMO_FILE_ADDED,file:a,fileInput:c})},k=function(a,c){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").PROMO_POST_FAILED,errorMessage:c.error_summary+": "+c.error_description})},l=function(a,c){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").PROMO_POST_FINISHED,data:c})},m=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").PROMO_UPLOAD_FAILED,errorData:a})},n=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").PROMO_UPLOAD_FINISHED,data:a})},o=function(a,c){a=b("VideoUploadProgressBar").computeProgress(c.start_offset,c.sent_bytes,c.file_size,0,0);b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").PROMO_UPLOAD_PROGRESSED,progress:Math.round(10*a)/10})},p=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").SET_BENEFITS,benefits:a})},q=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").SET_CHOSEN_PRICE,chosenPrice:a})},r=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").SET_CREATOR_STATUS,creatorStatus:a})},s=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").SET_PRIVACY_POLICY_URL,privacyPolicyURL:a})},t=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").SET_CUSTOM_TITLE,customTitle:a})},u=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").SET_CUSTOM_MESSAGE,customMessage:a})},v=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").SET_IN_ONBOARDING_STEP,step:a})},w=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").SET_IS_SUBMITTING,isSubmitting:a})},x=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").SET_SHOW_BENEFITS_EDITOR,showBenefitsEditor:a})},y=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").SET_SHOW_SUBMISSION_CONFIRMATION,showSubmissionConfirmation:a})},z=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").SET_SHOW_PREVIEW_SUBSCRIPTION,showPreviewSubscription:a})},A=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").SET_SHOW_VIDEO_EDITOR,showVideoEditor:a})},B=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").SET_SHOW_STICKER_UPLOADER,showStickerUploader:a})},C=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").SET_SHOW_VIDEO_EDITOR_EXIT_CONFIRM_DIALOG,showVideoEditorExitConfirmDialog:a})},D=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").SET_HAS_SUBMISSION_ERROR,hasSubmissionError:a})},E=function(a,c){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").SET_SUBMITTED_VIDEO_ID,submittedPromoVideoID:a,submittedThankYouVideoID:c})},F=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").SET_THANK_YOU_MESSAGE,thankYouMessage:a})},G=function(a,c){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").THANK_YOU_FILE_ADDED,file:a,fileInput:c})},H=function(a,c){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").THANK_YOU_POST_FAILED,errorMessage:c.error_summary+": "+c.error_description})},I=function(a,c){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").THANK_YOU_POST_FINISHED,data:c})},J=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").THANK_YOU_UPLOAD_FAILED,errorData:a})},K=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").THANK_YOU_UPLOAD_FINISHED,data:a})},L=function(a,c){a=b("VideoUploadProgressBar").computeProgress(c.start_offset,c.sent_bytes,c.file_size,0,0);b("WoodhengeCreatorOnboardingDispatcher").dispatch({type:b("WoodhengeCreatorOnboardingActionTypes").THANK_YOU_UPLOAD_PROGRESSED,progress:Math.round(10*a)/10})},M=function(a,c){b("WoodhengeCreatorOnboardingDispatcher").dispatch({files:c,pageID:a,type:b("WoodhengeCreatorOnboardingActionTypes").ADD_STICKERS})},N=function(a,c){b("WoodhengeCreatorOnboardingDispatcher").dispatch({pageID:a,name:c,type:b("WoodhengeCreatorOnboardingActionTypes").REMOVE_STICKER})},O=function(a,c){b("WoodhengeCreatorOnboardingDispatcher").dispatch({stickerData:c,pageID:a,type:b("WoodhengeCreatorOnboardingActionTypes").VALIDATE_STICKERS_SUCCESS})},P=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({pageID:a,type:b("WoodhengeCreatorOnboardingActionTypes").VALIDATE_STICKERS_FAILURE})},Q=function(a,c){b("WoodhengeCreatorOnboardingDispatcher").dispatch({step:c,pageID:a,type:b("WoodhengeCreatorOnboardingActionTypes").SET_STICKER_UPLOADING_STEP})},R=function(a,c){b("WoodhengeCreatorOnboardingDispatcher").dispatch({isAccepted:c,pageID:a,type:b("WoodhengeCreatorOnboardingActionTypes").SET_ACCEPT_TOS})},S=function(a,c){b("WoodhengeCreatorOnboardingDispatcher").dispatch({coverSticker:c,pageID:a,type:b("WoodhengeCreatorOnboardingActionTypes").SET_COVER_STICKER})},T=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({pageID:a,type:b("WoodhengeCreatorOnboardingActionTypes").SUBMIT_STICKERS})},U=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({pageID:a,type:b("WoodhengeCreatorOnboardingActionTypes").SUBMIT_STICKERS_SUCCESS})},V=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({pageID:a,type:b("WoodhengeCreatorOnboardingActionTypes").SUBMIT_STICKERS_FAILURE})},W=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({pageID:a,type:b("WoodhengeCreatorOnboardingActionTypes").LOAD_STICKERS_DATA_FAILURE})},X=function(a,c){b("WoodhengeCreatorOnboardingDispatcher").dispatch({pageID:a,data:c,type:b("WoodhengeCreatorOnboardingActionTypes").LOAD_STICKERS_DATA_SUCCESS})},Y=function(a){b("WoodhengeCreatorOnboardingDispatcher").dispatch({pageID:a,type:b("WoodhengeCreatorOnboardingActionTypes").EDIT_STICKERS})};e.exports={addStickers:M,crosspostFailed:a,crosspostFinished:c,editStickers:Y,initialize:d,initializePromoVideoUploader:f,initializeThankYouVideoUploader:g,loadStickersDataFailure:W,loadStickersDataSuccess:X,metadataLoadedFromPromoVideoUploader:h,metadataLoadedFromThankYouVideoUploader:i,promoFileAdded:j,promoPostFailed:k,promoPostFinished:l,promoUploadFailed:m,promoUploadFinished:n,promoUploadProgressed:o,removeSticker:N,setAcceptTOS:R,setBenefits:p,setChosenPrice:q,setCoverSticker:S,setCreatorStatus:r,setCustomMessage:u,setCustomTitle:t,setHasSubmissionError:D,setInOnboardingStep:v,setIsSubmitting:w,setPrivacyPolicyURL:s,setShowBenefitsEditor:x,setShowPreviewSubscription:z,setShowStickerUploader:B,setShowSubmissionConfirmation:y,setShowVideoEditor:A,setShowVideoEditorExitConfirmDialog:C,setStickerUploadingStep:Q,setSubmittedVideoID:E,setThankYouMessage:F,submitStickers:T,submitStickersFailure:V,submitStickersSuccess:U,thankYouFileAdded:G,thankYouPostFailed:H,thankYouPostFinished:I,thankYouUploadFailed:J,thankYouUploadFinished:K,thankYouUploadProgressed:L,validateStickersFailure:P,validateStickersSuccess:O}}),null);
__d("FanFundingPricingMatrixTier",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({USD_0_99:"USD 0.99",USD_1_99:"USD 1.99",USD_2_99:"USD 2.99",USD_4_99:"USD 4.99",USD_9_99:"USD 9.99",USD_19_99:"USD 19.99",USD_49_99:"USD 49.99",USD_99_99:"USD 99.99",BRL_9_90:"BRL 9,90"})}),null);
__d("UserFundingModularBenefitType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BADGE:"BADGE",OPTIONAL_BADGE:"supporter_badge",EXCLUSIVE_CONTENT:"EXCLUSIVE_CONTENT",MERCH:"MERCH",LIVE_VIDEO:"LIVE_VIDEO",EXCLUSIVE_STICKERS:"EXCLUSIVE_STICKERS",SUPPORTER_GAMES:"SUPPORTER_GAMES",GROUP:"GROUP",NEWSLETTER:"NEWSLETTER",RECOGNITION:"recognition",DIGEST:"digest",CUSTOM_BENEFIT:"CUSTOM_BENEFIT"})}),null);
__d("WoodhengeCreatorStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CANDIDATE:"candidate",READY_TO_ONBOARD:"ready_to_onboard",ONBOARD_STARTED:"onboard_started",TOS_ACCEPTED:"tos_accpeted",PAYOUT_SETUP:"payout_setup",BENEFITS_SETUP:"benefits_setup",ASSETS_SETUP:"assets_setup",UNDER_REVIEW:"under_review",REJECTED:"rejected",APPROVED:"approved",LIVE:"live",DEMONETIZED:"demonetized",INELIGIBLE:"ineligible"})}),null);
__d("WoodhengeCreatorOnboardingConstants",["keyMirror","WoodhengeCreatorStatus"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({LANDING:"",SET_UP:"",POST_SET_UP:"",POST_LANDING:""});c=b("keyMirror")({UPLOADING:"",SUBMITTING:"",SUBMITTED:"",REJECTED:"",ACCEPTED:""});e.exports={WoodhengeCreatorStickerUploaderStep:c,WoodhengeCreatorInOnboardingStep:a,WoodhengeCreatorStatus:b("keyMirror")(b("WoodhengeCreatorStatus"))}}),null);
__d("WoodhengeOnboardingSurface",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CREATOR_STUDIO:"creator_studio",BETA:"beta",CREATOR_STUDIO_TOP_PRIORITY_CARD:"creator_studio_top_priority_card",IN_PLACE_ACTIVATION_TIP:"in_place_activation_tip",SCRIPT:"script",STREAMER_DASH:"streamer_dash"})}),null);
__d("WoodhengeViewerAdminedPagesOnboardingInfoQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"3008817282525224"};b.getQueryID=function(){return"423299928276412"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("XFanSubscriptionsBenefitSetupController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/fan_subscriptions/benefit_setup/",{page_id:{type:"FBID"},benefit_types:{type:"StringVector"},benefit_descriptions:{type:"StringVector"},price_tier:{type:"Enum",enumType:1},privacy_policy_url:{type:"String"},custom_title:{type:"String"},custom_message:{type:"String"},onboarding_surface:{type:"Enum",enumType:1},group_name:{type:"String"}})}),null);
__d("XPaymentSubscriptionConsiderationAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/paymentsubscriptions/async/create_consideration_page/",{owner_id:{type:"FBID"},cover_video_id:{type:"FBID"},onboarding_surface:{type:"Enum",enumType:1}})}),null);
__d("XPaymentSubscriptionCreateOrUpdateConfirmationPageAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/paymentsubscriptions/async/create_confirmation_page/",{owner_id:{type:"FBID"},cover_video_id:{type:"FBID"},welcome_title:{type:"String"},onboarding_surface:{type:"Enum",enumType:1}})}),null);
__d("XPaymentSubscriptionGoLiveAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/paymentsubscriptions/async/go_live/",{page_id:{type:"FBID",required:!0},onboarding_surface:{type:"Enum",enumType:1}})}),null);
__d("XPaymentSubscriptionSubmissionValidationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/paymentsubscriptions/assets/submit/",{page_id:{type:"FBID"},privacy_policy_url:{type:"String"},is_auto_live_selected:{type:"Bool",defaultValue:!1},onboarding_surface:{type:"Enum",enumType:1},auto_approve_test_page:{type:"Bool",defaultValue:!0}})}),null);
__d("XWoodhengeSignupPermlinkController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/becomesupporter/{page_token}/",{page_token:{type:"String",required:!0},business_id:{type:"Int"},surface:{type:"String"},entrypoint_surface:{type:"String"},auto_redirect:{type:"Bool",defaultValue:!0},post_id:{type:"String"}})}),null);
__d("WoodhengeCreatorOnboardingAPIUtils",["ActorURI","AsyncDialog","AsyncRequest","FanFundingPricingMatrixTier","HubbleConstants","PageInsightsUIReferrer","UserFundingModularBenefitType","VideoAssetWaterfallSource","WebGraphQL","WoodhengeCreatorOnboardingActions","WoodhengeCreatorOnboardingConstants","WoodhengeCreatorOnboardingUtils","WoodhengeOnboardingSurface","WoodhengeViewerAdminedPagesOnboardingInfoQueryWebGraphQLQuery","XFanSubscriptionsBenefitSetupController","XNewVideoPostFromVideoAssetController","XPagesManagerInsightsController","XPaymentSubscriptionConsiderationAsyncController","XPaymentSubscriptionCreateOrUpdateConfirmationPageAsyncController","XPaymentSubscriptionGoLiveAsyncController","XPaymentSubscriptionSubmissionValidationController","XWoodhengeSignupPermlinkController","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("WoodhengeCreatorOnboardingConstants").WoodhengeCreatorStatus,h=b("WoodhengeCreatorOnboardingUtils").generateBenefitTypesArray,i=b("WoodhengeCreatorOnboardingUtils").generateDescriptionArray,j="POST";a=function(a){b("promiseDone")(b("WebGraphQL").exec(new(b("WoodhengeViewerAdminedPagesOnboardingInfoQueryWebGraphQLQuery"))({})),function(b){b=(b==null?void 0:(b=b.viewer)==null?void 0:(b=b.admined_pages)==null?void 0:b.edges)||[];b=b.map(function(a){return a.node});a(b)})};c=function(a,c){var d=b("VideoAssetWaterfallSource").VIDEO_UPLOAD;a=b("XNewVideoPostFromVideoAssetController").getURIBuilder().setInt("video_id",a).setEnum("source",d).getURI();d=b("ActorURI").create(a,c);b("AsyncDialog").send(new(b("AsyncRequest"))(d))};d=function(a){return b("XWoodhengeSignupPermlinkController").getURIBuilder().setString("page_token",a).getURI().setDomain("www.facebook.com").setProtocol("https").toString()};f=function(a){return b("XPagesManagerInsightsController").getURIBuilder().setString("page_token",a).setString("section",b("HubbleConstants").NAV_SECTIONS.SUPPORTERS).setString("referrer",b("PageInsightsUIReferrer").CREATOR_STUDIO).getURI().toString()};var k=function(a,c,d,e){var f=function(){b("WoodhengeCreatorOnboardingActions").setCreatorStatus(g.LIVE),b("WoodhengeCreatorOnboardingActions").setIsSubmitting(!1)},h=function(){b("WoodhengeCreatorOnboardingActions").setIsSubmitting(!1)};e=b("XPaymentSubscriptionGoLiveAsyncController").getURIBuilder().setFBID("page_id",d).setEnum("onboarding_surface",(d=e)!=null?d:b("WoodhengeOnboardingSurface").CREATOR_STUDIO).getURI();new(b("AsyncRequest"))().setURI(e).setHandler(c!=null?c:f).setErrorHandler(function(b){return a!=null?a():h()}).setMethod("POST").send()},l=function(a,c,d,e,f,g){__p&&__p();var k;f=b("XFanSubscriptionsBenefitSetupController").getURIBuilder().setFBID("page_id",String(f));k=(k=a[b("UserFundingModularBenefitType").GROUP])==null?void 0:(k=k.extra_data)==null?void 0:k.group_name;var l=h(a);a=i(a);f=f.setStringVector("benefit_types",l).setStringVector("benefit_descriptions",a).setString("group_name",k).setEnum("price_tier",b("FanFundingPricingMatrixTier")[c]).setEnum("onboarding_surface",b("WoodhengeOnboardingSurface").CREATOR_STUDIO);g!=null&&f.setString("privacy_policy_url",g.privacyPolicyURL).setString("custom_title",g.customTitle).setString("custom_message",g.customMessage);l=f.getURI();new(b("AsyncRequest"))().setURI(l).setMethod(j).setHandler(e).setErrorHandler(function(a){return d()}).send()},m=function(a,c,d){c=b("XPaymentSubscriptionConsiderationAsyncController").getURIBuilder().setFBID("owner_id",c).setFBID("cover_video_id",d).setEnum("onboarding_surface",b("WoodhengeOnboardingSurface").CREATOR_STUDIO).getURI();new(b("AsyncRequest"))().setURI(c).setMethod(j).setHandler(a).send()},n=function(a,c,d,e){c=b("XPaymentSubscriptionCreateOrUpdateConfirmationPageAsyncController").getURIBuilder().setFBID("owner_id",c).setFBID("cover_video_id",e).setString("welcome_title",d.toString()).setEnum("onboarding_surface",b("WoodhengeOnboardingSurface").CREATOR_STUDIO).getURI();new(b("AsyncRequest"))().setURI(c).setMethod(j).setHandler(a).send()},o=function(a,c,d,e){d=b("XPaymentSubscriptionSubmissionValidationController").getURIBuilder().setFBID("page_id",String(d)).setEnum("onboarding_surface",b("WoodhengeOnboardingSurface").CREATOR_STUDIO).setBool("is_auto_live_selected",e).getURI();new(b("AsyncRequest"))().setURI(d).setMethod(j).setHandler(a).setErrorHandler(function(a){return c()}).send()};e.exports={completeSubmission:o,getAdminedPagesOnboardingInfo:a,getBecomeSupporterLink:d,getPromoPostDialog:c,getInsightsLink:f,setCreatorLive:k,submitBenefits:l,submitPromoVideo:m,submitThankYouVideo:n}}),null);
__d("WoodhengeCreatorOnboardingStrings",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={NEXT:g._("Next"),PREVIOUS:g._("Previous"),CANCEL:g._("Cancel"),DONE:g._("Done"),SAVE:g._("Save"),SUBMIT:g._("Submit for Review"),SAVING_IN_PROGRESS:g._("Saving"),EDIT_SUBSCRIPTION:g._("Edit Subscription"),CONTENT_UPLOADER_TITLE:g._("Upload Your Content"),VIDEO_UPLOADER_PITCH_TITLE:g._("Pitch Video"),VIDEO_UPLOADER_THANKYOU_TITLE:g._("Thank You Video"),VIDEO_UPLOADER_TOOLTIP:g._("Position your face in the top half of the screen"),VIDEO_UPLOADER_UPLOAD_BUTTON_LABEL:g._("Upload"),VIDEO_UPLOADER_UPDATE_PITCH_BUTTON_LABEL:g._("Update Pitch Video"),VIDEO_UPLOADER_UPDATE_THANKYOU_BUTTON_LABEL:g._("Update Thank You Video"),VIDEO_UPLOADER_ERORR_MESSAGE:g._("Upload failed! Please try again."),VIDEO_UPLOADER_GENERAL_INSTRUCTION:g._("No more than 1 minute. Portrait Format"),VIDEO_UPLOADER_PITCH_INSTRUCTION:g._("{=Send notification on your mobile and record directly with this layout via Facebook Camera}{=Make sure you paint a compelling picture of how they can join you on this epic journey. See tips to make compelling 'Pitch Video'}",[g._param("=Send notification on your mobile and record directly with this layout via Facebook Camera",b("React").createElement("p",null,g._("Send notification on your mobile and record directly with this layout via Facebook Camera"))),g._param("=Make sure you paint a compelling picture of how they can join you on this epic journey. See tips to make compelling 'Pitch Video'",b("React").createElement("p",null,g._("Make sure you paint a compelling picture of how they can join you on this epic journey. See tips to make compelling 'Pitch Video'")))]),VIDEO_UPLOADER_THANKYOU_INSTRUCTION:g._("How amazing is it going to be when your fans will get a personal thank you from you when they pledged? See tips on our onboarding guide."),GET_HELP:g._("Get Help"),PREVIEW_SUBSCRIPTION:g._("Preview Subscription"),EDIT_STICKERS:g._("Edit Stickers"),BENEFITS_SETUP_HEADER:g._("Customize Your Subscription"),BENEFITS_SETUP_BODY_TEXT:function(a,c){return g._("{=Choose a price and add benefits for your supporters. All supporters will get access to a supporter badge, but you can add additional benefits. You can preview what these benefits will look like and then submit for review. Your benefits will be reviewed to make sure they comply with [facebookPolicy] and [applePolicy].}",[g._param("=Choose a price and add benefits for your supporters. All supporters will get access to a supporter badge, but you can add additional benefits. You can preview what these benefits will look like and then submit for review. Your benefits will be reviewed to make sure they comply with [facebookPolicy] and [applePolicy].",b("React").createElement("p",null,g._("Choose a price and add benefits for your supporters. All supporters will get access to a supporter badge, but you can add additional benefits. You can preview what these benefits will look like and then submit for review. Your benefits will be reviewed to make sure they comply with {facebookPolicy} and {applePolicy}.",[g._param("facebookPolicy",a),g._param("applePolicy",c)])))])},BENEFITS_SETUP_PRICE_INDICATOR:g._("Monthly Price:"),BENEFITS_SETUP_PRICE:function(a){return g._("{price selected}",[g._param("price selected",a)])},BENEFITS_SETUP_BUTTON_LABEL:g._("Customize Subscription"),RECOMMENDED:g._("Recommended"),UNDER_REVIEW_STATUS_TITLE:g._("You've Submitted Your Fan Subscription Details"),UNDER_REVIEW_STATUS_DESCRIPTION:function(a,c){return g._("{=Your subscription will be reviewed to make sure it complies with [facebookPolicy] and with [applePolicy]. [New Line] This typically takes 5 to 7 business days, with some exceptions. You'll be notified as soon as the review is complete.}",[g._param("=Your subscription will be reviewed to make sure it complies with [facebookPolicy] and with [applePolicy]. [New Line] This typically takes 5 to 7 business days, with some exceptions. You'll be notified as soon as the review is complete.",b("React").createElement("p",null,g._("Your subscription will be reviewed to make sure it complies with {facebookPolicy} and with {applePolicy}. {New Line} This typically takes 5 to 7 business days, with some exceptions. You'll be notified as soon as the review is complete.",[g._param("facebookPolicy",a),g._param("applePolicy",c),g._param("New Line",b("React").createElement("br",null))])))])},UNDER_REVIEW_TITLE_WITHOUT_VIDEO:g._("Create Promotional and Thank You Videos"),SUBSCRIPTION_ACTION_TITLE_WITH_VIDEO:g._("Your Subscription Videos"),UNDER_REVIEW_DESCRIPTION_WITHOUT_VIDEO:g._("Use videos to help people understand what you're offering and why they should become supporters."),SUBSCRIPTION_ACTION_DESCRIPTION_WITH_VIDEO:g._("Your subscription videos will often be shown when someone is considering your subscription. You can preview how they look and edit them anytime."),ADD_VIDEO_BUTTON_LABEL:g._("Add Videos"),EDIT_VIDEO_BUTTON_LABEL:g._("Edit Videos"),EDIT_BENEFITS_BUTTON_LABEL:g._("Edit Benefits"),VIDEO_FIRST_CONVINSING_STRING:g._("Videos showcase your authentic voice."),VIDEO_SECOND_CONVINSING_STRING:g._("A promotional video unlocks special opportunities to spread awareness of your subscription."),VIDEO_THIRD_CONVINSING_STRING:g._("A thank you video shows appreciation for supporters and welcomes them to the community."),VIDEO_UPLOADER_TITLE:g._("Subscription Videos"),PROMOTIONAL_VIDEO_HEADER:g._("Promotional Video"),PROMOTIONAL_VIDEO_DESCRIPTION:g._("Add a video that promotes your subscription and describes the exclusive benefits supporters will receive. This will often be shown when people consider becoming supporters."),PROMOTIONAL_VIDEO_FIRST_TIP:g._("Your video must be a vertical video with a resolution of 720px or higher."),PROMOTIONAL_VIDEO_SECOND_TIP:g._("Position your face at the top of the frame. Your supporter benefits will appear at the bottom when viewed fullscreen on mobile devices."),PROMOTIONAL_VIDEO_THIRD_TIP:function(a){return g._("{helpCenterLink}",[g._param("helpCenterLink",a)])},PROMOTIONAL_VIDEO_PLACEHOLDER_TEXT:g._("Your benefits will be shown here"),THANK_YOU_VIDEO_HEADER:g._("Thank You Video"),THANK_YOU_VIDEO_DESCRIPTION:g._("Add a video that thanks your new supporters and welcomes them to the community. This video will only be shown to new supporters immediately after they subscribe."),THANK_YOU_VIDEO_FIRST_TIP:g._("Your video must be a vertical video with a resolution of 720px or higher."),THANK_YOU_VIDEO_SECOND_TIP:g._("Position your face at the top of the frame. Your thank you message will appear at the bottom when viewed fullscreen on mobile devices."),THANK_YOU_VIDEO_THIRD_TIP:function(a){return g._("{helpCenterLink}",[g._param("helpCenterLink",a)])},THANK_YOU_MESSAGE_PLACEHOLDER:g._("Add a thank you message..."),THANK_YOU_VIDEO_PLACEHOLDER_TEXT:g._("Your thank you mesage will be shown here"),UPLOAD_VIDEO_BUTTON_LABEL:g._("Upload Video"),UPDATE_VIDEO_BUTTON_LABEL:g._("Update Video"),DISCARD_CHANGES_HEADER:g._("Discard Changes?"),DISCARD_CHANGES_BODY_TEXT:g._("If you discard now, your uploaded videos won't be saved. You can save your progress after you upload both videos."),DISABLED_VIDEO_SAVE_BUTTON_TOOLTIP_TEXT:g._("You can save your progress after you upload both videos."),DISABLED_SUBMIT_REVIEW_BUTTON_TOOLTIP_TEXT:g._("Add at least one additional benefit."),DISABLED_SAVE_BENEFITS_BUTTON_TOOLTIP_TEXT:g._("Select at least one additional benefit."),DISABLED_SAVE_BENEFITS_BUTTON_INVALID_GROUP_NAME:g._("Write a name for your subscription group."),SELECT_BENEFIT_LABEL:g._("Select at least one additional benefit."),GO_BACK_BUTTON_LABEL:g._("Go Back"),DISCARD_BUTTON_LABEL:g._("Discard"),APPROVED_STATUS_TITLE:g._("Your Fan Subscriptions Have Been Approved"),APPROVED_STATUS_DESCRIPTION:function(a){return g._("{=You can now activate your subscription and start building your community of supporters. [New Line] The primary button on your Page will change to \"Become a Supporter\" after you activate. You can always edit this later. [learnMore].}",[g._param('=You can now activate your subscription and start building your community of supporters. [New Line] The primary button on your Page will change to "Become a Supporter" after you activate. You can always edit this later. [learnMore].',b("React").createElement("p",null,g._("You can now activate your subscription and start building your community of supporters. {New Line} The primary button on your Page will change to \"Become a Supporter\" after you activate. You can always edit this later. {learnMore}.",[g._param("New Line",b("React").createElement("br",null)),g._param("learnMore",a)])))])},APPROVED_STATUS_ACTION_LABEL:g._("Activate Subscriptions"),APPROVED_TITLE_WITHOUT_VIDEO:g._("Add Promotional and Thank You Videos"),APPROVED_DESCRIPTION_WITHOUT_VIDEO:g._("Use videos to help people understand what you're offering and why they should become supporters."),APPROVED_EDUCATION_HEADER:g._("Set Yourself Up for Success"),APPROVED_FIRST_EDUCATION_TIP:function(a){return g._("{addExclusivePostLink} for supporters so they can engage with you from the start.",[g._param("addExclusivePostLink",a)])},APPROVED_SECOND_EDUCATION_TIP:function(a){return g._("Think ahead about how you'll {addExclusivePostLink} once you activate.",[g._param("addExclusivePostLink",a)])},REJECTED_STATUS_TITLE:g._("Your Fan Subscriptions Weren't Approved"),REJECTED_STATUS_DESCRIPTION:function(a){return g._("{=[onboardingPageName] wasn't approved to test fan subscriptions at this time. As we continue to expand fan subscriptions to more Pages on Facebook, you may be able to apply again in the future.}",[g._param("=[onboardingPageName] wasn't approved to test fan subscriptions at this time. As we continue to expand fan subscriptions to more Pages on Facebook, you may be able to apply again in the future.",b("React").createElement("p",null,g._("{onboardingPageName} wasn't approved to test fan subscriptions at this time. As we continue to expand fan subscriptions to more Pages on Facebook, you may be able to apply again in the future.",[g._param("onboardingPageName",a)])))])},REJECTED_STATUS_ACTION_LABEL:g._("Contact Us"),LIVE_STATUS_TITLE:g._("Your Fan Subscriptions Are Active"),LIVE_STATUS_DESCRIPTION:function(a){return g._("{=The primary button on your Page is \"Become a Supporter.\"[learnMore]. [New Line] Here's your subscription link that allows people to become supporters. Share it widely to give people multiple opportunities to support you.}",[g._param('=The primary button on your Page is "Become a Supporter."[learnMore]. [New Line] Here\'s your subscription link that allows people to become supporters. Share it widely to give people multiple opportunities to support you.',b("React").createElement("p",null,g._("The primary button on your Page is \"Become a Supporter.\" {learnMore}. {New Line} Here's your subscription link that allows people to become supporters. Share it widely to give people multiple opportunities to support you.",[g._param("learnMore",a),g._param("New Line",b("React").createElement("br",null))])))])},LIVE_EDUCATION_HEADER:g._("Next Steps"),LIVE_FIRST_EDUCATION_TIP:function(a,b){return g._("{promoteSubscriptionLink} and {exclusivePostsLink} for supporters.",[g._param("promoteSubscriptionLink",a),g._param("exclusivePostsLink",b)])},LIVE_SECOND_EDUCATION_TIP:function(a){return g._("{insightsLink} often to see trends in your supporter growth.",[g._param("insightsLink",a)])},LIVE_TITLE_VIDEO:g._("Create Promotional and Thank You Videos"),LIVE_TITLE_POST:g._("Post Your Promotional Video"),LIVE_DESCRIPTION_VIDEO:g._("Use videos to help people understand what you're offering and why they should become supporters."),LIVE_DESCRIPTION_POST:g._("Create a post with your promotional video to spread awareness of your subscription."),LIVE_CREATE_PROMOTIONAL_POST:g._("Create Promotional Post"),POST_FIRST_CONVINSING_STRING:g._("The post will always have a button for people to become supporters."),POST_SECOND_CONVINSING_STRING:g._("Your promotional video will often appear to relevant people in video feeds on Facebook."),POST_THIRD_CONVINSING_STRING:g._("A notification about the post will be sent to your most engaged fans."),POST_PREVIEW_POST_VIDEO:g._("posted a video"),POST_PREVIEW_NOW:g._("Now"),POST_PREVIEW_EXAMPLE_POST_TEXT:g._("Your promotional post text will appear here."),POST_PREVIEW_BECOME_SUPPORTER_DESCRIPTION:g._("Show your support and enjoy special benefits"),MAKE_EXCLUSIVE_POST:g._("make exclusive posts"),ADD_EXCLUSIVE_POST:g._("Add exclusive posts"),PROMOTE_YOUR_SUBSCRIPTION:g._("promote your subscription"),PROMOTE_YOUR_SUBSCRIPTION_CAPS:g._("Promote your subscription"),CHECK_YOUR_INSIGHTS:g._("Check your insights"),FACEBOOK_POLICIES:g._("Facebook policies"),APPLE_GUIDELINES:g._("Apple guidelines"),PROMOTIONAL_VIDEO_TIP:g._("Tips on how to make a promotional video."),THANK_YOU_VIDEO_TIP:g._("Tips on how to make a thank you video."),LEARN_MORE:g._("Learn More"),INVALID_URL:g._("Must be a valid URL")};e.exports=a}),null);
__d("WoodhengeCreatorOnboardingUtils",["FDSLink.react","FDSText.react","FlexLayout.react","Image.react","Link.react","React","URI","WoodhengeCreatorOnboardingAPIUtils","WoodhengeCreatorOnboardingAssets","WoodhengeCreatorOnboardingStrings","cxMargin"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=2,h=function(a,c,d){return b("React").createElement(b("FDSLink.react"),{href:new(b("URI"))(c),target:"_blank"},b("React").createElement(b("FDSText.react"),{color:"highlight",size:d||"body1"},a))};a=function(){return[{type:"video_first_convincing_tip",content:b("WoodhengeCreatorOnboardingStrings").VIDEO_FIRST_CONVINSING_STRING,icon:b("WoodhengeCreatorOnboardingAssets").SUBSCRIPTION_ACTION_TIP_VIDEO},{type:"video_second_convincing_tip",content:b("WoodhengeCreatorOnboardingStrings").VIDEO_SECOND_CONVINSING_STRING,icon:b("WoodhengeCreatorOnboardingAssets").SUBSCRIPTION_ACTION_TIP_DOLLAR_CIRCLE},{type:"video_third_convincing_tip",content:b("WoodhengeCreatorOnboardingStrings").VIDEO_THIRD_CONVINSING_STRING,icon:b("WoodhengeCreatorOnboardingAssets").SUBSCRIPTION_ACTION_TIP_HEART}]};c=function(){return[{type:"post_first_convincing_tip",content:b("WoodhengeCreatorOnboardingStrings").POST_FIRST_CONVINSING_STRING,icon:b("WoodhengeCreatorOnboardingAssets").SUBSCRIPTION_ACTION_TIP_DOLLAR_CIRCLE},{type:"post_second_convincing_tip",content:b("WoodhengeCreatorOnboardingStrings").POST_SECOND_CONVINSING_STRING,icon:b("WoodhengeCreatorOnboardingAssets").SUBSCRIPTION_ACTION_TIP_NEWS_FEED},{type:"post_third_convincing_tip",content:b("WoodhengeCreatorOnboardingStrings").POST_THIRD_CONVINSING_STRING,icon:b("WoodhengeCreatorOnboardingAssets").SUBSCRIPTION_ACTION_TIP_MEGAPHONE}]};d=function(){return[{type:"approved_first_education_tip",content:b("WoodhengeCreatorOnboardingStrings").APPROVED_FIRST_EDUCATION_TIP(h(b("WoodhengeCreatorOnboardingStrings").ADD_EXCLUSIVE_POST,"https://www.facebook.com/creators/discover/unlocking-fan-subscription-success#post-supporter-only-content-regularly","body3")),icon:b("WoodhengeCreatorOnboardingAssets").EDUCATION_TIP_COMPOSER},{type:"approved_second_education_tip",content:b("WoodhengeCreatorOnboardingStrings").APPROVED_SECOND_EDUCATION_TIP(h(b("WoodhengeCreatorOnboardingStrings").PROMOTE_YOUR_SUBSCRIPTION,"https://www.facebook.com/creators/discover/unlocking-fan-subscription-success#maximize-your-first-few-weeks","body3")),icon:b("WoodhengeCreatorOnboardingAssets").EDUCATION_TIP_MEGAPHONE}]};f=function(a){return[{type:"live_first_education_tip",content:b("WoodhengeCreatorOnboardingStrings").LIVE_FIRST_EDUCATION_TIP(h(b("WoodhengeCreatorOnboardingStrings").PROMOTE_YOUR_SUBSCRIPTION_CAPS,"https://www.facebook.com/creators/discover/unlocking-fan-subscription-success#continue-to-promote-your-subscriptions","body3"),h(b("WoodhengeCreatorOnboardingStrings").MAKE_EXCLUSIVE_POST,"https://www.facebook.com/creators/discover/unlocking-fan-subscription-success#post-supporter-only-content-regularly","body3")),icon:b("WoodhengeCreatorOnboardingAssets").EDUCATION_TIP_COMPOSER},{type:"live_second_education_tip",content:b("WoodhengeCreatorOnboardingStrings").LIVE_SECOND_EDUCATION_TIP(h(b("WoodhengeCreatorOnboardingStrings").CHECK_YOUR_INSIGHTS,b("WoodhengeCreatorOnboardingAPIUtils").getInsightsLink(a),"body3")),icon:b("WoodhengeCreatorOnboardingAssets").EDUCATION_TIP_LINE_CHART}]};var i=function(a,c,d){return b("React").createElement(b("FlexLayout.react"),{align:"center",className:"_3-8n",direction:"horizontal"},b("React").createElement(b("Image.react"),{src:c}),b("React").createElement(b("Link.react"),{className:"_3-8s",onClick:d,style:{color:"black"}},a))},j=function(a){return b("React").createElement(b("FlexLayout.react"),{align:"center",className:"_4m0t",direction:"horizontal",key:a.type},b("React").createElement(b("Image.react"),{src:a.icon}),b("React").createElement(b("FDSText.react"),{color:"secondary",margin:"_3-8i",size:"body1"},a.content))},k=function(a){return b("React").createElement(b("FlexLayout.react"),{align:"start",className:"_3-8i",direction:"horizontal",key:a.type},b("React").createElement(b("Image.react"),{src:a.icon}),b("React").createElement(b("FDSText.react"),{color:"secondary",margin:"_3-9a",size:"body3",width:"200px"},a.content))},l=function(a,b){return a.includes("GROUP")?Number(b==null?void 0:b.length)>0:!0},m=function(a,b,c,d){c=o(c,d);d=l(a,b);return a.length>=g&&d&&c},n=function(a,c,d){if(!c)return b("WoodhengeCreatorOnboardingStrings").DISABLED_SAVE_BENEFITS_BUTTON_INVALID_GROUP_NAME;else if(d===!1)return b("WoodhengeCreatorOnboardingStrings").INVALID_URL;else if(!a)return b("WoodhengeCreatorOnboardingStrings").DISABLED_SAVE_BENEFITS_BUTTON_TOOLTIP_TEXT;return null},o=function(a,b){return a!=="NEWS"||w(b)},p=function(a){return Object.keys(a).filter(function(b){return a[b].selected})},q=function(a){var b=p(a);return b.map(function(b){return a[b].description})},r=function(){return h(b("WoodhengeCreatorOnboardingStrings").FACEBOOK_POLICIES,"https://www.facebook.com/legal/fan_funding_creator_terms")},s=function(){return h(b("WoodhengeCreatorOnboardingStrings").APPLE_GUIDELINES,"https://developer.apple.com/app-store/review/guidelines/#subscriptions")},t=function(){return h(b("WoodhengeCreatorOnboardingStrings").PROMOTIONAL_VIDEO_TIP,"https://www.facebook.com/creators/discover/getting-started-with-fan-subscriptions#recording-your-promotional-video")},u=function(){return h(b("WoodhengeCreatorOnboardingStrings").THANK_YOU_VIDEO_TIP,"https://www.facebook.com/creators/discover/getting-started-with-fan-subscriptions#recording-your-thank-you-video")},v=function(){return h(b("WoodhengeCreatorOnboardingStrings").LEARN_MORE,"https://www.facebook.com/help/393123551046542?helpref=faq_content")},w=function(a){if(a==null)return!1;var b=/^http(s)?:\/\/(([\w-]+\.)+(xn--[\w-]+|\w+)|\[([\da-f]{0,4}:)*(?:[\da-f]{1,4}|(?:(?:\d{1,3}\.){3}\d{1,3}))\])(:[0-9]+)?([/\?].*)?$/;return a.match(b)!==null};e.exports={canCreatorSubmitBenefits:m,generateBenefitTypesArray:p,generateDescriptionArray:q,getApplePolicyLink:s,getApprovedEducationTips:d,getBenefitSubmitButtonTooltip:n,getFBPolicyLink:r,getFormattedAction:i,getFormattedEducationTip:k,getFormattedHelpTip:j,getFormattedLink:h,getLearnMoreLink:v,getLiveEducationTips:f,getPostHelpTips:c,getPromoVideoHelpCenterLink:t,getThankYouVideoHelpCenterLink:u,getVideoHelpTips:a,hasValidGroupName:l,isValidURL:w,privacyPolicyURLIsValid:o}}),null);
__d("VideoComposerDialogCrosspostUtils",["Promise","Arbiter","ErrorUtils","GraphAPI","VideoComposerActions","VideoComposerCrosspostCaptionsUploadUtils","VideoComposerDialogTab","VideoComposerStores","VideoComposerTabs","WoodhengeCreatorOnboardingActions","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("VideoComposerCrosspostCaptionsUploadUtils").postCaptionsFilesAndSubtitles;a=function(a){__p&&__p();var c=b("VideoComposerStores").getMetadataStore(a).getState(),d=c.enabledTabs,f=c.accessToken,h=c.actorID,k=c.videoAssetID;c=b("VideoComposerStores").getCaptionsStore(a).getState();var l=c.captionsFeaturesMode,m=d.map(function(c){return b("VideoComposerTabs").get(c).getCrosspostRequestDataToSend(a)});[b("VideoComposerStores").getMetadataStore(a),b("VideoComposerStores").getPublishingStore(a)].forEach(function(a){m.push(a.getCrosspostRequestDataToSend())});d.includes(b("VideoComposerDialogTab").DISTRIBUTION)||m.push(b("VideoComposerStores").getDistributionStore(a).getCrosspostRequestDataToSend());b("promiseDone")(b("Promise").all(m).then(function(c){var d={};c.forEach(function(a){return d=babelHelpers["extends"]({},d,a)});var f=new FormData();Object.keys(d).forEach(function(a){f.append(a,d[a])});delete d.video_asset_id;b("VideoComposerActions").postRequestSent(a,d);return b("GraphAPI")("2.12",e.id).object("page",h||"").edge("videos").post(f)}),function(c){var d=b("VideoComposerStores").getCaptionsStore(a).getState();d=d.localCaptionFiles;d=d.toArray();h&&k&&g(a,c,f,h,k,d,l,i,j)},function(a){j(h||"",a)})};var h=function(a,c,d){b("Arbiter").inform("video/newPost"+a,{videoAssetID:d,videoID:c})},i=function(a,c,d,e){b("VideoComposerActions").crosspostFinished(a),h(c,d,e),b("WoodhengeCreatorOnboardingActions").crosspostFinished(c)},j=function(a,c,d){b("VideoComposerActions").crosspostFailed(a,b("ErrorUtils").normalizeError(d)),b("WoodhengeCreatorOnboardingActions").crosspostFailed(d,c)};e.exports={createCrosspost:a}}),null);
__d("AdBreakCreatorPerformanceLoggingUtils",["AdBreakCreatorPerformanceEvent","AdBreakCreatorPerformanceSignal","AdBreakCreatorPerformanceSurface","AdBreakCreatorPerformanceTypedLogger"],(function(a,b,c,d,e,f){"use strict";function a(a,c){new(b("AdBreakCreatorPerformanceTypedLogger"))().setPageIds([a]).setVideoAssetIds([c]).setSurface(b("AdBreakCreatorPerformanceSurface").VIDEO_COMPOSER).setSignal(b("AdBreakCreatorPerformanceSignal").AD_BREAKS_TAB).setEvent(b("AdBreakCreatorPerformanceEvent").MANUALLY_EDIT_AD_PLACEMENT).log()}e.exports={logAdBreakEditActionOnCrosspost:a}}),null);
__d("VideoComposerDialogEditUtils",["fbt","invariant","Promise","ActorURI","AdBreakCreatorPerformanceLoggingUtils","Arbiter","AsyncRequest","DOM","ExpirationType","FBFeedLocations","FbtResultBase","PageContentTabConfig","PagesComposer","PostExpireDialog.react","PostScheduleDialog.react","React","ReactDOM","ReloadPage","UserAgent","VideoComposerActions","VideoComposerStores","VideoComposerTabs","VideoEditEvent","VideoEditFlow","VideoEditPublishingAction","VideoEditPublishingStatus","VideoEditSource","VideoEditTypedLogger","XVideoEditDialogSaveController","XVideoEditMakeFeaturedController","XVideoGenerateStoryController","ge","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=this,j=b("AdBreakCreatorPerformanceLoggingUtils").logAdBreakEditActionOnCrosspost,k=1e3,l=60*k;a=function(a,b){if(!a)return!1;var c=a-l;a=a+l;return b>c&&b<a};var m=function(a){var c=b("DOM").create("a");c.download="";c.href=a;c.target="_blank";c.click()};c=function(a){return b("UserAgent").isBrowser("Firefox")?{href:a,target:"_blank"}:{onclick:m.bind(i,a)}};d=function(a,c,d){a=b("XVideoEditMakeFeaturedController").getURIBuilder().setFBID("v",a).setBool("is_videos_tab",b("ge")("video_hub_featured_video_container")!=null).getURI();c&&(a=b("ActorURI").create(a,c));new(b("AsyncRequest"))(a).setHandler(function(a){d(a.payload)}).send()};f=function(a,c,d){c=c.value;c===b("VideoEditPublishingAction").MAKE_DRAFT.value||c===b("VideoEditPublishingAction").PUBLISH_WITH_SERIES.value||c===b("VideoEditPublishingAction").PUBLISH_WITH_SEASON.value?n(a):c===b("VideoEditPublishingAction").PUBLISH.value?o(a):c===b("VideoEditPublishingStatus").SCHEDULED.value?p(a,d):c===b("VideoEditPublishingStatus").DRAFT.value?q(a):c===b("VideoEditPublishingAction").EXPIRE.value?r(a):c===b("VideoEditPublishingStatus").PUBLISHED.value?s(a):c===b("VideoEditPublishingAction").SCHEDULE_PUBLISH.value?u(a):c===b("VideoEditPublishingAction").CANCEL_EXPIRATION.value?w(a):c===b("VideoEditPublishingStatus").EXPIRING.value?x(a,d):c===b("VideoEditPublishingAction").REPUBLISH.value?y(a):c===b("VideoEditPublishingStatus").EXPIRED.value?z(a,d):c===b("VideoEditPublishingAction").SCHEDULE_EXPIRATION.value?A(a,d):c===b("VideoEditPublishingStatus").UNPUBLISHED.value&&t(a);b("VideoComposerActions").selectEditPublishAction(a,c)};var n=function(a){b("VideoComposerActions").editShouldPublish(a,!1),b("VideoComposerActions").editScheduledTime(a,new Date(0))},o=function(a){b("VideoComposerActions").editShouldPublish(a,!0)},p=function(a,c){c=c.scheduledPublishTime;b("VideoComposerActions").editScheduledTime(a,new Date(c));b("VideoComposerActions").editShouldPublish(a,!1)},q=function(a){b("VideoComposerActions").editScheduledTime(a,new Date(0)),b("VideoComposerActions").editShouldPublish(a,!1)},r=function(a){b("VideoComposerActions").editShouldExpire(a,!0)},s=function(a){b("VideoComposerActions").editShouldExpire(a,!1),b("VideoComposerActions").editExpiration(a,new Date(0),b("ExpirationType").NONE)},t=function(a){b("VideoComposerActions").editShouldPublish(a,!1)},u=function(a){var c=g._("OK");c=b("React").createElement(b("PostScheduleDialog.react"),{timezoneStr:b("PageContentTabConfig").timezone_str,onSubmit:function(b){return v(a,b)},submitLabel:c});c=b("ReactDOM").render(c,b("DOM").create("div"));c.show()},v=function(a,c){b("VideoComposerActions").editScheduledTime(a,c),b("VideoComposerActions").editShouldPublish(a,!1)},w=function(a){b("VideoComposerActions").editShouldExpire(a,!1),b("VideoComposerActions").editExpiration(a,new Date(0),b("ExpirationType").NONE)},x=function(a,c){var d=c.expirationTime;c=c.expirationType;b("VideoComposerActions").editShouldExpire(a,!1);b("VideoComposerActions").editExpiration(a,new Date(d),c)},y=function(a){b("VideoComposerActions").editShouldExpire(a,!1),b("VideoComposerActions").editExpiration(a,new Date(0),b("ExpirationType").NONE)},z=function(a,c){var d=c.expirationTime;c=c.expirationType;b("VideoComposerActions").editExpiration(a,new Date(d),c)},A=function(a,c){var d=g._("OK"),e=b("React").createElement(b("PostExpireDialog.react"),{timezone:b("PageContentTabConfig").timezone_str,hideExpirationToggle:!0,onSubmit:function(d,f){B(a,c,d,f),e instanceof b("PostExpireDialog.react")||h(0,1818),e.hide()},submitLabel:d});e=b("ReactDOM").render(e,b("DOM").create("div"));e.show()},B=function(a,c,d,e){d?d*=k:d=c.expirationTime,b("VideoComposerActions").editExpiration(a,new Date(d),e)},C=function(a,c,d,e,f){__p&&__p();var g=new FormData(),h=[];for(var e=e,i=Array.isArray(e),j=0,e=i?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=e.length)break;k=e[j++]}else{j=e.next();if(j.done)break;k=j.value}k=k;h.push(b("VideoComposerTabs").get(k).getEditRequestDataToSend(a).then(function(a){a&&Object.keys(a).forEach(function(b){a&&g.append(b,a[b])})}))}[b("VideoComposerStores").getMetadataStore(a).getEditRequestDataToSend(),b("VideoComposerStores").getPublishingStore(a).getEditRequestDataToSend(),b("VideoComposerStores").getPremiereStore(a).getEditRequestDataToSend()].forEach(function(a){return h.push(a.then(function(a){a&&Object.keys(a).forEach(function(b){g.append(b,a[b])})}))});b("promiseDone")(b("Promise").all(h),function(){g.append("edit_flow",b("VideoEditFlow").DIALOG_V2),f!=null&&g.append("composer_entry_point_ref",f),H(a,c,d,g)},function(c){b("VideoComposerActions").saveEditedVideoFailure(a,c instanceof b("FbtResultBase")||typeof c==="string"?c:E())})},D=function(a,c,d,e,f,g,h,i,k){__p&&__p();if(k===b("VideoEditSource").PERMALINK){b("ReloadPage").now();return}a=b("VideoComposerStores").getMetadataStore(a).getState();a=a.hasAdBreaksBefore;!f&&!a&&g&&j(c,e);if(k===b("VideoEditSource").TIMELINE&&c&&i){f=b("XVideoGenerateStoryController").getURIBuilder().getURI();a={video_id:d,feed_location:b("FBFeedLocations").PAGE_TIMELINE};h&&(a.timeline_identifier=h);G(b("VideoEditEvent").REQUEST_NEW_STORY,k,d);new(b("AsyncRequest"))().setURI(f).setData(a).setHandler(function(a){F(a,i,k,d)}).setErrorHandler(function(a){G(b("VideoEditEvent").ERROR_NO_NEW_STORY,k,d)}).send();return}if(k===b("VideoEditSource").LIBRARY||k===b("VideoEditSource").VIDEO_PAGE_SPOTLIGHT_SELECTOR||k===b("VideoEditSource").MEDIA_MANAGER_CONTENT_LIBRARY){g={id:d,videoID:d};e&&(g.videoAssetID=e);b("Arbiter").inform("video/edited"+c,g)}},E=function(){return g._("Sorry, something went wrong. Please try again later.")},F=function(a,c,d,e){a=a.payload;a?(G(b("VideoEditEvent").RECEIVED_NEW_STORY,d,e),b("PagesComposer").replaceByID(c,a),G(b("VideoEditEvent").REPLACED_OLD_STORY,d,e)):G(b("VideoEditEvent").ERROR_NO_NEW_STORY,d,e)},G=function(a,c,d){new(b("VideoEditTypedLogger"))().setEvent(a).setSource(c).setFlow(b("VideoEditFlow").DIALOG_V2).setVideoID(d).log()},H=function(a,c,d,e){d=b("XVideoEditDialogSaveController").getURIBuilder().setInt("v",d).getURI();d=b("ActorURI").create(d,c);new(b("AsyncRequest"))(d).setRawData(e).setHandler(function(c){var d=c.payload.error;!d?b("VideoComposerActions").saveEditedVideoSuccess(a):b("VideoComposerActions").saveEditedVideoFailure(a,c.payload.unknownError?E():c.payload.errorMessage)}).setErrorHandler(function(c){b("VideoComposerActions").saveEditedVideoFailure(a,c.errorDescription)}).send()};e.exports={areTwoTimesAlmostTheSame:a,getDownloadMenuItemProps:c,onMakeFeaturedVideo:d,onPublishingChange:f,onSave:C,onSuccessfulSave:D}}),null);
__d("VideoComposerDialogTabUtils",["Promise","VideoComposerActions","VideoComposerDialogTab","VideoComposerDistributionTabConfig","VideoComposerTabs","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a){return a.code+": "+a.summary.toString()+":"+a.descriptionString},h=function(a){return a.error!==0?g(a.toError()):"Errored while loading tab"};a=function(a,c){var d=c.common.enabledTabs.map(function(d){return b("VideoComposerTabs").get(d).fetchCrosspostData(a,c).then(function(){},function(c){b("VideoComposerActions").tabBootloadError(a,d,h(c))})});c.common.enabledTabs.includes(b("VideoComposerDialogTab").DISTRIBUTION)||d.push(b("VideoComposerTabs").get(b("VideoComposerDialogTab").DISTRIBUTION).fetchCrosspostData(a,c).then(function(){},function(c){b("VideoComposerActions").tabBootloadError(a,b("VideoComposerDialogTab").DISTRIBUTION,h(c))}));b("promiseDone")(b("Promise").all(d),function(){b("VideoComposerActions").allTabsBootloaded(a),(function(){b("VideoComposerActions").allTabsBootloaded(a)})})};c=function(a,c){var d=c.common.enabledTabs.map(function(d){return b("VideoComposerTabs").get(d).fetchEditPostData(a,c).then(function(){},function(c){b("VideoComposerActions").tabBootloadError(a,d,h(c))})});b("promiseDone")(b("Promise").all(d),function(){b("VideoComposerActions").editTabsLoaded(a)},function(){b("VideoComposerActions").editTabsLoaded(a)})};d=function(a,c){__p&&__p();var d=[],e=function(){__p&&__p();if(g){if(i>=f.length)return"break";j=f[i++]}else{i=f.next();if(i.done)return"break";j=i.value}var e=j,k=b("VideoComposerTabs").get(e).fetchCreatePostData;k&&d.push(k(a,c).then(function(){},function(c){b("VideoComposerActions").tabBootloadError(a,e,h(c))}))};for(var f=c.common.enabledTabs,g=Array.isArray(f),i=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j,k=e();if(k==="break")break}!c.common.enabledTabs.includes(b("VideoComposerDialogTab").DISTRIBUTION)&&b("VideoComposerDistributionTabConfig").fetchCreatePostData&&d.push(b("VideoComposerDistributionTabConfig").fetchCreatePostData(a,c).then(function(){},function(c){b("VideoComposerActions").tabBootloadError(a,b("VideoComposerDialogTab").DISTRIBUTION,h(c))}));b("promiseDone")(b("Promise").all(d),function(){b("VideoComposerActions").allTabsBootloaded(a)},function(){b("VideoComposerActions").allTabsBootloaded(a)})};e.exports={fetchCreatePostParameters:d,fetchCrosspostParameters:a,fetchEditPostParameters:c}}),null);
__d("XVideoComposerCrosspostBootloadThumbnailsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/crosspost/bootload_thumbnails/",{video_asset_id:{type:"FBID",required:!0}})}),null);
__d("XVideoComposerEditThumbnailsTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/edit/thumbnails/",{video_id:{type:"FBID",required:!0}})}),null);
__d("VideoComposerDialogThumbnailUtils",["regeneratorRuntime","Promise","ActorURI","AsyncRequest","AudioContextSingleton","Bootloader","EventListener","FBLogger","SphericalDirectorSpatialAudioUtils","UserAgent","VideoComposerDialogConstants","VideoComposerDialogMode","VideoComposerThumbnailActions","XVideoComposerCrosspostBootloadThumbnailsController","XVideoComposerEditThumbnailsTabController","generateVideoThumbnails"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a,c,d){__p&&__p();var e,f,g;return b("regeneratorRuntime").async(function(i){__p&&__p();while(1)switch(i.prev=i.next){case 0:if(h(b("VideoComposerDialogMode").VIDEO_UPLOAD)){i.next=2;break}return i.abrupt("return",b("Promise").resolve());case 2:i.prev=2;if(!b("SphericalDirectorSpatialAudioUtils").getShouldUseSpatialAudioController()){i.next=6;break}i.next=6;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(a,d){b("Bootloader").loadModules(["SphericalVideoSpatialAudioController","Audio360"],function(d,e){var f=b("SphericalDirectorSpatialAudioUtils").getAudioChannelLayout(),g=b("SphericalDirectorSpatialAudioUtils").getRemapChannelsForSevenPointOne(),h=b("SphericalDirectorSpatialAudioUtils").getCanUseSpatialAudio();d=d.getChannelAndHeadlockedMap(f,g);f=d.channelMap;g=d.headlockedMap;new e(c,b("AudioContextSingleton").get(),f,g,h);c.load();b("EventListener").listen(c,"loadedmetadata",function(){a()})},"VideoComposerDialogThumbnailUtils")}));case 6:b("VideoComposerThumbnailActions").generatedThumbnailsStarted;i.next=9;return b("regeneratorRuntime").awrap(b("generateVideoThumbnails")(c,c.videoWidth?c.videoWidth:0,c.videoHeight?c.videoHeight:0,b("VideoComposerDialogConstants").GENERATED_THUMBNAILS,"contain",0,d));case 9:e=i.sent;f=e.thumbnails;g=e.selectedThumbnail;return i.abrupt("return",b("VideoComposerThumbnailActions").generatedThumbnails(a,{thumbnails:f,selectedThumbnail:g}));case 15:i.prev=15;i.t0=i["catch"](2);b("FBLogger").error(i.t0);return i.abrupt("return",b("VideoComposerThumbnailActions").generatedThumbnailsFailed(a));case 19:case"end":return i.stop()}},null,this,[[2,15]])};c=function(a,c,d){d=b("XVideoComposerCrosspostBootloadThumbnailsController").getURIBuilder().setFBID("video_asset_id",d).getURI();d=b("ActorURI").create(d,c);return new(b("AsyncRequest"))().setURI(d).exec().then(function(c){b("VideoComposerThumbnailActions").bootloadCrosspostThumbnails(a,c.payload)})};d=function(a,c,d){d=b("XVideoComposerEditThumbnailsTabController").getURIBuilder().setFBID("video_id",d).getURI();d=b("ActorURI").create(d,c);return new(b("AsyncRequest"))().setURI(d).exec().then(function(c){b("VideoComposerThumbnailActions").bootloadThumbnailsForEdit(a,c.payload)})};var g=function(){return b("UserAgent").isBrowser("Firefox >= 14")||b("UserAgent").isBrowser("Chrome")};f=function(a){return g()};var h=function(a){return a===b("VideoComposerDialogMode").VIDEO_UPLOAD?g():!0},i=function(a){if(a.spherical){var b=a.projectionType;a=a.stereoMode;if(a==="left-right"||a==="top-bottom"||b==="cubemap")return"cover"}return"contain"};e.exports={beginBootloadingCrosspostThumbnailsTab:c,beginBootloadingEditThumbnailsTab:d,getThumbnailBackgroundSize:i,onMetadataLoaded:a,showGeneratedSection:h,showScrubberSection:f}}),null);
__d("VideoComposerPublishingDataValidator",["fbt","VideoComposerPostType","VideoComposerPremiereUtils","VideoComposerPublishingTypes","VideoComposerPublishingUtils","VideoComposerScheduleType","VideoComposerStores"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("VideoComposerPostType").VideoComposerPostTypes,i=b("VideoComposerPublishingTypes").PublishingType,j=b("VideoComposerScheduleType").VideoComposerScheduleTypes,k=function(a,c){return a&&a.getTime()&&!b("VideoComposerPublishingUtils").isPostEndDateValid(a,c)?{canPublish:!1,cannotPublishReason:b("VideoComposerPublishingUtils").invalidMessagePostEndDate}:{canPublish:!0,cannotPublishReason:null}},l=function(a,c){if(c&&c.getTime()&&!b("VideoComposerPublishingUtils").isScheduleDateValid(c))return{canPublish:!1,cannotPublishReason:b("VideoComposerPublishingUtils").invalidMessageScheduleDate};return a&&a.getTime()&&!b("VideoComposerPublishingUtils").isExpireDateValid(a,c)?{canPublish:!1,cannotPublishReason:b("VideoComposerPublishingUtils").invalidMessageExpireDate}:{canPublish:!0,cannotPublishReason:null}},m=function(a,c,d){if(b("VideoComposerStores").getPremiereStore(a).premieresVideoDurationIsInvalid(d))return{canPublish:!1,cannotPublishReason:b("VideoComposerPremiereUtils").INVALID_DURATION_MESSAGE};return!b("VideoComposerPremiereUtils").isPublishTimeValid(c)?{canPublish:!1,cannotPublishReason:b("VideoComposerPremiereUtils").getScheduledLiveInvalidTimeNotice(!0)}:{canPublish:!0,cannotPublishReason:null}},n=function(a,b,c){return a==null||a===0||b==null||b===0||c==null||c===0?{canPublish:!1,cannotPublishReason:g._("Please select a date to continue with backdate publishing")}:{canPublish:!0,cannotPublishReason:null}};c=function(a,b,c){__p&&__p();c=!0;var d=null,e=b.publishingType,f=b.expireDate,g=b.postEndDate,h=b.premiereDate,j=b.scheduleDate,o=!!(f&&f.getTime()),p=!!(j&&j.getTime()),q=!!(g&&g.getTime());if(e===i.BACKDATE){var r=n(b.backdateYear,b.backdateMonth,b.backdateDay);c=r.canPublish;d=r.cannotPublishReason}else if(e===i.PREMIERE||b.shouldPremiere&&e===i.SCHEDULE){r=m(a,h,b.videoDuration);c=r.canPublish;d=r.cannotPublishReason}else if(o||p){e=l(f,j);c=e.canPublish;d=e.cannotPublishReason}if(q&&c){a=k(g,j);c=a.canPublish;d=a.cannotPublishReason}return{canPublish:c,cannotPublishReason:d}};function a(a,b,c){c={canPublish:!0,cannotPublishReason:null};var d=b.postType,e=b.scheduleType,f=b.expireDate,g=b.postEndDate,i=b.premiereDate,o=b.scheduleDate,p=f!==null,q=o!==null,r=g!==null;d===h.VIDEO_UPLOAD&&(e===j.BACKDATE?c=n(b.backdateYear,b.backdateMonth,b.backdateDay):(p||q)&&(c=l(f,o)),r&&c.canPublish&&(c=k(g,o)));(d===h.PREMIERE||b.shouldPremiere&&e===j.SCHEDULE)&&(c=m(a,i,b.videoDuration));return c}d={validatePublishingData:c,validatePublishingRedesignData:a};e.exports=d}),null);
__d("VideoComposerSoundEditorUtils",["GraphAPI","GraphAPIFieldUtils","MediaManagerAudioAssetTypeEnum","MediaManagerLoadingPromiseTypes","MediaManagerUtils","SoundCollectionConfig","SoundCollectionConstants","VideoComposerSoundEditorActions","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SoundCollectionConstants").TAB_TIME_DICT;a=function(a){b("VideoComposerStores").getSoundEditorStore(a).hasUnsavedDraftChanges()?b("VideoComposerSoundEditorActions").attemptCloseSoundEditor(a):b("VideoComposerSoundEditorActions").confirmCloseSoundEditor(a)};var h=function(){return["title","display_artist",b("GraphAPIFieldUtils").getFieldWithSubfields("artist_page",["picture.type(normal)",b("GraphAPIFieldUtils").getFieldWithSubfields("cover",["source"]),"about","fan_count","website","category","name","link","username","id"]),b("GraphAPIFieldUtils").getFieldWithSubfields("media_tags.limit(100)",["local_name","media_tag_type"]),"duration_in_ms","download_hd_url"]};c=function(a,c,d,f,i){__p&&__p();var j=i.lengthSelected,k=i.type,l=g[k]||{},m=null,n=null;j&&l[j]&&(m=l[j][0],n=l[j][1]);l={access_token:a,audio_type:k,fields:h(),title_or_artist:i.searchString,time_min:m,time_max:n,limit:b("SoundCollectionConfig").rowsPerPage,summary:["total_count"]};j=b("MediaManagerLoadingPromiseTypes").SOUND_COLLECTION_TRACKS;var o=null;switch(k){case b("MediaManagerAudioAssetTypeEnum").SOUND_TRACKS:l=babelHelpers["extends"]({},l,{genre:f.genre,mood:f.mood,vocal:f.vocal});j=b("MediaManagerLoadingPromiseTypes").SOUND_COLLECTION_TRACKS;o=new Error("Failed to get sound tracks data");break;case b("MediaManagerAudioAssetTypeEnum").SOUND_EFFECTS:l=babelHelpers["extends"]({},l,{sound_effects_category:f.category});j=b("MediaManagerLoadingPromiseTypes").SOUND_COLLECTION_EFFECTS;o=new Error("Failed to get sound effects data");break}return b("MediaManagerUtils").makeCancelablePromise(d,b("GraphAPI")("2.10",e.id).root("sound_collection").edge("audio_assets").get(l),j,c.bind(null,[],k),function(a){a={error:o,fbtrace:a.fbtrace_id};throw a},[])};d=function(a,b){if(a.startTimeInMs<b.startTimeInMs)return-1;return a.startTimeInMs>b.startTimeInMs?1:0};f=function(a,b){var c=[];b=b;while(b)c.push(String.fromCharCode(96+b%26)),b=Math.floor(b/26);c.push(a.toString());return c.reverse().join("")};e.exports={closeSoundEditor:a,compareSelectedTracks:d,getSoundCollectionTabQueryPromise:c,getTrackOrderLabel:f}}),null);
__d("VideoCaptionURL",["VideoCaption"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c,d){c=a.call(this,c,d)||this;c.$VideoCaptionURL1=b;return c}var c=b.prototype;c.getURL=function(){return this.$VideoCaptionURL1};return b}(b("VideoCaption"));e.exports=a}),null);
__d("VideoCaptionEditorURL",["VideoCaptionURL"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c,d,e){b=a.call(this,b,c,d)||this;b.$VideoCaptionEditorURL1=e;return b}var c=b.prototype;c.getPublishState=function(){return this.$VideoCaptionEditorURL1};c.setPublishState=function(a){this.$VideoCaptionEditorURL1=a};return b}(b("VideoCaptionURL"));e.exports=a}),null);
__d("VideoSubtitlesCaptionsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1777591518965546"};b.getQueryID=function(){return"1764678470258992"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("VideoSubtitlesDetailQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1464334463602332"};b.getQueryID=function(){return"1972054256453533"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("XVideoCaptionDeleteAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/captioneditor/delete/",{video_id:{type:"Int",required:!0},subtitle_id:{type:"Int",required:!0}})}),null);
__d("XVideoCaptionPublishedStateUpdateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/captioneditor/publishedstate/update/",{video_id:{type:"Int",required:!0},subtitles_id:{type:"Int",required:!0},new_published_state:{type:"Enum",required:!0,enumType:0}})}),null);
__d("XVideoCaptionSaveAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/captioneditor/save/",{caption_id:{type:"Int",required:!0},caption:{type:"String"},caption_changeset:{type:"String"},source_app_id:{type:"FBID"},locale:{type:"String"},placement:{type:"Enum",enumType:0}})}),null);
__d("XVideoComposerCaptionsTabBootloadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/captions_tab/bootload_params/",{})}),null);
__d("XVideoComposerCrosspostCaptionEditorTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/crosspost/caption_editor/",{video_asset_id:{type:"FBID",required:!0}})}),null);
__d("XVideoComposerEditCaptionsTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/edit/captions/",{video_id:{type:"FBID",required:!0}})}),null);
__d("VideoComposerDialogCaptionEditorUtils",["fbt","Promise","ActorURI","AsyncRequest","VideoCaptionEditorURL","VideoCaptionFile","VideoCaptionUtil","VideoComposerCaptionEditorActions","VideoComposerCaptionsTabActions","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorPublishStateEnum","VideoComposerDialogCaptionMode","VideoComposerDialogMode","VideoComposerStores","VideoSubtitlePublishedStatusType","VideoSubtitlesCaptionsQueryWebGraphQLQuery","VideoSubtitlesDetailQueryWebGraphQLQuery","VideoUploadUIError","WebGraphQL","XVideoCaptionDeleteAsyncController","XVideoCaptionPublishedStateUpdateController","XVideoCaptionSaveAsyncController","XVideoComposerCaptionsTabBootloadController","XVideoComposerCrosspostCaptionEditorTabController","XVideoComposerEditCaptionsTabController","immutable","moment.instagram","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var c=a.prototype;c.saveCaptionChangeset=function(a,c,d,e,f){if(!this.$1(c))return b("Promise").resolve();a=b("XVideoCaptionSaveAsyncController").getURIBuilder().setInt("caption_id",a).setString("locale",e).getURI();e=b("ActorURI").create(a,f);return new(b("AsyncRequest"))(e).setMethod("POST").setData({caption:JSON.stringify(c.toArray()),caption_changeset:JSON.stringify(d.toArray())}).exec()};c.$1=function(a){return a.size>=0};c.getTimeStamp=function(a){var c=Math.floor(a/1e3);c=c>=3599?"hh:mm:ss:SSS":"mm:ss:SS";return b("moment.instagram").utc(a).format(c)};c.getWidth=function(a,c){return a*b("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT*c};c.fetchCaptions=function(a,c,d){b("promiseDone")(b("WebGraphQL").exec(new(b("VideoSubtitlesCaptionsQueryWebGraphQLQuery"))({video_id:a})),c,d)};c.makeNewCaptionFile=function(a,c,d,e){if(a.size===0)return null;var f=a.filter(function(a){return a.node.text!==b("VideoComposerDialogCaptionEditorConstants").EMPTY_CAPTION_TEXT});if(f.size===0)return null;f=b("VideoCaptionUtil").saveToFile(a.toArray(),c,e);return f?new(b("VideoCaptionFile"))(f,c,d):null};c.finishCaptionsFetch=function(a,c,d){b("VideoComposerCaptionsTabActions").finishedFetchDrafts(a,b("immutable").List(c),d)};c.fetchCaptionedLocales=function(a,b,c,d){var e=this;if(!b)return;this.fetchCaptions(b,function(f){e.convertFetchToObject(a,b,c,f,d)})};c.convertFetchToObject=function(a,c,d,e,f){__p&&__p();var g=this,h=e&&e.video&&e.video.video_subtitles;if(h){var i=b("VideoComposerStores").getCaptionsStore(a).getState();h=e.video.video_subtitles;var j=new(b("immutable").List)(e.video.video_captions_locales),k=e.video.default_video_caption_locale,l=[];h.forEach(function(a,e){e={id:a.id,locale:a.locale,language:a.display_language,creationMethod:a.subtitle_creation_method,publishedState:a.published_state,isDefault:a.locale===k};if(d&&e.locale===b("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE)g.silentlyDeleteSubtitle(c,e,i.get("pageID"));else{l.push(e);a=j.indexOf(e.locale);a>=0&&(j=j.remove(a))}});f(l,j)}};c.fetchCaptionByID=function(a,c){if(!a)return;b("promiseDone")(b("WebGraphQL").exec(new(b("VideoSubtitlesDetailQueryWebGraphQLQuery"))({subtitles_id:a})),c)};c.findAutoGeneratedCaption=function(a,c){return a.find(function(a){return a.language===c&&a.creationMethod===b("VideoComposerDialogCaptionEditorConstants").AUTO_GENERATED})};c.findSRTUploadCaption=function(a,c){return a.find(function(a){return a.locale===c&&a.creationMethod===b("VideoComposerDialogCaptionEditorConstants").SRT_UPLOAD})};c.getCaptionErrorMessage=function(a,c){switch(a){case b("VideoUploadUIError").CAPTION_ERROR_WRONG_FORMAT:return g._("You uploaded a .SRT file with an incorrect file name. Please use this format: filename{suffix}",[g._param("suffix",".en_US.srt")]);case b("VideoUploadUIError").CAPTION_ERROR_DUPLICATE_LOCALE:return g._("You have already added a caption file for {language}. Please remove the older caption file before adding a new one.",[g._param("language",c)]);case b("VideoUploadUIError").CAPTION_ERROR_GENERATE_DUPLICATE_LOCALE:return g._("You have already added a caption file for {language}. Please remove the older caption file before auto-generating a new one.",[g._param("language",c)]);case b("VideoUploadUIError").CAPTION_ERROR_GENERATE_FAIL:return c==null?g._("The caption generation has failed."):g._("We're unable to auto-generate captions for {language}. You can still write them yourself or upload a file.",[g._param("language",c)]);case b("VideoUploadUIError").CAPTION_ERROR_CREATE_FAIL:return g._("The caption creation has failed.");case b("VideoUploadUIError").CAPTION_ERROR_DELETE_FAIL:return g._("The caption deletion has failed.");case b("VideoUploadUIError").AUTOGENERATE_FAIL_RETRY:return g._("The caption generation has failed. Retrying to generate.");default:return g._("There was an error uploading your caption file.")}};c.isAutoGenerateable=function(a,c,d,e){c=this.getHeadLocale(c);return b("VideoComposerStores").getCaptionsStore(a).getAutogeneratableHeadLocales().has(c)&&!this.isVideoTooLong(d)&&!e};c.isVideoTooLong=function(a){return a?a>=b("VideoComposerDialogCaptionEditorConstants").AUTO_GENERATION_MAX_DURATION_SUPPORTED_IN_SEC:!1};c.getHeadLocale=function(a){if(a.slice(3,5)!=="XX")return a;a=b("VideoComposerDialogCaptionEditorConstants").GENERAL_LOCALES_TO_HEAD.get(a);return a?a:""};c.areHeadLocalesEqual=function(a,b){return this.getHeadLocale(a)===this.getHeadLocale(b)};c.getGenericLocale=function(a){var c=b("VideoComposerDialogCaptionEditorConstants").HEAD_TO_GENERAL_LOCALES.get(a);return c?c:a};c.makeSRTCaptionPromises=function(a,c){__p&&__p();var d=this,e=[];a.forEach(function(a,f){e.push(new(b("Promise"))(function(b,e){e=d.findSRTUploadCaption(c,a.getLocale());var f=e!==-1;if(!f){b();return}d.srtSubtitleIDToSubtitles(e.id,e.locale,e.publishedState,!1,e.creationMethod,b)}))});return e};c.makeAllSRTCaptionPromises=function(a){var c=this,d=[];a.forEach(function(a){d.push(new(b("Promise"))(function(b,d){c.srtSubtitleIDToSubtitles(a.id,a.locale,a.publishedState,a.isDefault,a.creationMethod,b)}))});return d};c.srtSubtitleIDToSubtitles=function(a,b,c,d,e,f){this.fetchCaptionByID(a,function(g){var h=g&&g.video_subtitle&&g.video_subtitle.captions&&g.video_subtitle.captions.edges;if(h){h=g.video_subtitle.captions.edges;f({captions:h,locale:b,publishedState:c,subtitlesID:a,isDefault:d,creationMethod:e})}else f()})};c.shouldRetryAutoGeneration=function(a,c){a=a*b("VideoComposerDialogCaptionEditorConstants").GENERATION_RETRY_THRESHOLD.PCT/100;var d=b("VideoComposerDialogCaptionEditorConstants").GENERATION_RETRY_THRESHOLD.TIME_S;return c>Math.max(a,d)};c.deleteSubtitles=function(a,c,d,e,f,g){__p&&__p();var h=this;f=b("XVideoCaptionDeleteAsyncController").getURIBuilder().setInt("video_id",c).setInt("subtitle_id",d.id).getURI();c=b("ActorURI").create(f,e);new(b("AsyncRequest"))(c).setMethod("POST").setHandler(function(c){var d=c.payload;d&&d.success===!0&&d.error===""&&b("VideoComposerCaptionsTabActions").deleteSubtitlesSuccess(a);g(c)}).setErrorHandler(function(c){c=h.getCaptionErrorMessage(b("VideoUploadUIError").CAPTION_ERROR_DELETE_FAIL);b("VideoComposerCaptionsTabActions").updateErrorState(a,b("immutable").List([c]));b("VideoComposerCaptionsTabActions").deleteSubtitlesFailure(a)}).send()};c.silentlyDeleteSubtitle=function(a,c,d){a=b("XVideoCaptionDeleteAsyncController").getURIBuilder().setInt("video_id",a).setInt("subtitle_id",c.id).getURI();c=b("ActorURI").create(a,d);new(b("AsyncRequest"))(c).setMethod("POST").send()};c.beginBootloadingCaptionsTab=function(a,c){var d=b("XVideoComposerCaptionsTabBootloadController").getURIBuilder().getURI(),e=b("ActorURI").create(d,c);return new(b("Promise"))(function(c,d){new(b("AsyncRequest"))(e).setHandler(function(d){b("VideoComposerCaptionsTabActions").bootloadParametersCaptionsTab(a,d.payload),c(d)}).setErrorHandler(function(a){d(a)}).send()})};c.getUpdatedPublishState=function(a){if(a===b("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISHED||a===b("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING)return b("VideoComposerDialogCaptionEditorPublishStateEnum").DRAFT;else return b("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING};c.updateToChangesetValues=function(a,c){var d=a.toArray();for(var e=0;e<a.size;e++){var f=a.get(e),g=c.get(f.id);g!==void 0&&(f.publishedState=g,d[e]=f)}return b("immutable").List(d)};c.getPublishedStateForServer=function(a){switch(a){case b("VideoComposerDialogCaptionEditorPublishStateEnum").DRAFT:return b("VideoSubtitlePublishedStatusType")[a];default:return b("VideoSubtitlePublishedStatusType")[b("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISHED]}};c.updatePublishedStatesOnServer=function(a,c,d,e){__p&&__p();var f=this,g=!1;e.forEach(function(e,h){var i=b("VideoSubtitlePublishedStatusType")[e]!==void 0;if(!i)return;i=b("XVideoCaptionPublishedStateUpdateController").getURIBuilder().setInt("video_id",c).setInt("subtitles_id",h).setEnum("new_published_state",f.getPublishedStateForServer(e));h=i.getURI();e=b("ActorURI").create(h,String(d));new(b("AsyncRequest"))(e).setMethod("POST").setHandler(function(c){c=c.payload&&c.payload.success;c&&!g&&(b("VideoComposerCaptionsTabActions").changePublishedStatePendingToPublished(a),g=!0)}).send()})};c.changeAllPendingToPublished=function(a){var c=a.toArray();for(var d=0;d<a.size;d++)c[d]=this.changeOnePendingToPublished(a.get(d));return b("immutable").List(c)};c.changeOnePendingToPublished=function(a){var c=a.publishedState===b("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING;c&&(a.publishedState=b("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISHED);return a};c.subtitlesListToMap=function(a){var c=this,d={};a.forEach(function(a){var b=c.getHeadLocale(a.locale);d[b]=a});return b("immutable").Map(d)};c.getPublishedCaptionFiles=function(a,c){var d=this.subtitlesListToMap(c);return a.filter(function(a,c){a=d.get(c);return a&&a.publishedState!==b("VideoComposerDialogCaptionEditorPublishStateEnum").DRAFT})};c.getPublishedCaptionFilesForEdit=function(a,c){var d={},e=0;this.getPublishedCaptionFiles(a,c).forEach(function(a,b){a.getIsDefault()&&(d.default_captions_locale=b),d["captions_auto"+e]=a.getFile(),e++});return b("immutable").Map(d)};c.addLocaleAsPublishPending=function(a,c){return a.set(c,b("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING)};c.filterOutDeletions=function(a,c){var d=b("immutable").List();a.forEach(function(a){c.has(a.id)||(d=d.push(a))});return d};c.filterOutAutoGeneratedCaptions=function(a){return a.filter(function(a){return a.creationMethod!==b("VideoComposerDialogCaptionEditorConstants").AUTO_GENERATED})};c.fetchCrosspostData=function(a,c){var d=b("XVideoComposerCrosspostCaptionEditorTabController").getURIBuilder().setFBID("video_asset_id",c.videoAssetID).getURI(),e=b("ActorURI").create(d,c.common.actorID);return new(b("Promise"))(function(a,c){new(b("AsyncRequest"))(e).setHandler(function(b){a(b)}).setErrorHandler(function(a){c(a)}).send()}).then(function(c){b("VideoComposerCaptionEditorActions").fetchCrosspostParams(a,c.payload)})};c.fetchEditData=function(a,c){var d=b("XVideoComposerEditCaptionsTabController").getURIBuilder().setFBID("video_id",c.videoID).getURI(),e=b("ActorURI").create(d,c.common.actorID);return new(b("Promise"))(function(d,f){new(b("AsyncRequest"))(e).setHandler(function(e){e.payload.captionsFeaturesMode!==b("VideoComposerDialogCaptionMode").OLD_DATA_MODEL?b("VideoComposerStores").getCaptionsStore(a).initialize(b("VideoComposerStores").getCaptionsStore(a).getState(),null,c.videoID,c.common.accessToken,null,"",null,b("VideoComposerDialogMode").VIDEO_EDIT,!1):b("VideoComposerCaptionEditorActions").editParamsFetched(a,e.payload);return d()}).setErrorHandler(function(a){f(a)}).send()})};c.getOldCaptionsDataModelForEdit=function(a,c){__p&&__p();var d={},e=[],f=null;a.forEach(function(a,c){if(a instanceof b("VideoCaptionFile")){var e;c=a.getIsDefault()?"captions_default":a.getIsAutoGenerated()?"captions_auto"+c:"captions_file"+c;Object.assign(d,(e={},e[c]=a.getFile(),e))}a.getIsDefault()&&(f=a.getLocale())});f&&Object.assign(d,{default_captions_locale:f});c.forEach(function(a){e.push(a.getLocale())});e.forEach(function(a,b){var c;b="remove_caption["+b+"]";Object.assign(d,(c={},c[b]=a,c))});return d};c.getConvertedCaptionURLs=function(a){a=b("immutable").List(a).map(function(a){var c=new(b("VideoCaptionEditorURL"))(a.uri,a.locale,a.locale_name,b("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING);a.is_default&&c.setIsDefault(!0);a.is_auto_generated&&c.setIsAutoGenerated(!0);return c});return a};c.isLanguageDefaultOrEmpty=function(a){return a===b("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED||a===b("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE};c.isCaptionSubtitleDraftState=function(a,c){var d=this;c=c.filter(function(b){return b.locale===a.getLocale()||b.locale===d.getGenericLocale(a.getLocale())});return c.size>0&&c.first().publishedState===b("VideoComposerDialogCaptionEditorPublishStateEnum").DRAFT};return a}();e.exports=new a()}),null);
__d("getVideoPublishingDataFromStores",["ExpirationType","VideoComposerDialogMode","VideoComposerPostType","VideoComposerPublishingTypes","VideoComposerStores","VideoFundedContentFlagProgram","videoComposerGetPremiereDisabledReason"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("VideoComposerPostType").VideoComposerPostTypes,h=b("VideoComposerPublishingTypes").PublishingType;a=function(a,c,d,e,f){__p&&__p();c=b("VideoComposerStores").getBasicStore(a).getState();d=c.fundedContentProgram;e=c.hasFundedContentReviews;f=b("VideoComposerStores").getMetadataStore(a).getState();c=f.dialogMode;var i=f.minBackdateTime;f=f.showPremiereNowOption;var j=b("VideoComposerStores").getPremiereStore(a).getState(),k=j.canCreateMultiVideoPremiereLivingRoom,l=j.canCreateSingleVideoPremiereLivingRoom,m=j.canCreateSingleVideoScheduledPremiereLivingRoom,n=j.feedBackgroundImage,o=j.premiereCSType,p=j.premiereDate,q=j.shouldPremiere,r=j.shouldPremiereWithShowOrSeason,s=j.showPremiereUnderSchedule,t=j.showPremiereAudience;j=j.premiereAudience;var u=b("VideoComposerStores").getPublishingStore(a).getState(),v=u.backdateDay,w=u.backdateMonth,x=u.backdateYear,y=u.expireDate,z=u.expireType,A=u.hideFromNewsFeed,B=u.isComposerPostScheduleRedesign,C=u.scheduleDate,D=u.showBestPracticesChecklist;u=u.disabledScheduleTypesMap;var E=b("VideoComposerStores").getPublishingStore(a).getState();E=E.publishingType;var F=b("VideoComposerStores").getPublishingStore(a).getState(),G=F.postType;F=F.scheduleType;var H=!!(y&&y.getTime()),I=!!(C&&C.getTime());a=b("videoComposerGetPremiereDisabledReason")(a);(H||I)&&(E=h.SCHEDULE);v={dialogMode:c,backdateDay:v,backdateMonth:w,backdateYear:x,canCreateMultiVideoPremiereLivingRoom:k,canCreateSingleVideoPremiereLivingRoom:l,canCreateSingleVideoScheduledPremiereLivingRoom:m,disabledScheduleTypesMap:u,expireDate:H?y:null,expireType:z!==null&&z!==void 0?z:b("ExpirationType").NONE,isFundedContent:d===b("VideoFundedContentFlagProgram").IS_FUNDED_CONTENT,isUsingLivingRoomPlayer:G===g.VIDEO_UPLOAD_WATCH_PARTY,hasFundedContentReviews:e,publishingType:E,postType:G,minBackdateTime:i!==null&&i!==void 0?i:0,hideFromNewsFeed:A,premiereCSType:o,premiereDate:p,premiereFeedBackgroundImageURL:n!==void 0&&n!==null?URL.createObjectURL(n):null,scheduleDate:I?C:null,scheduleType:F,shouldPremiere:a===null&&q,showPremiereOption:c===b("VideoComposerDialogMode").VIDEO_UPLOAD,showPremiereNowOption:f&&c===b("VideoComposerDialogMode").VIDEO_UPLOAD,showPremiereUnderSchedule:s,showPremiereAudience:t,premiereAudience:j,showBestPracticesChecklist:D,shouldPremiereWithShowOrSeason:r,isComposerPostScheduleRedesign:B};a!==null&&(v.premiereDisabledReason=a);return v};e.exports=a}),null);
__d("XVideoComposerBootloadSphericalDirectorCrosspostTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/crosspost/bootload_spherical_director/",{video_asset_id:{type:"FBID",required:!0}})}),null);
__d("XVideoComposerBootloadSphericalDirectorEditTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/bootload_spherical_director_edit/",{video_id:{type:"FBID",required:!0}})}),null);
__d("XVideoComposerBootloadSphericalDirectorUploadTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/bootload_spherical_director_upload/",{target_id:{type:"FBID",required:!0},video_composer_id:{type:"String",defaultValue:""}})}),null);
__d("VideoComposerDialogSphericalDirectorUtils",["ActorURI","AsyncRequest","SphericalDirectorComponentSources","SphericalDirectorErrorUtils","VideoComposerDialogMode","VideoComposerSphericalDirectorActions","VideoComposerStores","XVideoComposerBootloadSphericalDirectorCrosspostTabController","XVideoComposerBootloadSphericalDirectorEditTabController","XVideoComposerBootloadSphericalDirectorUploadTabController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=15,h=200,i=1024*1024,j=8;a=function(a,c,d){a=b("XVideoComposerBootloadSphericalDirectorCrosspostTabController").getURIBuilder().setFBID("video_asset_id",d).getURI();d=b("ActorURI").create(a,c);return new(b("AsyncRequest"))(d).exec()};c=function(a,c,d){a=b("XVideoComposerBootloadSphericalDirectorEditTabController").getURIBuilder().setFBID("video_id",d).getURI();d=b("ActorURI").create(a,c);return new(b("AsyncRequest"))(d).exec()};d=function(a,c){a=b("XVideoComposerBootloadSphericalDirectorUploadTabController").getURIBuilder().setFBID("target_id",c).setString("video_composer_id",a).getURI();a=b("ActorURI").create(a,c);return new(b("AsyncRequest"))(a).exec()};f=function(a){switch(a){case b("VideoComposerDialogMode").VIDEO_UPLOAD:return b("SphericalDirectorComponentSources").PAGE_COMPOSER_V2;case b("VideoComposerDialogMode").VIDEO_EDIT:return b("SphericalDirectorComponentSources").EDIT_DIALOG_V2;case b("VideoComposerDialogMode").VIDEO_CROSSPOST:return b("SphericalDirectorComponentSources").CROSSPOST_DIALOG_V2;default:return b("SphericalDirectorComponentSources").UNKNOWN}};var k=function(a){__p&&__p();if(!b("VideoComposerStores").getSphericalDirectorStore(a).getSpherical())return!1;var c=b("VideoComposerStores").getUploadStore(a).getVideoSize();a=b("VideoComposerStores").getMetadataStore(a).getVideoDuration();if(typeof c==="number"&&c>g*1073741824){b("SphericalDirectorErrorUtils").showFileSizeTooLargeComposerDialog(g);return!0}if(typeof c==="number"&&typeof a==="number"&&c/a*j>h*i){b("SphericalDirectorErrorUtils").showBitrateTooHighDialog(h);return!0}return!1};e.exports={beginBootloadingSphericalDirectorCrosspostTab:a,beginBootloadingSphericalDirectorEditTab:c,beginBootloadingSphericalDirectorUploadTab:d,bootloadSphericalDirectorUploadTab:function(a){b("VideoComposerSphericalDirectorActions").bootloadUploadParameters(a.videoComposerID,a)},getComponentSourceFromDialogMode:f,maybeShowValidationError:k}}),null);
__d("XBrandedContentComposerInterceptController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/branded_content/composer/intercept/",{composer_post_text:{type:"String"},target_id:{type:"String"},sponsor_id:{type:"String"}})}),null);
__d("videoComposerDialogUploadDoPost",["Promise","ActorURI","AsyncRequest","ComposerPublisher","SharesheetDestination","VideoComposerActions","VideoComposerStores","XBrandedContentComposerInterceptController","promiseDone","videoComposerDialogUploadGetInvalidationReasons","videoComposerDialogUploadGetPostDataPromises","videoComposerDialogUploadSaveVideoInPagesComposer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){b("VideoComposerActions").createPageStoryAttempt(a);var d=b("VideoComposerStores").getBasicStore(a).getState().composerConfig,e=d?d.contextConfig:{};d=b("VideoComposerStores").getMetadataStore(a).getState();var f=d.videoID;return!f?b("Promise").resolve(!1):new(b("Promise"))(function(d,g){b("ComposerPublisher").publish(babelHelpers["extends"]({},e,{onPostSuccess:function(){b("VideoComposerActions").createPageStorySuccess(a),d(!0)},onPostFailure:function(c){b("VideoComposerActions").createPageStoryFailure(a,c.getErrorDescriptionString()),d(!1)}}),babelHelpers["extends"]({},c,{composer_session_id:e.composerID,composer_unpublished_photo:[f],is_also_posting_video_to_feed:!c.no_story,xhpc_targetid:e.actorID}),{type:b("SharesheetDestination").STORIES})})}function a(a,c,d,e){__p&&__p();e===void 0&&(e=!1);var f={};d=b("videoComposerDialogUploadGetPostDataPromises")(a,f,d);b("promiseDone")(b("Promise").all(d).then(function(){return h(c,f)}),function(d){__p&&__p();var h=b("videoComposerDialogUploadGetInvalidationReasons")(a,f);if(h.length!==0){b("VideoComposerActions").postRequestInvalid(a,f,h);return}if(d)i(a,f);else if(e)b("videoComposerDialogUploadSaveVideoInPagesComposer")(a,f);else{h=b("VideoComposerStores").getDistributionStore(a).shouldAddToPagesStory();d=b("Promise").resolve(!1);h&&(d=g(a,f));b("promiseDone")(d,function(){b("VideoComposerActions").sendingPostRequest(a),c.post(f),b("VideoComposerActions").postRequestSent(a,f)})}},function(c){b("VideoComposerActions").cancelUpload(a)})}function h(a,c){var d=c.composertags_sponsor[0];if(!d||c.draft||c.is_reviewable_branded_content)return b("Promise").resolve(!1);c=a.getUploadParameters().target_id;a=b("ActorURI").create(b("XBrandedContentComposerInterceptController").getURIBuilder().setString("target_id",c).setString("sponsor_id",d).getURI(),c);return new(b("AsyncRequest"))(a).exec().then(function(a){return a.getPayload()&&a.getPayload().shouldInterceptWhitelist},function(){return!1})}function i(a,c){b("VideoComposerActions").cancelUpload(a),c.scheduled?b("VideoComposerActions").showBrandedContentErrorDialog(a):b("VideoComposerActions").showReviewableBrandedContentConfirmation(a)}e.exports=a}),null);
__d("videoComposerDialogUploadGetInvalidationCheckers",["React","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";function a(a){return[].concat(b("VideoComposerStores").getPremiereStore(a).getInvalidationCheckers())}e.exports=a}),null);
__d("videoComposerDialogUploadGetInvalidationReasons",["React","videoComposerDialogUploadGetInvalidationCheckers"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("videoComposerDialogUploadGetInvalidationCheckers")(a).map(function(a){return a(c)}).filter(Boolean)}e.exports=a}),null);
__d("videoComposerDialogUploadGetPostDataPromises",["Promise","DateConsts","React","VideoComposerDialogTab","VideoComposerStores","VideoComposerTabs","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){__p&&__p();var e=[];for(var f=d,h=Array.isArray(f),i=0,f=h?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=f.length)break;j=f[i++]}else{i=f.next();if(i.done)break;j=i.value}j=j;e.push(b("VideoComposerTabs").get(j).getPostRequestDataToSend(a).then(function(a){Object.assign(c,a)}))}j=b("immutable").List([b("VideoComposerStores").getMetadataStore(a).getPostRequestDataToSend(),b("VideoComposerStores").getPublishingStore(a).getPostRequestDataToSend(),b("VideoComposerStores").getPremiereStore(a).getPostRequestDataToSend(),g(a)]);d.includes(b("VideoComposerDialogTab").DISTRIBUTION)||(j=j.push(b("VideoComposerTabs").get(b("VideoComposerDialogTab").DISTRIBUTION).getPostRequestDataToSend(a)));j.forEach(function(a){return e.push(a.then(function(a){Object.assign(c,a)}))});return e}function g(a){var c=b("VideoComposerStores").getTrimmingEditorStore(a).getVideoEditorConfigData();a=b("VideoComposerStores").getSoundEditorStore(a).getVideoEditorConfigData();var d={},e={};c&&(d.trim_before_start=c.trim_before_start,d.trim_after_end=c.trim_after_end);a&&(a.videoVolume!=null&&(d.video_volume=a.videoVolume),a.addedTracks!=null&&(d.audio_overlay_params=a.addedTracks.map(function(a){return{audio_asset_id:a.sourceId,audio_start_time:a.itemStartTimeInMs/b("DateConsts").MS_PER_SEC,audio_duration:(a.itemEndTimeInMs-a.itemStartTimeInMs)/b("DateConsts").MS_PER_SEC,audio_volume:a.itemVolume,video_start_time:a.startTimeInMs}}).toArray()));Object.keys(d).length!==0&&(e.video_editor_config_json=JSON.stringify(d));return b("Promise").resolve(e)}e.exports=a}),null);
__d("AdBreakCreatorNPSSurveyContent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CONTENT_V1:1})}),null);
__d("AdBreaksNPSEntryPoint",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({VIDEO_COMPOSER:"VIDEO_COMPOSER"})}),null);
__d("AdBreaksNPSEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({EXPOSURE:"EXPOSURE",RESPONSE:"RESPONSE",DISMISSAL:"DISMISSAL",ERROR:"ERROR"})}),null);
__d("NPSSurveyContent",["fbt"],(function(a,b,c,d,e,f,g){a={CONTENT_V1:{headerText:g._("Tell Us What You Think"),numberBarText:g._("How likely are you to recommend ad breaks to a friend or colleague who creates video content?"),freeformText:g._("Tell us more about your experience with ad breaks, including what you like or if there's anything we can improve."),thankYouHeaderText:g._("Your Feedback Makes a Difference"),thankYouBodyText:g._("We value your time and use your input to improve our products and services."),freeformPlaceholderText:g._("Please include detailed feedback and any relevant examples")}};e.exports={npsContent:a}}),null);
__d("NPSSurveyDialog.react",["cx","fbt","FDSButton.react","FDSCancelButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","FDSTextArea.react","FDSToggleButtonGroup.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=508;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={shown:!1,thankYouState:!1,numericScore:"",freeformResponse:"",scores:Array.from(Array(10).keys())},c.$1=function(){c.state.numericScore===""&&c.props.onDismiss(c.props.pageID),c.setState({shown:!1})},c.$2=function(){c.props.onSubmit(c.props.pageID,parseInt(c.state.numericScore,10),c.state.freeformResponse),c.setState({thankYouState:!0})},c.$3=function(a){c.setState({numericScore:a})},c.$4=function(a){c.setState({freeformResponse:a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.show=function(){this.setState({shown:!0})};d.render=function(){var a=b("React").createElement(b("FDSModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{label:h._("Submit"),isDisabled:this.state.numericScore==="",onClick:this.$2,use:"primary"}),secondaryButton:b("React").createElement(b("FDSCancelButton.react"),null)}),c=b("React").createElement(b("FDSModalHeader.react"),{title:this.props.headerText}),d=b("React").createElement(b("FDSSection.react"),null,this.props.numberBarText,b("React").createElement("div",{className:"_7qka"},b("React").createElement(b("FDSToggleButtonGroup.react"),{onChange:this.$3,value:this.state.numericScore,use:"primary"},this.state.scores.map(function(a){return b("React").createElement(b("FDSButton.react"),{label:h._("{selectable number}",[h._param("selectable number",a+1)]),size:"large",value:a})}))),b("React").createElement("div",{className:"_7qju"},b("React").createElement(b("FDSText.react"),{color:"primary",palette:"dark"},h._("Not at all likely")),b("React").createElement(b("FDSText.react"),{color:"primary",palette:"dark"},h._("Extremely likely"))),b("React").createElement(b("FDSTextArea.react"),{label:this.props.freeformText,onChange:this.$4,placeholder:this.props.freeformPlaceholderText,value:this.state.freeformResponse}));this.state.thankYouState&&(a=b("React").createElement(b("FDSModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{label:h._("Close"),onClick:this.$1,use:"primary"})}),c=b("React").createElement(b("FDSModalHeader.react"),{title:this.props.thankYouHeaderText}),d=b("React").createElement(b("FDSSection.react"),null,this.props.thankYouBodyText));return b("React").createElement(b("FDSModal.react"),{footer:a,header:c,isShown:this.state.shown,onHide:this.$1,width:i},d)};return c}(b("React").Component);e.exports=a}),null);
__d("XVideoCreatorNPSSurveyResponseController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video_creator/NPS/",{})}),null);
__d("AdBreaksNPSSurveyUtils",["AdBreakCreatorNPSSurveyContent","AdBreaksNPSEntryPoint","AdBreaksNPSEvent","AdBreaksNPSSurveyTypedLogger","AsyncRequest","DOM","NPSSurveyContent","NPSSurveyDialog.react","React","ReactDOM","XVideoCreatorNPSSurveyResponseController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("NPSSurveyContent").npsContent;function a(a){var c=b("React").createElement(b("NPSSurveyDialog.react"),{pageID:a,headerText:g.CONTENT_V1.headerText,numberBarText:g.CONTENT_V1.numberBarText,onSubmit:h,onDismiss:i,freeformText:g.CONTENT_V1.freeformText,thankYouHeaderText:g.CONTENT_V1.thankYouHeaderText,thankYouBodyText:g.CONTENT_V1.thankYouBodyText,freeformPlaceholderText:g.CONTENT_V1.freeformPlaceholderText});c=b("ReactDOM").render(c,b("DOM").create("div"));c.show();new(b("AdBreaksNPSSurveyTypedLogger"))().setEntryPoint(b("AdBreaksNPSEntryPoint").VIDEO_COMPOSER).setEvent(b("AdBreaksNPSEvent").EXPOSURE).setPageID(a).log()}function h(a,c,d){var e=b("XVideoCreatorNPSSurveyResponseController").getURIBuilder().getURI();new(b("AsyncRequest"))(e).setData({was_dismissed:!1,page_id:a,score:c,written_response:d,content_version:b("AdBreakCreatorNPSSurveyContent").CONTENT_V1}).setErrorHandler(function(c){new(b("AdBreaksNPSSurveyTypedLogger"))().setEntryPoint(b("AdBreaksNPSEntryPoint").VIDEO_COMPOSER).setEvent(b("AdBreaksNPSEvent").ERROR).setPageID(a).log()}).send();new(b("AdBreaksNPSSurveyTypedLogger"))().setEntryPoint(b("AdBreaksNPSEntryPoint").VIDEO_COMPOSER).setEvent(b("AdBreaksNPSEvent").RESPONSE).setPageID(a).setScore(c).setWrittenResponse(d).log()}function i(a){var c=b("XVideoCreatorNPSSurveyResponseController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setData({was_dismissed:!0,page_id:a,content_version:b("AdBreakCreatorNPSSurveyContent").CONTENT_V1}).setErrorHandler(function(c){new(b("AdBreaksNPSSurveyTypedLogger"))().setEntryPoint(b("AdBreaksNPSEntryPoint").VIDEO_COMPOSER).setEvent(b("AdBreaksNPSEvent").ERROR).setPageID(a).log()}).send();new(b("AdBreaksNPSSurveyTypedLogger"))().setEntryPoint(b("AdBreaksNPSEntryPoint").VIDEO_COMPOSER).setEvent(b("AdBreaksNPSEvent").DISMISSAL).setPageID(a).log()}e.exports={renderAdBreaksNPSSurveyV1:a}}),null);
__d("videoComposerDialogUploadPostFinished",["AdBreaksNPSSurveyUtils","Arbiter","React","SimpleNUXMessage","SimpleNUXMessageTypes","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdBreaksNPSSurveyUtils").renderAdBreaksNPSSurveyV1;function a(a,c,d){__p&&__p();var e=c.premiere_destination_video_id?c.premiere_destination_video_id:c.video_id,f=b("VideoComposerStores").getMetadataStore(a).getState(),h=f.actorID,i=f.profileDisplayName;f=f.profilePictureURI;b("Arbiter").inform("videoUpload/complete",{videoID:e,containerType:c.video_container,copyrighted:c.copyrighted,videoAssetID:c.video_asset_id,videoTitle:c.video_title,videoDescription:c.xhpc_message||c.xhpc_message_text,videoThumbnailBlob:c.thumb,isScheduledPost:!!c.scheduled,isHiddenFromTimeline:c.no_story,isSecret:c.secret,isDraft:c.draft=="true",isPageToPage:!0,isPremiere:c.should_premiere,isPremiereLivingRoom:!!((e=c.premiere_in_living_room_video_ids)==null?void 0:e.length),originalComposerID:d,pageID:h,premiereTimeMs:c.premiere_time_ms,isEpisode:c.episode_data_json!==null&&c.episode_data_json!==void 0&&JSON.parse(c.episode_data_json).isEpisode,userDisplayName:i,userProfilePictureURI:f});b("Arbiter").inform("videoUpload/"+d+"/done");b("Arbiter").inform("Pages/composeFinished",{composerID:d});e=b("VideoComposerStores").getAdBreakStore(a).getState();c=e.adBreaksDisabled;i=e.insertedAdBreaks;f=e.isAdBreakAutoInsertionEnabled;d=e.isNPSEligible;d&&!c&&h!=null&&(f||!i.isEmpty())&&!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").AD_BREAKS_NPS)&&g(h)}e.exports=a}),null);
__d("videoComposerDialogUploadValidateAction",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=[].concat(b);var c=b.map(function(b){if(a[b]===void 0)throw new Error("Action missing field: "+b);return a[b]});return b.length===1?c[0]:c}e.exports=a}),null);
__d("videoComposerDialogUploadSaveVideoInPagesComposer",["PhotosUploadID","ReactComposerAudienceActions","ReactComposerMediaUploadActions","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerStatusActions","VideoComposerActions","VideoComposerStores","videoComposerDialogUploadValidateAction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){__p&&__p();b("VideoComposerActions").savePostDataForPagesComposer(a,c);c=b("VideoComposerStores").getMetadataStore(a).getState();c=c.videoID;if(!c)return;var d=b("VideoComposerStores").getUploadStore(a).fetchUploadDataForMediaStore();d=b("videoComposerDialogUploadValidateAction")(d,["composerID","videoFile","videoMetadata"]);var e=d[0],f=d[1];d=d[2];var g=b("ReactComposerMediaUploadStore").getUploads(e);b("ReactComposerMediaUploadActions").removeAllPhotoUploads(e,g);f.uploadID=b("PhotosUploadID").getNewID();b("ReactComposerAudienceActions").setStoriesSelected(e,b("VideoComposerStores").getDistributionStore(a).shouldAddToPagesStory());b("ReactComposerMediaUploadActions").saveVideoInPagesComposer(e,c,f.uploadID,f.name,d,0,b("ReactComposerMediaUploadType").VIDEO,URL.createObjectURL(f));b("VideoComposerActions").minimizeDialog(a);g=b("VideoComposerStores").getBasicStore(a).getState();c=g.descriptionEditorState;b("ReactComposerStatusActions").setEditorState(e,c)}e.exports=a}),null);
__d("videoComposerGetPremiereDisabledReason",["fbt","VideoComposerDialogMode","VideoComposerStores"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=b("VideoComposerStores").getMetadataStore(a).getState(),d=c.dialogMode;c=c.isSpherical;var e=b("VideoComposerStores").getSphericalDirectorStore(a).getSpherical();if(d===b("VideoComposerDialogMode").VIDEO_UPLOAD&&(c||e))return g._("360 videos are not supported as premieres.");return b("VideoComposerStores").getTrimmingEditorStore(a).isVideoTrimmed()?g._("Premieres are disabled for trimmed videos."):null};e.exports=a}),null);
__d("videoComposerValidatePublishAction",["fbt","VideoComposerActions","VideoComposerDialogConstants","VideoComposerDialogSphericalDirectorUtils","VideoComposerDialogUtils","VideoComposerPublishingTypes","VideoComposerStores"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("VideoComposerPublishingTypes").PublishActions,i=g._("Missing Title"),j=g._("To save your video, select a video type"),k=g._("To publish your video, select a video type"),l=g._("To save as draft, select a video type"),m=g._("To submit for review, select a video type"),n=g._("To save your video, give it a title"),o=g._("To publish your video, give it a title"),p=g._("To save as draft, give it a title"),q=g._("To submit for review, give it a title"),r=g._("Premieres must be distributed in news feed"),s=g._("To create a premiere, select \"News Feed\" in the Distribution tab");a=function(a,c,d,e,f,g,t,u){__p&&__p();var v,w;switch(c){case h.BACKDATE:case h.OPEN_DRAWER:case h.PUBLISH_NOW:case h.PREMIERE:case h.PREVIEW:case h.SCHEDULE:v=k;w=o;break;case h.SAVE_DRAFT:v=l;w=p;break;case h.SAVE_TO_COMPOSER:v=j;w=n;break;case h.AD_BREAK_SUBMIT_FOR_REVIEW:v=m;w=q;break;case h.CANCEL:u();return;default:throw new Error("New footer action type not handled here!")}if(d.trim()===""){b("VideoComposerActions").highlightTitleWithErrorTooltip(a,i,w);return}if(b("VideoComposerDialogUtils").byteLength(d.trim())>b("VideoComposerDialogConstants").MAX_TITLE_LENGTH){b("VideoComposerActions").highlightTitleTooLong(a);return}if(e){b("VideoComposerActions").highlightMissingVideoType(a,v);return}if(c===h.PREMIERE&&!f){b("VideoComposerActions").highlightTitleWithErrorTooltip(a,r,s);return}d=b("VideoComposerStores").getBasicStore(a).getMissingFundedContentProgramText(c);if(d!==null&&d!==void 0){t(d);return}if(c===h.PREMIERE&&b("VideoComposerStores").getPremiereStore(a).premieresVideoDurationIsInvalid(g)){b("VideoComposerActions").highlightPremiereVideoDurationIsInvalid(a);return}e=b("VideoComposerDialogSphericalDirectorUtils").maybeShowValidationError(a);if(e)return;u()};e.exports=a}),null);
__d("VideoComponentSphericalVideoSpatialAudioController.react",["Bootloader","React","SphericalDirectorSpatialAudioUtils","VideoComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.enable=function(a){if(!b("SphericalDirectorSpatialAudioUtils").getShouldUseSpatialAudioController())return;b("Bootloader").loadModules(["SphericalVideoSpatialAudioController"],function(c){var d=b("SphericalDirectorSpatialAudioUtils").getBufferParams(),e=b("SphericalDirectorSpatialAudioUtils").getCanUseSpatialAudio(),f=b("SphericalDirectorSpatialAudioUtils").getFocusEnabled(),g=b("SphericalDirectorSpatialAudioUtils").getOffFocusLevelDB(),h=b("SphericalDirectorSpatialAudioUtils").getFocusWidth(),i=b("SphericalDirectorSpatialAudioUtils").getUseWebAudioImplementation(),j=b("SphericalDirectorSpatialAudioUtils").getRemapChannelsForSevenPointOne(),k=b("SphericalDirectorSpatialAudioUtils").getUseNewAudio360Renderer(),l=!0,m=b("SphericalDirectorSpatialAudioUtils").getAudioChannelLayout();c=new c(d,e,f,g,h,i,j,k,l,m);c.enable(a)},"VideoComponentSphericalVideoSpatialAudioController.react")};d.disable=function(){};d.render=function(){return null};return c}(b("React").Component);e.exports=b("VideoComponent").createContainer(a)}),null);
__d("SphericalDirectorVideoGuideThumbnailsLoader",["DOM","SphericalDirectorVideoLoader","SphericalVideoPlayerEvents","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("immutable").List;var g=1e3,h=100;a=function(){__p&&__p();function a(a,b,c,d,e){__p&&__p();var f=this;this.$8=function(a){__p&&__p();var b=!1;f.$6||(f.$6=a,b=!0);var c=f.$3;if(c.size===0){f.$7=null;return}var d=1;a.setDimensions(h*d,h);var e=0,i=a.addListener("seekEnd",function(){__p&&__p();var b=c.get(e);a.setSphericalOrientation(b.yaw,b.pitch);var d=a.getOption("SphericalVideoPlayer","getScreenshotDataURL");if(a.getCurrentTimePosition()===0){a.seek(1/g);return}c=c.update(e,function(a){return a.set("thumbnailURI",d)});f.$5(c);e++;e<c.size?a.seek(c.get(e).timestamp/g):(i.remove(),f.$7=null)});b?a.once("updateMetadata",function(){a.seek(c.first().timestamp/g)}):a.seek(c.first().timestamp/g)};this.$1=a;this.$2=b;this.$3=d;this.$4=c;this.$5=e;this.$7=null;this.$6=null}var c=a.prototype;c.setKeyframes=function(a){this.$3=a;return this};c.setProjection=function(a){this.$6?this.$6.emit(b("SphericalVideoPlayerEvents").SET_VIDEO_PROJECTION,a):this.$4.projection=a;return this};c.setStereoMode=function(a){this.$6?this.$6.emit(b("SphericalVideoPlayerEvents").SET_STEREO_MODE,a):this.$4.stereoFormat=a;return this};c.reloadThumbnails=function(){var a=this;this.$7&&clearTimeout(this.$7);this.$7=setTimeout(function(){if(a.$6)a.$8(a.$6);else{var c=b("DOM").create("div"),d=b("DOM").create("video",{crossOrigin:"anonymous"});b("DOM").appendContent(c,d);b("SphericalDirectorVideoLoader").load(a.$1,a.$2,babelHelpers["extends"]({},a.$4,{root:c,video:d,onSuccess:a.$8,onError:function(){},autoplay:!1}))}})};c.destroy=function(){this.$6&&this.$6.destroy()};return a}();e.exports=a}),null);
__d("SphericalDirectorVideoLoader",["cx","invariant","AsyncRequest","Bootloader","SphericalDirectorSpatialAudioUtils","SphericalVideoPlayer","VideoData","VideoPlayerController","VideoPlayerHTML5Api","VideoProjection","XVideoDataController"],(function(a,b,c,d,e,f,g,h){__p&&__p();a.URL=a.URL||a.webkitURL;var i=function(b){if(b&&a.URL&&a.URL.createObjectURL)return a.URL.createObjectURL(b);else return null};c=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.load=function(a,c,d){__p&&__p();var e=this;a||c||h(0,17053);if(c){var f=b("XVideoDataController").getURIBuilder().setString("video_id",c).setEnum("preferred_projection",b("VideoProjection").CUBEMAP).getURI();new(b("AsyncRequest"))().setMethod("GET").setURI(f).setReadOnly(!0).setOption("suppressEvaluation",!0).setAllowCrossPageTransition(!0).setHandler(function(a){a=new(b("VideoData"))(JSON.parse(a.payload.responseText));e.$1(a,d)}).setErrorHandler(d.onError).send()}else if(a){f=i(a);if(!f){d.onError();return}this.$2(babelHelpers["extends"]({videoID:c,videoUrl:f},d))}};c.$1=function(a,c){var d=a.hasHD()?a.getPlayableSrcHD():a.getPlayableSrcSD();if(!d){c.onError();return}this.$2(babelHelpers["extends"]({},c,{projection:a.getProjection()||b("VideoProjection").EQUIRECTANGULAR,videoID:a.getVideoID(),videoUrl:d}))};c.loadWithVideoData=function(a,b){this.$1(a,b)};c.$2=function(a){var c=a.video;b("SphericalDirectorSpatialAudioUtils").getShouldUseSpatialAudioController()?b("Bootloader").loadModules(["SphericalVideoSpatialAudioController"],function(d){var e=b("SphericalDirectorSpatialAudioUtils").getBufferParams(),f=b("SphericalDirectorSpatialAudioUtils").getCanUseSpatialAudio(),g=b("SphericalDirectorSpatialAudioUtils").getFocusEnabled(),h=b("SphericalDirectorSpatialAudioUtils").getOffFocusLevelDB(),i=b("SphericalDirectorSpatialAudioUtils").getFocusWidth(),j=b("SphericalDirectorSpatialAudioUtils").getUseWebAudioImplementation(),k=b("SphericalDirectorSpatialAudioUtils").getRemapChannelsForSevenPointOne(),l=b("SphericalDirectorSpatialAudioUtils").getUseNewAudio360Renderer(),m=!0,n=b("SphericalDirectorSpatialAudioUtils").getAudioChannelLayout();d=new d(e,f,g,h,i,j,k,l,m,n);c.setAttribute("src",a.videoUrl);this.$3(a,d)}.bind(this),"SphericalDirectorVideoLoader"):(c.setAttribute("src",a.videoUrl),this.$3(a,null))};c.$3=function(a,c){var d={initialHeading:a.initialHeading,initialPitch:a.initialPitch,fieldOfView:a.fieldOfView,projectionType:a.projection,stereoFormat:a.stereoFormat,expansionCoef:1.01},e={viewportClassName:"_3ehi",videoID:a.videoID||"",eagerPreload:!0,preventScrollDefaultAction:!0,useViewportDimension:!0};d=[new(b("SphericalVideoPlayer"))(d,e)];c&&d.push(c);e=new(b("VideoPlayerController"))({apiModule:b("VideoPlayerHTML5Api"),apiConfig:{disableNativeControls:null,VideoPlayerHTML5Shaka:null,subtitlesActive:null,videoData:[{hd_src:a.videoUrl,sd_src:a.videoUrl,stream_type:"progressive"}]},disableLogging:!0,should_autoplay:a.autoplay,components:d},{root_element:a.root,container_element:a.root,video_element:a.video});e.getOption("SphericalVideoPlayer","isReady")?a.onSuccess(e):e.getOption("SphericalVideoPlayer","isUnavailable")&&a.onError()};return a}();e.exports=new c()}),null);
__d("SphericalDirectorGuideButton.react",["cx","Image.react","React","ShimButton.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("ShimButton.react"),{className:b("joinClasses")(this.props.className,"_350u"),onClick:this.props.onClick},b("React").createElement(b("Image.react"),{className:"_3513",src:this.props.thumbnail}))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("SphericalDirectorGuidePointCarouselItem.react",["cx","Image.react","React","ShimButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=1e3,i=60,j=60,k=j*i*h,l=i*h,m=function(a){a=Math.ceil(a/h)*h;var b=Math.floor(a/k),c=Math.floor(a/l)%j;a=Math.floor(a/h)%i;var d=b>0?""+b:"";b=b>0?":"+(c<10?"0":"")+c:""+c;c=":"+(a<10?"0":"")+a;return d+b+c};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=this.props,d=c.isSelected,e=c.thumbnailURI,f=c.timestamp,g=c.isEditingKeyframe;c=c.isSelectedForDeletion;var h;f===0?h=null:c?h=b("React").createElement("div",{className:"_2kd6"}):h=b("React").createElement("div",{className:"_6aam"});c=this.props.isLargeHeight?100:76;g=e?b("React").createElement(b("Image.react"),{className:d&&g?"_2kd7":"",width:c,height:c,src:e}):b("React").createElement("div",{className:"_2a8v"});return b("React").createElement(b("ShimButton.react"),{className:"_2a8w"+(d?" _2a8x":"")+(this.props.timestamp===0?" _2a8y":""),onClick:function(b){return a.$1(b)}},g,b("React").createElement("div",{className:"_2a8z"},m(f)),h)};d.$1=function(a){a.preventDefault(),this.props.timestamp!==0&&this.props.onSelectForDeletion()};return c}(b("React").PureComponent);e.exports=a}),null);
__d("SphericalDirectorGuidePointCarousel.react",["ix","cx","Image.react","Locale","React","ShimButton.react","SphericalDirectorGuidePointCarouselItem.react","fbglyph"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=8,j=80,k=6,l=100,m=15,n=32,o=16;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.state={itemOffsetIndex:0,justifyRight:!1};c.$1=i;c.$2=j;b.isLargeHeight&&(c.$1=k,c.$2=l);return c}var d=c.prototype;d.$3=function(a){var b=this;return function(){b.setState({itemOffsetIndex:b.state.itemOffsetIndex+a,justifyRight:a>0})}};d.$4=function(a,b,c){a===c-this.$1?this.setState({itemOffsetIndex:Math.max(a,0),justifyRight:!0}):a<b?this.setState({itemOffsetIndex:Math.max(a,0),justifyRight:!1}):a>b+this.$1-1&&this.setState({itemOffsetIndex:Math.min(a-this.$1+1,c-1),justifyRight:!0})};d.UNSAFE_componentWillReceiveProps=function(a){__p&&__p();var b=this.state.itemOffsetIndex,c=a.items,d=this.props.items,e=c.size;if(e>=d.size){d=d.findIndex(function(a){return a.isSelected});c=c.findIndex(function(a){return a.isSelected});c>=0&&c!==d&&this.$4(c,b,e)}else e<this.props.items.size&&(b>a.items.size-this.$1?this.$4(e-this.$1,b,e):e<this.$1&&this.$4(0,b,e));a.isLargeHeight!==this.props.isLargeHeight&&(this.$1=a.isLargeHeight?k:i,this.$2=a.isLargeHeight?l:j,this.$4(0,b,e))};d.render=function(){__p&&__p();var a=this,c=this.props.items,d=this.state,e=d.itemOffsetIndex;d=d.justifyRight;c=c.map(function(c,d){var e=c.thumbnailURI,f=c.timestamp,g=c.isSelected;c=c.isSelectedForDeletion;return b("React").createElement(b("SphericalDirectorGuidePointCarouselItem.react"),{isSelected:g,isSelectedForDeletion:c,thumbnailURI:e,timestamp:f,key:d,isLargeHeight:a.props.isLargeHeight,onSelectForDeletion:function(){return a.props.onItemSelectedForDeletion(f)},isEditingKeyframe:a.props.isEditingKeyframe})});var f=c.size,h=f>this.$1,i,j,k,l;k=g("124201");l=g("124211");if(b("Locale").isRTL()){var p=[l,k];k=p[0];l=p[1]}p=0;h&&(e>0&&(p++,i=b("React").createElement(b("ShimButton.react"),{className:"_378v",onClick:this.$3(-1)},b("React").createElement("div",{className:"_378w"},b("React").createElement(b("Image.react"),{src:k})))),e<f-this.$1&&(p++,j=b("React").createElement(b("ShimButton.react"),{className:"_378v",onClick:this.$3(1)},b("React").createElement("div",{className:"_378w"},b("React").createElement(b("Image.react"),{src:l})))));h=e*this.$2;p>0&&(h+=h>0?d?n:m:0);p>1&&(h+=d?o:0);h*=b("Locale").isRTL()?1:-1;return b("React").createElement("div",{className:"_37bw"+(this.props.isLargeHeight?" _37bx":"")},i,b("React").createElement("div",{className:"_37by"+(p===1?" _37bz":"")+(p===2?" _37b-":"")},b("React").createElement("div",{className:"_37b_",style:{transform:"translateX("+h+"px)"}},c.toJS())),j)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("SphericalDirectorGuideSection.react",["ix","cx","React","SphericalDirectorGuideButton.react","SphericalDirectorGuidePointCarousel.react","XUICardSection.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(a){if(c.$1()<1)return;a.preventDefault();c.props.onGuidePointsRemoved()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.keyframes,c=this.$1();return b("React").createElement("div",{className:"_6abb"},b("React").createElement(b("XUICardSection.react"),{className:"_6abc"},b("React").createElement("div",{className:"_6abd"},b("React").createElement(b("SphericalDirectorGuidePointCarousel.react"),{isEditingKeyframe:this.props.isEditingKeyframe,items:a,isLargeHeight:this.props.isLargeHeight,onItemSelectedForDeletion:this.props.onToggleGuideKeyframeForDeletion}),b("React").createElement(b("SphericalDirectorGuideButton.react"),{className:"_6abe"+(c<1?" _6abf":""),thumbnail:c<1?g("396629"):g("402967"),onClick:this.$2}))))};d.$1=function(){return this.props.keyframes.reduce(function(a,b){return a+(b.isSelectedForDeletion?1:0)},0)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("SphericalDirector.react",["cx","Event","React","SimpleXUIDialog","SphericalDirectorGuideSection.react","SphericalDirectorMetadataUtils","SphericalDirectorVideo.react","SubscriptionsHandler","Vector","VideoComposerHeightConfig","throttle"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isLargeHeight:!1},d.setIsLargeHeight=function(){var a=b("Vector").getViewportDimensions().y;a>=b("VideoComposerHeightConfig").LARGE_HEIGHT+b("VideoComposerHeightConfig").DIALOG_VERTICAL_MARGIN?d.setState({isLargeHeight:!0}):d.setState({isLargeHeight:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(){if(this.props.errorMessageText){var a=this.props.errorMessageConfirmOnly?b("SimpleXUIDialog").show.bind(b("SimpleXUIDialog")):b("SimpleXUIDialog").showConfirm.bind(b("SimpleXUIDialog"));a(this.props.errorMessageText,this.props.errorMessageTitle,this.props.onAcceptErrorMessage);this.props.onClearErrorMessage()}};d.componentDidMount=function(){this.setState(this.setIsLargeHeight),this.$1=new(b("SubscriptionsHandler"))(),this.$1.addSubscriptions(b("Event").listen(window,"resize",b("throttle")(this.setIsLargeHeight)))};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.render=function(){var a=b("SphericalDirectorMetadataUtils").isV1(this.props.componentSource);return b("React").createElement("div",{className:"_6aa-"+(this.props.shown?"":" _2oq6")+(a?" _3yp3":"")+(this.state.isLargeHeight?" _3yp4":"")},b("React").createElement("div",{className:"_3yp5"+(a?" _3yp3":"")},b("React").createElement(b("SphericalDirectorVideo.react"),{fov:this.props.fov,guideEnabled:this.props.guideEnabled,guideVisible:this.props.guideVisible,isEditingKeyframe:this.props.isEditingKeyframe,isLargeHeight:this.state.isLargeHeight,keyframes:this.props.keyframes,onFOVUpdate:this.props.onFOVUpdate,onGuideVisibilityUpdate:this.props.onGuideVisibilityUpdate,onLoadVideoError:this.props.onLoadVideoError,onLoadVideoSuccess:this.props.onLoadVideoSuccess,onGuidePointAdded:this.props.onGuidePointAdded,onGuidePointSaved:this.props.onGuidePointSaved,onGuidePointsCleared:this.props.onGuidePointsCleared,onGuidePointRemoved:this.props.onGuidePointRemoved,onGuidePointsRemoved:this.props.onGuidePointsRemoved,onViewportUpdate:this.props.onViewportUpdate,onProjectionSelected:this.props.onProjectionSelected,onStereoModeSelected:this.props.onStereoModeSelected,pitch:this.props.pitch,shouldLoadVideo:this.props.shouldLoadVideo,toggleGuidePointEdit:this.props.toggleGuidePointEdit,updateActiveGuideKeyframe:this.props.updateActiveGuideKeyframe,videoFile:this.props.videoFile,videoID:this.props.videoID,videoLoading:this.props.videoLoading,videoUnavailable:this.props.videoUnavailable,yaw:this.props.yaw,allowOmnistabToggle:this.props.allowOmnistabToggle,omnistabEnabled:this.props.omnistabEnabled,showOmnistabSection:this.props.showOmnistabSection,onToggleEnableOmnistab:this.props.onToggleEnableOmnistab,projection:this.props.projection,stereoMode:this.props.stereoMode,hasSpatialAudio:this.props.hasSpatialAudio,isEditing:this.props.isEditing,componentSource:this.props.componentSource,onToggleMobilePreview:this.props.onToggleMobilePreview,isMobilePreview:this.props.isMobilePreview}),b("React").createElement(b("SphericalDirectorGuideSection.react"),{fov:this.props.fov,isEditingKeyframe:this.props.isEditingKeyframe,keyframes:this.props.keyframes,isLargeHeight:this.state.isLargeHeight,pitch:this.props.pitch,yaw:this.props.yaw,onGuidePointsRemoved:this.props.onGuidePointsRemoved,onToggleGuideKeyframeForDeletion:this.props.onToggleGuideKeyframeForDeletion})))};return c}(b("React").Component);e.exports=a}),null);
__d("VideoUploadSphericalControlsAction",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CREATE_THUMBNAIL:"create_thumbnail",DRAG_VIDEO_PREVIEW:"drag_video_preview",SCROLL_VIDEO_PREVIEW:"scroll_video_preview",RESET:"reset",CHANGE_VIEWPORT:"change_viewport",CHANGE_FOV:"change_fov",TOGGLE_DIRECTORS_CUT:"toggle_directors_cut",ADD_POINT_OF_INTEREST:"add_point_of_interest",REMOVE_POINT_OF_INTEREST:"remove_point_of_interest",EDIT_POINT_OF_INTEREST:"edit_point_of_interest",CLEAR_POINTS_OF_INTEREST:"clear_points_of_interest",SEARCH_POINT_OF_INTEREST:"search_point_of_interest",TAB_IMPRESSION:"tab_impression",SAVE_EDITS:"save_edits",UPLOAD:"upload"})}),null);
__d("cropDataURLToDimension",["DOM"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e=b("DOM").create("canvas",{width:d.width,height:d.height}),f=e.getContext("2d");f.drawImage(a,c.x,c.y,d.width,d.height,0,0,d.width,d.height);return e.toDataURL()}e.exports=a}),null);
__d("SphericalDirectorContainer.react",["DOM","FluxContainer","FunnelLogger","React","SphericalDirector.react","SphericalDirectorAction","SphericalDirectorFunnelConstants","SphericalDirectorFunnelUtils","SphericalDirectorGuideKeyframeData","SphericalDirectorMetadataUtils","SphericalDirectorStore","SphericalDirectorVideoGuideThumbnailsLoader","VideoStereoFormat","VideoUploadSphericalControlsAction","VideoUploadSphericalLogger","cropDataURLToDimension","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").List,h=1;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=!1,d.$2=null,d.$9=function(a){d.$16(d.state.yaw,a)},d.$17=function(a){d.$16(a,d.state.pitch)},d.$10=function(a,c,e,f){f=f();if(f)var g=b("DOM").create("img",{src:f,onload:function(){var i=g.width,j=g.height;i=(i-h*j)/2;f=b("cropDataURLToDimension")(g,{x:i,y:0},{width:j*h,height:j});d.$24(a,c,e,f)}});else d.$24(a,c,e)},d.$14=function(a){b("SphericalDirectorAction").updateEnableOmnistab(!d.state.enableOmnistab)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("SphericalDirectorStore")]};c.calculateState=function(){var a=b("SphericalDirectorStore").getState(),c=a.currentViewport,d=a.fov,e=a.unavailable,f=a.controller,g=a.enableOmnistab,h=a.guideVisible,i=a.guideKeyframes,j=a.isEditingGuidePoint,k=a.visible,l=a.errorInfo,m=a.originalSphericalMetadata,n=a.projection,o=a.stereoMode,p=a.hasSpatialAudio;a=a.isMobilePreview;var q=c.pitch;c=c.yaw;f=!f&&!e;l=l||{};k=k&&f;return{pitch:q,yaw:c,fov:d,projection:n,stereoMode:o,hasSpatialAudio:p,videoLoading:f,videoUnavailable:e,enableOmnistab:g,guideVisible:h,keyframes:i,errorMessageText:l.text,errorMessageTitle:l.title,errorMessageConfirmOnly:l.confirmOnly,errorMessageCallback:l.callback,isEditingKeyframe:j,shouldLoadVideo:k,sphericalMetadata:m,isMobilePreview:a}};var d=c.prototype;d.UNSAFE_componentWillMount=function(){b("SphericalDirectorAction").resetVideoPlayerController();this.props.showOmnistabSection||b("SphericalDirectorAction").updateEnableOmnistab(!1);this.props.startVisible&&b("SphericalDirectorAction").updateTabVisibility(this.props.shown);var a=b("SphericalDirectorStore").getState(),c=a.currentViewport;a=a.fov;b("VideoUploadSphericalLogger").setIsRedesign(!0).setVideoID(this.props.videoID?Number(this.props.videoID):null).setYawDegrees(c.yaw).setPitchDegrees(c.pitch).setFieldOfView(a).setVideoPreviewPosition(0)};d.componentDidMount=function(){this.$3()};d.componentDidUpdate=function(a,c){a.shown!==this.props.shown&&b("SphericalDirectorAction").updateTabVisibility(this.props.shown);if(this.props.shown&&!this.$1){var d=b("VideoUploadSphericalControlsAction").TAB_IMPRESSION;b("VideoUploadSphericalLogger").setUserAction(d).log();this.$1=!0}this.props.shown&&!a.shown&&b("SphericalDirectorMetadataUtils").isV1(this.props.componentSource)&&(b("SphericalDirectorFunnelUtils").startFunnel(this.props.componentSource,!0,!1),b("FunnelLogger").appendActionIfNew(b("SphericalDirectorFunnelConstants").FUNNEL_NAME,b("SphericalDirectorFunnelConstants").ACTIONS.OPEN_SPHERICAL_TAB_COMPOSER));Object.keys(c.sphericalMetadata).length===0&&Object.keys(this.state.sphericalMetadata).length>0&&this.$3();(this.state.projection!==c.projection||this.state.stereoMode!==c.stereoMode)&&this.reloadGuideThumbnails()};d.componentWillUnmount=function(){var a=b("SphericalDirectorStore").getState();a=a.controller;a&&a.destroy();this.$2&&this.$2.destroy()};d.render=function(){return b("React").createElement(b("SphericalDirector.react"),{errorMessageConfirmOnly:this.state.errorMessageConfirmOnly,errorMessageText:this.state.errorMessageText,errorMessageTitle:this.state.errorMessageTitle,fov:this.state.fov,guideEnabled:!0,guideVisible:this.state.guideVisible,isEditingKeyframe:this.state.isEditingKeyframe,isLargeHeight:!1,keyframes:this.state.keyframes,onAcceptErrorMessage:this.state.errorMessageCallback,onClearErrorMessage:this.$4,onFOVUpdate:this.$5,onGuideVisibilityUpdate:this.$6,onLoadVideoError:this.$7,onLoadVideoSuccess:this.$8,onPitchUpdate:this.$9,onGuidePointAdded:this.$10,onGuidePointSaved:this.$10,onGuidePointsCleared:this.$11,onGuidePointsRemoved:this.$12,onGuidePointRemoved:this.$13,onToggleEnableOmnistab:this.$14,onToggleGuideKeyframeForDeletion:this.$15,onViewportUpdate:this.$16,onYawUpdate:this.$17,onProjectionSelected:this.$18,onStereoModeSelected:this.$19,pitch:this.state.pitch,shouldLoadVideo:this.state.shouldLoadVideo,shown:this.props.shown,showOmnistabSection:!1,omnistabEnabled:this.state.enableOmnistab,allowOmnistabToggle:this.$20(),toggleGuidePointEdit:this.$21,updateActiveGuideKeyframe:this.$22,videoFile:this.props.videoFile,videoID:this.props.videoID,videoLoading:this.state.videoLoading,videoUnavailable:this.state.videoUnavailable,yaw:this.state.yaw,projection:this.state.projection,stereoMode:this.state.stereoMode,hasSpatialAudio:this.state.hasSpatialAudio,isEditing:!!this.props.isEditing,componentSource:this.props.componentSource,onToggleMobilePreview:this.$23,isMobilePreview:this.state.isMobilePreview})};d.$3=function(){this.$2||(this.$2=new(b("SphericalDirectorVideoGuideThumbnailsLoader"))(this.props.videoFile,this.props.videoID,{initialHeading:this.state.yaw,initialPitch:this.state.pitch,fieldOfView:this.state.fov,stereoFormat:this.state.stereoMode,projection:this.state.projection},this.state.keyframes,function(a){return b("SphericalDirectorAction").updateGuideKeyframes(a)})),this.$2.setKeyframes(this.state.keyframes).reloadThumbnails()};d.reloadGuideThumbnails=function(){this.$2&&this.$2.setProjection(this.state.projection).setStereoMode(this.state.stereoMode).setKeyframes(this.state.keyframes).reloadThumbnails()};d.$20=function(){return(!this.state.stereoMode||this.state.stereoMode===b("VideoStereoFormat").MONO)&&(!this.props.isEditing||!!this.props.hasOmnistabEncoding)};d.$4=function(){b("SphericalDirectorAction").updateErrorMessage(null)};d.$8=function(a){b("SphericalDirectorAction").setVideoPlayerController(a)};d.$7=function(){b("SphericalDirectorAction").setVideoUnavailable(!0)};d.$16=function(a,c){a=Math.round(a),c=Math.round(c),b("SphericalDirectorAction").updateCurrentViewport(c,a),b("VideoUploadSphericalLogger").setPitchDegrees(c).setYawDegrees(a).setUserAction(b("VideoUploadSphericalControlsAction").DRAG_VIDEO_PREVIEW).log()};d.$5=function(a){b("SphericalDirectorAction").updateFOV(a),b("FunnelLogger").appendActionIfNew(b("SphericalDirectorFunnelConstants").FUNNEL_NAME,b("SphericalDirectorFunnelConstants").ACTIONS.UPDATE_FOV),b("VideoUploadSphericalLogger").setUserAction(b("VideoUploadSphericalControlsAction").SCROLL_VIDEO_PREVIEW).setFieldOfView(a).log()};d.$18=function(a){b("SphericalDirectorAction").updateProjection(a),b("FunnelLogger").appendActionIfNew(b("SphericalDirectorFunnelConstants").FUNNEL_NAME,b("SphericalDirectorFunnelConstants").ACTIONS.UPDATE_PROJECTION)};d.$19=function(a){b("SphericalDirectorAction").updateStereoMode(a),b("FunnelLogger").appendActionIfNew(b("SphericalDirectorFunnelConstants").FUNNEL_NAME,b("SphericalDirectorFunnelConstants").ACTIONS.UPDATE_STEREO)};d.$22=function(a){b("SphericalDirectorAction").updateActiveGuideKeyframe(a)};d.$15=function(a){b("SphericalDirectorAction").updateToggleGuideKeyframeForDeletion(a)};d.$24=function(a,c,d,e){a=new(b("SphericalDirectorGuideKeyframeData"))({timestamp:a,yaw:Math.round(d),pitch:Math.round(c),thumbnailURI:e,isSelected:!0});this.state.isEditingKeyframe?b("SphericalDirectorAction").updateSaveGuideKeyframe(a):(b("FunnelLogger").appendActionIfNew(b("SphericalDirectorFunnelConstants").FUNNEL_NAME,b("SphericalDirectorFunnelConstants").ACTIONS.ADD_GUIDE_POINT),b("SphericalDirectorAction").updateAddGuideKeyframe(a))};d.$12=function(){b("SphericalDirectorAction").updateDeleteSelectedGuideKeyframes(),b("VideoUploadSphericalLogger").setUserAction(b("VideoUploadSphericalControlsAction").REMOVE_POINT_OF_INTEREST).log()};d.$13=function(a){b("SphericalDirectorAction").updateRemoveGuideKeyframe(a),b("VideoUploadSphericalLogger").setUserAction(b("VideoUploadSphericalControlsAction").REMOVE_POINT_OF_INTEREST).log()};d.$11=function(){b("SphericalDirectorAction").updateGuideKeyframes(g([b("SphericalDirectorGuideKeyframeData").getFromLegacyParams([0,0,0])]))};d.$21=function(a){b("SphericalDirectorAction").updateIsEditingGuidePoint(a)};d.$6=function(a){b("SphericalDirectorAction").updateGuideVisibility(a)};d.$23=function(a){b("SphericalDirectorAction").updateIsMobilePreview(a),b("FunnelLogger").appendActionIfNew(b("SphericalDirectorFunnelConstants").FUNNEL_NAME,b("SphericalDirectorFunnelConstants").ACTIONS.TOGGLE_MOBILE_VR)};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("SphericalDirectorEvents",[],(function(a,b,c,d,e,f){"use strict";e.exports={GUIDE:{KEYFRAMES_UPDATE:"SphericalDirectorVideoPreviewGuide/keyframesUpdate",CURRENT_GUIDE_POINT_UPDATE:"SphericalDirectorVideoPreviewGuide/currentGuidePointUpdate"},PREVIEW:{INITAL_VIEWPORT_UPDATE:"SphericalDirectorVideoPreview/initialViewportUpdate",GUIDE_KEYFRAMES_UPDATE:"SphericalDirectorVideoPreview/guideKeyframesUpdate",GUIDE_STATE_UPDATE:"SphericalDirectorVideoPreview/guideStateUpdate",GUIDE_VISIBILITY_UPDATE:"SphericalDirectorVideoPreview/guideVisibilityUpdate",KEYFRAME_EDITING_STATE_UPDATE:"SphericalDirectorVideoPreview/keyframeEditingStateUpdate",FIELD_OF_VIEW_UPDATE:"SphericalDirectorVideoPreview/fieldOfViewUpdate",MOBILE_PREVIEW_UPDATE:"SphericalDirectorVideoPreview/mobilePreviewUpdate",PROJECTION_UPDATE:"SphericalDirectorVideoPreview/projectionUpdate"},OVERLAY_BUTTONS:{ADD_GUIDE_POINT:"SphericalDirectorVideoPreviewOverlayButtons/addGuidePoint",SAVE_GUIDE_POINT:"SphericalDirectorVideoPreviewOverlayButtons/saveGuidePoint",EDIT_GUIDE_POINT:"SphericalDirectorVideoPreviewOverlayButtons/editGuidePoint",CREATE_THUMBNAIL:"SphericalDirectorVideoPreviewOverlayButtons/createThumbnail"},VIEWPORT_CONTROL:{VIEWPORT_UPDATE:"SphericalDirectorVideoPreviewViewportControl/viewportUpdate",FIELD_OF_VIEW_UPDATE:"SphericalDirectorVideoPreviewViewportControl/fieldOfViewUpdate"}}}),null);
__d("SphericalDirectorVideoBottomControlBarSettingsInfoMenuItem.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").createElement("div",{className:"_2a8t"},b("React").createElement("div",{className:"_2a8u"},a.label))}e.exports=a}),null);
__d("SphericalDirectorVideoBottomControlBarSettingsMenu.react",["cx","Image.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hovered:!1},c.$1=function(){c.setState({hovered:!0})},c.$2=function(){c.setState({hovered:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_4qgm",onMouseEnter:this.$1,onMouseLeave:this.$2},b("React").createElement(b("Image.react"),{src:this.state.hovered?this.props.buttonIconOnHover:this.props.buttonIconDefault}),b("React").createElement("div",{className:"_4qgn"},b("React").createElement("div",{className:"_4qgo"},this.props.children)))};return c}(b("React").Component);e.exports=a}),null);
__d("SphericalDirectorVideoBottomControlBarSettingsSelectableMenuItem.react",["ix","cx","Image.react","React","asset","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return b("React").createElement("a",{href:"#",className:"_6abg"+(a.disabled?" _6abh":""),onClick:a.disabled?b("emptyFunction"):a.onSelect},b("React").createElement(b("Image.react"),{src:a.isSelected?a.disabled?g("446207"):g("384999"):g("385001")}),b("React").createElement("div",{className:"_2kd9"+(a.disabled?" _6abh":"")},a.label),b("React").createElement(b("Image.react"),{className:"_2kdb",src:a.disabled&&a.disabledIcon?a.disabledIcon:a.icon}))}e.exports=a}),null);
__d("SphericalDirectorVideoPreviewEmbeddedControls",["SphericalDirectorEvents","SubscriptionsHandler","VideoControls","VideoUploadSphericalLogger"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,c,d){__p&&__p();var e=this;d===void 0&&(d=!1);this.$4=function(a){e.$1.updateDisplayElapsedTime(a),e.$5()};this.$5=function(){e.$1.updatePointsOfInterestConfig(e.$2.getOption("SphericalDirectorVideoPreviewGuide","getGuidePointsConfig"))};this.$2=c;this.$1=new(b("VideoControls"))(c,a,{hideSettings:!0,hideOnEvents:{autoplay:!1,finish:!1,pause:!1},showButtons:{},pointsOfInterestConfig:c.getOption("SphericalDirectorVideoPreviewGuide","getGuidePointsConfig"),displayElapsedTime:c.getOption("VideoWithSphericalGuide","enabled"),forceVisible:!0,hideGradient:!0,useDarkTheme:d});this.$3=new(b("SubscriptionsHandler"))();this.$3.addSubscriptions(this.$2.addListener("VideoWithSphericalGuide/stateToggle",this.$4),this.$2.addListener(b("SphericalDirectorEvents").GUIDE.KEYFRAMES_UPDATE,this.$5),this.$2.addListener(b("SphericalDirectorEvents").GUIDE.CURRENT_GUIDE_POINT_UPDATE,this.$5),this.$2.addListener("updateStatus",function(a){b("VideoUploadSphericalLogger").setVideoPreviewPosition(Math.round(a.position))}))}var c=a.prototype;c.destroy=function(){this.$3.release()};return a}();e.exports=a}),null);
__d("SphericalDirectorVideoBottomControlBar.react",["cx","fbt","ix","React","SphericalDirectorVideoBottomControlBarSettingsInfoMenuItem.react","SphericalDirectorVideoBottomControlBarSettingsMenu.react","SphericalDirectorVideoBottomControlBarSettingsSelectableMenuItem.react","SphericalDirectorVideoPreviewEmbeddedControls","VideoProjection","VideoStereoFormat","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.$1=new(b("SphericalDirectorVideoPreviewEmbeddedControls"))(this.refs.controls,this.props.controller,!0)};d.componentWillUnmount=function(){this.$1.destroy()};d.render=function(){var a=this,c=this.props.hasSpatialAudio?"on":"off";return b("React").createElement("div",{className:"_6aax"},b("React").createElement("div",{className:"_6aay",ref:"controls"}),b("React").createElement("div",{className:"_6aaz"},b("React").createElement(b("SphericalDirectorVideoBottomControlBarSettingsMenu.react"),{buttonIconDefault:i("438982"),buttonIconOnHover:i("438981")},b("React").createElement(b("SphericalDirectorVideoBottomControlBarSettingsInfoMenuItem.react"),{label:h._("Audio 360 is {=}",[h._param("=",b("React").createElement("span",{className:"_4qgp"},h._({"off":"off","on":"on"},[h._enum(c,{off:"off",on:"on"})])))])})),b("React").createElement(b("SphericalDirectorVideoBottomControlBarSettingsMenu.react"),{buttonIconDefault:i("428197"),buttonIconOnHover:i("428193")},b("React").createElement("div",null,b("React").createElement(b("SphericalDirectorVideoBottomControlBarSettingsSelectableMenuItem.react"),{disabled:this.props.stereoMode!==b("VideoStereoFormat").MONO&&this.props.stereoMode!==b("VideoStereoFormat").TOP_BOTTOM,disabledIcon:i("556257"),icon:i("378733"),isSelected:this.props.projection===b("VideoProjection").EQUIRECTANGULAR,label:h._("Equirectangular"),onSelect:function(){return a.props.onProjectionSelected(b("VideoProjection").EQUIRECTANGULAR)}}),b("React").createElement(b("SphericalDirectorVideoBottomControlBarSettingsSelectableMenuItem.react"),{disabled:this.props.stereoMode!==b("VideoStereoFormat").MONO,disabledIcon:i("556256"),icon:i("378732"),isSelected:this.props.projection===b("VideoProjection").CUBEMAP,label:h._("Cubemap"),onSelect:function(){return a.props.onProjectionSelected(b("VideoProjection").CUBEMAP)}}),b("React").createElement(b("SphericalDirectorVideoBottomControlBarSettingsSelectableMenuItem.react"),{disabled:!1,disabledIcon:i("556258"),icon:i("544471"),isSelected:this.props.projection===b("VideoProjection").HALF_EQUIRECTANGULAR,label:h._("Half Equirectangular"),onSelect:function(){return a.props.onProjectionSelected(b("VideoProjection").HALF_EQUIRECTANGULAR)}})),b("React").createElement("div",{className:"_4qm4"}),b("React").createElement("div",null,b("React").createElement(b("SphericalDirectorVideoBottomControlBarSettingsSelectableMenuItem.react"),{disabled:!1,icon:i("378736"),isSelected:this.props.stereoMode===b("VideoStereoFormat").MONO,label:h._("Mono"),onSelect:function(){return a.props.onStereoModeSelected(b("VideoStereoFormat").MONO)}}),b("React").createElement(b("SphericalDirectorVideoBottomControlBarSettingsSelectableMenuItem.react"),{disabled:this.props.projection!==b("VideoProjection").HALF_EQUIRECTANGULAR,disabledIcon:i("556259"),icon:i("378738"),isSelected:this.props.stereoMode===b("VideoStereoFormat").LEFT_RIGHT,label:h._("Side-by-Side"),onSelect:function(){return a.props.onStereoModeSelected(b("VideoStereoFormat").LEFT_RIGHT)}}),b("React").createElement(b("SphericalDirectorVideoBottomControlBarSettingsSelectableMenuItem.react"),{disabled:!1,disabledIcon:i("556260"),icon:i("378739"),isSelected:this.props.stereoMode===b("VideoStereoFormat").TOP_BOTTOM,label:h._("Top-Bottom"),onSelect:function(){return a.props.onStereoModeSelected(b("VideoStereoFormat").TOP_BOTTOM)}})))))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("SphericalDirectorVideoConstants",[],(function(a,b,c,d,e,f){"use strict";a={VIDEO_HEIGHT_DEFAULT_PX:266,VIDEO_HEIGHT_LARGE_PX:322,VIDEO_WIDTH_PX:669};e.exports=a}),null);
__d("SphericalDirectorVideoIntroTextSection.react",["cx","fbt","React","SphericalDirectorMetadataUtils"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var c=h._("Set guide points."),d=" ",e=h._("Your final video will automatically pan to these parts.");a=b("SphericalDirectorMetadataUtils").isV1(a.componentSource);return b("React").createElement("div",{className:"_2ygq"},!a&&b("React").createElement("div",{className:"_6el3 _2ygr"}),b("React").createElement("div",{className:"_2ygt"},h._("Direct your audience to the parts you want them to see")),b("React").createElement("div",{className:"_2ygu"},c,d,e),b("React").createElement("div",{className:"_6el3 _2ygr"}))}e.exports=a}),null);
__d("SphericalDirectorVideoPreviewGuide",["SphericalDirectorErrorUtils","SphericalDirectorEvents","SphericalVideoGuideAnimationConfig","SubscriptionsHandler","VideoPlayerReason","VideoPlayerReasonTransitionHelper","VideoPlayerStates","VideoProjection","VideoUploadSphericalControlsAction","VideoUploadSphericalLogger","VideoWithSphericalGuide","emptyFunction","findGreatestLowerBoundGuideKeyframeIndex"],(function(a,b,c,d,e,f){__p&&__p();var g=b("SphericalVideoGuideAnimationConfig").MIN_INTERVAL_MS,h=b("SphericalVideoGuideAnimationConfig").MS_PER_SECOND,i=2e3,j=1e3;a=function(){"use strict";__p&&__p();function a(a,c,d,e,f,k,l,m,n,o,p,q){__p&&__p();var r=this;n===void 0&&(n=b("emptyFunction"));o===void 0&&(o=b("emptyFunction"));p===void 0&&(p=b("emptyFunction"));q===void 0&&(q=!1);this.$19=function(a){r.$3.setInitialViewport(a.yaw,a.pitch)};this.$20=function(a){r.$6=a,r.$3.setKeyframes(a),r.$2.emit(b("SphericalDirectorEvents").GUIDE.KEYFRAMES_UPDATE),r.$17()};this.$21=function(a){r.$5=a,r.$3.setEnabled(a),r.$17()};this.$16=function(){return{onPointOfInterestSelect:r.$27,currentPointOfInterest:r.$28(),pointsOfInterest:r.$29(),showPointOfInterestTimestamps:!1}};this.$18=function(){r.$7&&r.$30()};this.$22=function(){__p&&__p();r.$2.pause();var a=Math.floor(r.$2.getCurrentTimePosition()*h),c=r.$2.isState(b("VideoPlayerStates").PLAYING),d=c?function(){return r.$2.play(new(b("VideoPlayerReasonTransitionHelper"))(b("VideoPlayerReason").USER))}:null;if(a<g){if(a===0)return;c&&r.$2.pause();b("SphericalDirectorErrorUtils").showAddPointDialog(d);return}var e=b("findGreatestLowerBoundGuideKeyframeIndex")(r.$6,a),f=r.$6;if(f[e]&&a-f[e][0]<g||f[e+1]&&f[e+1][0]-a<g){if(f[e]&&f[e][0]===a)return;c&&r.$2.pause();b("SphericalDirectorErrorUtils").showAddPointDialog(d);return}f=r.$2.getOption("SphericalDirectorVideoPreviewViewportControl","getCurrentViewport");r.$9(a,f.pitch,f.yaw,function(){return r.$2.getOption("SphericalVideoPlayer","getScreenshotDataURL")});b("VideoUploadSphericalLogger").setUserAction(b("VideoUploadSphericalControlsAction").ADD_POINT_OF_INTEREST).log()};this.$23=function(){r.$15=!0,r.$30()};this.$24=function(){r.$12(!0),b("VideoUploadSphericalLogger").setUserAction(b("VideoUploadSphericalControlsAction").EDIT_POINT_OF_INTEREST).log()};this.$26=function(a){r.$8=a};this.$25=function(a){r.$7&&!a?(r.$7=a,r.$3.setAutoEnabled(!0),r.$15&&(r.$15=!1,r.$2.play(new(b("VideoPlayerReasonTransitionHelper"))(b("VideoPlayerReason").USER)))):(r.$7=a,r.$2.emit("SphericalHeadingIndicator/click"))};this.$27=function(a){__p&&__p();var c=r.$6.find(function(b){return b[0]===a*h});if(!c)return;var d=c[1];c=c[2];r.$2.seek(a);r.$2.setSphericalOrientation(c,d);r.$2.pause();b("VideoUploadSphericalLogger").setPitchDegrees(d).setYawDegrees(c).setUserAction(b("VideoUploadSphericalControlsAction").SEARCH_POINT_OF_INTEREST).log()};this.$17=function(){__p&&__p();var a=r.$4;if(r.$5){var c=Math.floor(r.$2.getCurrentTimePosition()*h),d=r.$6,e=b("findGreatestLowerBoundGuideKeyframeIndex")(d,c);if(r.$14)c===d[e][0]?r.$4=d[e]:r.$4=null;else{var f=e+1;d[f]&&d[f][0]-c<=i?r.$4=d[f]:d[e]&&c-d[e][0]<=j?r.$4=d[e]:r.$4=null}}else r.$4=null;a!==r.$4&&(r.$2.emit(b("SphericalDirectorEvents").GUIDE.CURRENT_GUIDE_POINT_UPDATE),r.$13(r.$4?r.$4[0]:null))};this.$2=a;this.$5=e;this.$6=f;this.$8=k;this.$9=l;this.$11=m;this.$12=n;this.$10=o;this.$13=p;this.$14=q;this.$15=!1;this.$1=new(b("SubscriptionsHandler"))();a={initialHeading:c,initialPitch:d,guideEnabled:e,guideKeyframes:f};this.$3=new(b("VideoWithSphericalGuide"))(this.$2,a);this.$4=null;this.$7=!1;this.$2.registerOption("SphericalDirectorVideoPreviewGuide","getGuidePointsConfig",this.$16);this.$2.registerOption("SphericalDirectorVideoPreviewGuide","getCurrentGuidePoint",function(){return r.$4});this.$2.emit(b("SphericalDirectorEvents").GUIDE.KEYFRAMES_UPDATE);this.$2.emit(b("SphericalDirectorEvents").GUIDE.CURRENT_GUIDE_POINT_UPDATE);this.$1.addSubscriptions(this.$2.addListener("updateStatus",this.$17),this.$2.addListener("seekRequested",this.$18),this.$2.addListener("playRequested",this.$18),this.$2.addListener(b("SphericalDirectorEvents").PREVIEW.INITAL_VIEWPORT_UPDATE,this.$19),this.$2.addListener(b("SphericalDirectorEvents").PREVIEW.GUIDE_KEYFRAMES_UPDATE,this.$20),this.$2.addListener(b("SphericalDirectorEvents").PREVIEW.GUIDE_STATE_UPDATE,this.$21),this.$2.addListener(b("SphericalDirectorEvents").OVERLAY_BUTTONS.ADD_GUIDE_POINT,this.$22),this.$2.addListener(b("SphericalDirectorEvents").OVERLAY_BUTTONS.SAVE_GUIDE_POINT,this.$23),this.$2.addListener(b("SphericalDirectorEvents").OVERLAY_BUTTONS.EDIT_GUIDE_POINT,this.$24),this.$2.addListener(b("SphericalDirectorEvents").PREVIEW.KEYFRAME_EDITING_STATE_UPDATE,this.$25),this.$2.addListener(b("SphericalDirectorEvents").PREVIEW.PROJECTION_UPDATE,this.$26))}var c=a.prototype;c.$29=function(){return this.$5?this.$6.map(function(a){return a[0]/h}):[]};c.$28=function(){return this.$5&&this.$4?this.$4[0]/h:null};c.$30=function(){__p&&__p();var a=this;if(!this.$4)return;var c=this.$4[0],d=this.$2.getOption("SphericalDirectorVideoPreviewViewportControl","getCurrentViewport");if(this.$8===b("VideoProjection").HALF_EQUIRECTANGULAR&&(d.yaw<-90||d.yaw>90)){b("SphericalDirectorErrorUtils").showGuideOutsideLimitsDialog();this.$12(!1);c!==0&&this.$31();return}this.$10(c,d.pitch,d.yaw,function(){return a.$2.getOption("SphericalVideoPlayer","getScreenshotDataURL")});b("VideoUploadSphericalLogger").setUserAction(b("VideoUploadSphericalControlsAction").SAVE_EDITS).setPitchDegrees(d.pitch).setYawDegrees(d.yaw).log()};c.$31=function(){if(!this.$4)return;this.$11(this.$4[0]);b("VideoUploadSphericalLogger").setUserAction(b("VideoUploadSphericalControlsAction").REMOVE_POINT_OF_INTEREST).log()};c.destroy=function(){this.$1.release()};return a}();e.exports=a}),null);
__d("SphericalDirectorVideoPreviewOverlayButtons",["cx","fbt","ix","Event","FlexLayout.react","Image.react","React","ReactDOM","ShimButton.react","SphericalDirectorEvents","SphericalDirectorGuideButton.react","SubscriptionsHandler","Vector","VideoComposerHeightConfig","asset","destroyOnUnload","throttle"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=function(c){"use strict";__p&&__p();babelHelpers.inheritsLoose(a,c);function a(a){__p&&__p();var d;d=c.call(this,a)||this;d.state={guideVisible:!0,currentKeyframe:d.props.controller.getOption("SphericalDirectorVideoPreviewGuide","getCurrentGuidePoint"),isEditingKeyframe:d.props.isEditingKeyframe,isLargeHeight:!1,isMobilePreview:d.props.isMobilePreview,isViewportOnKeyframe:!0};d.$8=function(){var a=b("Vector").getViewportDimensions().y;a>=b("VideoComposerHeightConfig").LARGE_HEIGHT+b("VideoComposerHeightConfig").DIALOG_VERTICAL_MARGIN?d.state.isMobilePreview&&d.setState({isLargeHeight:!0}):d.setState({isLargeHeight:!1})};d.$3=function(){d.setState({currentKeyframe:d.$1.getOption("SphericalDirectorVideoPreviewGuide","getCurrentGuidePoint")})};d.$4=function(a){d.setState({guideVisible:a})};d.$5=function(a){d.setState({isEditingKeyframe:a})};d.$7=function(a){d.setState({isMobilePreview:a})};d.$9=function(){d.props.controller.emit(b("SphericalDirectorEvents").OVERLAY_BUTTONS.ADD_GUIDE_POINT)};d.$10=function(){d.props.controller.emit(b("SphericalDirectorEvents").OVERLAY_BUTTONS.SAVE_GUIDE_POINT)};d.$11=function(){d.props.controller.emit(b("SphericalDirectorEvents").OVERLAY_BUTTONS.EDIT_GUIDE_POINT)};d.$6=function(){if(!(d.state.currentKeyframe&&d.state.isEditingKeyframe)){d.state.isViewportOnKeyframe&&d.setState({isViewportOnKeyframe:!1});return}var a=d.state.currentKeyframe,b=d.$1.getOption("SphericalDirectorVideoPreviewViewportControl","getCurrentViewport"),c=Math.abs(b.pitch-a[1]);b=Math.abs(b.yaw-a[2]);a=c<1&&(b<1||b>359);a!==d.state.isViewportOnKeyframe&&d.setState({isViewportOnKeyframe:a})};d.$1=a.controller;d.$2=new(b("SubscriptionsHandler"))();d.$2.addSubscriptions(d.$1.addListener(b("SphericalDirectorEvents").GUIDE.CURRENT_GUIDE_POINT_UPDATE,d.$3),d.$1.addListener(b("SphericalDirectorEvents").PREVIEW.GUIDE_VISIBILITY_UPDATE,d.$4),d.$1.addListener(b("SphericalDirectorEvents").PREVIEW.KEYFRAME_EDITING_STATE_UPDATE,d.$5),d.$1.addListener(b("SphericalDirectorEvents").VIEWPORT_CONTROL.VIEWPORT_UPDATE,d.$6),d.$1.addListener(b("SphericalDirectorEvents").PREVIEW.MOBILE_PREVIEW_UPDATE,d.$7));return d}var d=a.prototype;d.componentDidMount=function(){this.setState(this.$8),this.$2=new(b("SubscriptionsHandler"))(),this.$2.addSubscriptions(b("Event").listen(window,"resize",b("throttle")(this.$8)))};d.componentWillUnmount=function(){this.$2.release()};d.componentDidUpdate=function(){this.$6()};d.render=function(){var a=!this.state.currentKeyframe,c=this.state.currentKeyframe&&!this.state.isEditingKeyframe,d=this.state.currentKeyframe&&this.state.isEditingKeyframe,e=h._("Set guide point"),f=h._("Replace guide point");c=a||c?b("React").createElement(b("ShimButton.react"),{className:"_2b_e _2b_f",onClick:a?this.$9:this.$11},b("React").createElement(b("FlexLayout.react"),{className:"_2b_g",align:"center",justify:"all"},b("React").createElement("div",{className:"_2b_l"},a?e:f),b("React").createElement(b("Image.react"),{className:"_2b_q",src:i("415891")}))):null;a=this.state.isMobilePreview?i("425575"):i("425576");e=d?b("React").createElement(b("Image.react"),{className:"_2b_r _2b_s"+(this.state.isMobilePreview?" _2c0c":"")+(this.state.isLargeHeight?" _2c0d":""),src:a}):null;f=d?b("React").createElement(b("SphericalDirectorGuideButton.react"),{className:"_2c28 _2c29",thumbnail:i("393776"),onClick:this.$10}):null;return b("React").createElement("div",{className:"_2c2a"+(this.state.guideVisible?"":" _2c2b")+(this.state.isLargeHeight?" _2c0d":"")},c,e,f)};return a}(b("React").Component);a=function(){"use strict";function a(a,c,d,e){d===void 0&&(d=!1),e===void 0&&(e=!1),b("ReactDOM").render(b("React").createElement(j,{controller:a,isEditingKeyframe:d,isMobilePreview:e}),c),b("destroyOnUnload")(function(){b("ReactDOM").unmountComponentAtNode(c)})}return a}();e.exports=a}),null);
__d("SphericalDirectorVideoPreviewSpinner",["cx","React","ReactDOM","VideoSpinner","XUISpinner.react","destroyOnUnload"],(function(a,b,c,d,e,f,g){a=function(a,c){"use strict";b("ReactDOM").render(b("React").createElement(b("XUISpinner.react"),{size:"large",className:"_3yp2"}),c),this.$1=new(b("VideoSpinner"))(a,c),b("destroyOnUnload")(function(){b("ReactDOM").unmountComponentAtNode(c)})};e.exports=a}),null);
__d("normalizeYaw",[],(function(a,b,c,d,e,f){function a(a,b){b===void 0&&(b=!1);b=b?Math.PI:180;var c=b*2;return a>=0?(a+b)%c-b:(a-b)%c+b}e.exports=a}),null);
__d("SphericalDirectorVideoPreviewViewportControl",["SphericalDirectorEvents","SphericalVideoPlayerEvents","SubscriptionsHandler","VideoPlayerReason","VideoPlayerReasonTransitionHelper","VideoPlayerStates","normalizeYaw"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,c,d,e,f,g){__p&&__p();var h=this;this.$13=function(){h.$1.isState(b("VideoPlayerStates").PLAYING)?h.$1.pause():h.$1.play(new(b("VideoPlayerReasonTransitionHelper"))(b("VideoPlayerReason").USER))};this.$8=function(a,c){h.$3.yaw=b("normalizeYaw")(a),h.$3.pitch=c,h.$1.emit(b("SphericalDirectorEvents").VIEWPORT_CONTROL.VIEWPORT_UPDATE),h.$11()};this.$9=function(a){h.$4=a,h.$1.emit(b("SphericalDirectorEvents").VIEWPORT_CONTROL.FIELD_OF_VIEW_UPDATE),h.$12()};this.$10=function(a){var b=Math.log(Math.max(Math.E,Math.abs(a.deltaY)));a=a.deltaY>0?b:-b;b=Math.max(40,Math.min(90,Math.round(h.$4+a)));h.$1.setSphericalFieldOfView(b);h.$12()};this.$1=a;this.$3={yaw:c,pitch:d};this.$4=e;this.$5=0;this.$6=f;this.$7=g;this.$1.registerOption("SphericalDirectorVideoPreviewViewportControl","getCurrentViewport",function(){return h.$3});this.$1.registerOption("SphericalDirectorVideoPreviewViewportControl","getCurrentFieldOfView",function(){return h.$4});this.$2=new(b("SubscriptionsHandler"))();this.$2.addSubscriptions(this.$1.addListener("viewportChange",this.$8),this.$1.addListener(b("SphericalVideoPlayerEvents").SET_FIELD_OF_VIEW,this.$9),this.$1.addListener("wheelScroll",this.$10),this.$1.addListener("updateViewportBegin",function(){return h.$5++}),this.$1.addListener("updateViewportEnd",function(){h.$5--,h.$11()}),this.$1.addListener("SphericalVideoRecenterControl/animationStart",function(){return h.$5++}),this.$1.addListener("SphericalVideoRecenterControl/animationEnd",function(){h.$5--,h.$11()}),this.$1.addListener("VideoWithSphericalGuide/stateToggle",function(a){h.$11(),h.$12()}),this.$1.addListener(b("SphericalDirectorEvents").PREVIEW.FIELD_OF_VIEW_UPDATE,function(a){return h.$1.setSphericalFieldOfView(a)}),this.$1.addListener("clickVideo",this.$13))}var c=a.prototype;c.$11=function(){this.$6(this.$3.yaw,this.$3.pitch,!!this.$5)};c.$12=function(){this.$7(this.$4)};c.destroy=function(){this.$2.release()};return a}();e.exports=a}),null);
__d("SphericalDirectorFOVSlider.react",["ix","cx","Event","FBNoSelect","Image.react","React","ShimButton.react","asset","emptyFunction","forEachObject","getElementRect"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=.001,j=10;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.$4=10;var d=b.value!==null?parseFloat(b.value.toFixed(b.decimalPlaces)):b.min;c.state={top:c.$5(d,b.min,b.max),isDragging:!1};return c}var d=c.prototype;d.$5=function(a,b,c){return Math.min(c,Math.max(b,a))};d.$6=function(a){var c=b("getElementRect")(this.refs.sliderBox),d=c.right-a.pageX;if(a.type!=="mousemove"){a=c.width*this.$7(this.state.top);d>=a&&d<=a+this.$4?this.$1=d-a:this.$1=this.$4/2}a=(d-this.$1)/c.width;return this.$5(a,0,1)};d.$8=function(a){var b=this.props,c=b.min;b=b.max;b=b-c;return a*b+c};d.$7=function(a){var b=this.props,c=b.min;b=b.max;return this.$5((a-c)/(b-c),0,1)};d.$9=function(a){a=parseFloat(a.toFixed(this.props.decimalPlaces));Math.abs(a-this.$3)>i&&(this.$3=a,this.props.onChange(a))};d.$10=function(a){this.state.isDragging&&(this.setState({isDragging:!1}),b("forEachObject")(this.$2,function(a){return a.remove()}))};d.$11=function(a){if(this.state.isDragging){a=this.$8(this.$6(a));this.setState({top:a});this.$9(a)}};d.$12=function(a){if(this.props.isDisabled)return;a=this.$8(this.$6(a));this.setState({isDragging:!0,top:a});this.$9(a);this.$2=b("Event").listen(document,{mousemove:this.$11.bind(this),mouseup:this.$10.bind(this)})};d.$13=function(a){var c=this;if(this.props.isDisabled)return b("emptyFunction");var d=this.state.top,e=this.$5(d-a,this.props.min,this.props.max);return function(){c.setState({top:e}),c.$9(e)}};d.UNSAFE_componentWillReceiveProps=function(a){this.setState({top:a.value!==null?a.value:a.min})};d.componentDidMount=function(){b("FBNoSelect").addBlockClass("_6aa_"),this.$3=0};d.componentWillUnmount=function(){b("FBNoSelect").removeBlockClass("_6aa_"),this.$10({})};d.render=function(){var a=this.$7(this.state.top)*100,c={top:a+"%"},d=this.props.isDisabled?"#bec2c9":"#4b4f56";d={background:"linear-gradient(rgba(256,256,256,0.3) "+a+"%, "+d+" "+(1-a)+"%)"};return b("React").createElement("div",{className:"_6ab0"+(this.props.isDisabled?" _6ab1":"")},b("React").createElement(b("ShimButton.react"),{className:"_6ab2 _6ab3",onClick:this.$13(j)},b("React").createElement(b("Image.react"),{className:"_6ab4",src:this.props.isDisabled?g("415409"):g("438988")})),b("React").createElement("div",{className:"_6ab5"},b("React").createElement("div",{className:"_6aa_",onMouseDown:this.$12.bind(this)},b("React").createElement("div",{className:"_6ab6"},b("React").createElement("div",{style:d,className:"_6ab7"})),b("React").createElement("div",{ref:"sliderBox",className:"_6ab8"},b("React").createElement("div",{ref:"handle",className:"_6ab9",style:c})))),b("React").createElement(b("ShimButton.react"),{className:"_6ab2 _6aba",onClick:this.$13(-1*j)},b("React").createElement(b("Image.react"),{className:"_6ab4",src:this.props.isDisabled?g("407426"):g("394277")})))};return c}(b("React").Component);e.exports=a}),null);
__d("SphericalDirectorVideoTopControlBar.react",["ix","cx","fbt","FlexLayout.react","Image.react","React","ShimButton.react","SphericalDirectorFOVSlider.react","VideoComposerRadioButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=40,k=90;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=this.props.showOmnistabSection?b("React").createElement("div",{className:"_6aaq"},b("React").createElement("div",{className:"_6aar"},b("React").createElement(b("VideoComposerRadioButton.react"),{checked:this.props.omnistabEnabled,className:"_6aas",label:b("React").createElement(b("FlexLayout.react"),{align:"center",className:"_6aat",justify:"all"},i._("Stabilize"),b("React").createElement(b("Image.react"),{className:"_6aau",src:g("438994")})),onSelect:function(b){a.props.allowOmnistabToggle&&a.props.onToggleEnableOmnistab(b),b.preventDefault()}}))):null,d=b("React").createElement("div",{className:"_6aaq"},b("React").createElement("div",{className:"_6aav"},b("React").createElement(b("ShimButton.react"),{className:"_6aaw _2a8_"+(this.props.isMobilePreview?" _2a90":""),onClick:function(b){return a.$1(b,!0)}},b("React").createElement(b("Image.react"),{className:"_2a92",src:this.props.isMobilePreview?g("438996"):g("407248")})),b("React").createElement(b("ShimButton.react"),{className:"_6aaw _2a93"+(this.props.isMobilePreview?"":" _2a90"),onClick:function(b){return a.$1(b,!1)}},b("React").createElement(b("Image.react"),{className:"_2a92",src:this.props.isMobilePreview?g("438985"):g("438986")})))),e=b("React").createElement(b("SphericalDirectorFOVSlider.react"),{decimalPlaces:0,min:j,max:k,value:this.props.fov,onChange:this.props.onFOVUpdate});return b("React").createElement("div",{className:"_2a94"},c,d,e)};d.$1=function(a,b){a.preventDefault(),this.props.onToggleIsMobilePreview(b)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("SphericalDirectorVideo.react",["cx","fbt","ix","DOM","Image.react","React","SphericalDirectorEvents","SphericalDirectorVideoBottomControlBar.react","SphericalDirectorVideoConstants","SphericalDirectorVideoIntroTextSection.react","SphericalDirectorVideoLoader","SphericalDirectorVideoPreviewGuide","SphericalDirectorVideoPreviewOverlayButtons","SphericalDirectorVideoPreviewSpinner","SphericalDirectorVideoPreviewViewportControl","SphericalDirectorVideoTopControlBar.react","SphericalVideoHalfEquirectConfig","SphericalVideoPlayerEvents","SphericalVideoRecenterControl","VideoPlayerStates","VideoProjection","VideoSphericalHeadingIndicator","emptyFunction","gkx"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=b("gkx")("678911");a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.state={controller:null};d.$8=function(a){__p&&__p();var c=d.props.yaw,e=d.props.pitch,f=d.props.fov,g=d.props.guideEnabled,h=d.props.keyframes.map(function(a){return a.getLegacyParams()}).toJS();d.$9(function(c){d.$1=new(b("VideoSphericalHeadingIndicator"))(a,c,0,0,f,!0)},function(c){d.$2=new(b("SphericalDirectorVideoPreviewSpinner"))(a,c)});d.props.isEditingKeyframeEnabled!==!1&&d.$9(function(c){d.$3=new(b("SphericalDirectorVideoPreviewOverlayButtons"))(a,c,d.props.isEditingKeyframe,d.props.isMobilePreview)});d.$5=new(b("SphericalDirectorVideoPreviewViewportControl"))(a,c,e,f,d.props.onViewportUpdate,d.props.onFOVUpdate);j||(d.$4=new(b("SphericalVideoRecenterControl"))(a,c,e),d.$6=new(b("SphericalDirectorVideoPreviewGuide"))(a,c,e,g,h,d.props.projection,d.props.onGuidePointAdded,d.props.onGuidePointRemoved,d.props.toggleGuidePointEdit,d.props.onGuidePointSaved,d.props.updateActiveGuideKeyframe,!0));d.props.onLoadVideoSuccess(a);d.setState({controller:a});var i=a.addListener("stateChange",function(){a.isState(b("VideoPlayerStates").DESTROYED)&&(i.remove(),d.componentWillUnmount(),d.setState({controller:null}))})};d.$10=function(a){d.props.onToggleMobilePreview(a),d.state.controller&&d.state.controller.emit(b("SphericalDirectorEvents").PREVIEW.MOBILE_PREVIEW_UPDATE,a)};d.$11=function(a){d.props.onProjectionSelected(a),d.$12()};d.$13=function(a){d.props.onStereoModeSelected(a),d.$12()};var e=c.videoFile,f=c.videoID,g=c.videoData;d.$7=function(){var a={initialHeading:d.props.yaw,initialPitch:d.props.pitch,fieldOfView:d.props.fov,stereoFormat:d.props.stereoMode,projection:d.props.projection,root:d.refs.container,video:d.refs.video,onSuccess:d.$8,onError:d.props.onLoadVideoError,autoplay:!0};d.props.shouldLoadVideo&&(e||f!=null?b("SphericalDirectorVideoLoader").load(d.props.videoFile,d.props.videoID,a):g&&b("SphericalDirectorVideoLoader").loadWithVideoData(g,a),d.$7=b("emptyFunction"))};return d}var d=c.prototype;d.componentWillUnmount=function(){this.$4&&this.$4.destroy(),this.$5&&this.$5.destroy(),this.$6&&this.$6.destroy()};d.componentDidMount=function(){this.$7()};d.componentDidUpdate=function(a){__p&&__p();var c=this.state.controller;if(!c){this.$7();return}this.props.isLargeHeight?c.setDimensions(b("SphericalDirectorVideoConstants").VIDEO_WIDTH_PX,b("SphericalDirectorVideoConstants").VIDEO_HEIGHT_LARGE_PX):this.props.isLargeHeight||c.setDimensions(b("SphericalDirectorVideoConstants").VIDEO_WIDTH_PX,b("SphericalDirectorVideoConstants").VIDEO_HEIGHT_DEFAULT_PX);this.props.guideEnabled!==a.guideEnabled&&c.emit(b("SphericalDirectorEvents").PREVIEW.GUIDE_STATE_UPDATE,this.props.guideEnabled);this.props.guideVisible!==a.guideVisible&&c.emit(b("SphericalDirectorEvents").PREVIEW.GUIDE_VISIBILITY_UPDATE,this.props.guideVisible);this.props.fov!==a.fov&&c.emit(b("SphericalDirectorEvents").PREVIEW.FIELD_OF_VIEW_UPDATE,this.props.fov);this.props.keyframes.equals(a.keyframes)||c.emit(b("SphericalDirectorEvents").PREVIEW.GUIDE_KEYFRAMES_UPDATE,this.props.keyframes.map(function(a){return a.getLegacyParams()}).toJS());this.props.isEditingKeyframe!==a.isEditingKeyframe&&c.emit(b("SphericalDirectorEvents").PREVIEW.KEYFRAME_EDITING_STATE_UPDATE,this.props.isEditingKeyframe);if(this.props.projection!==a.projection){c.emit(b("SphericalVideoPlayerEvents").SET_VIDEO_PROJECTION,this.props.projection);c.emit(b("SphericalDirectorEvents").PREVIEW.PROJECTION_UPDATE,this.props.projection);var d=this.props.projection===b("VideoProjection").HALF_EQUIRECTANGULAR?b("SphericalVideoHalfEquirectConfig").getHalfEquirectangularPartialLimits():null;c.emit(b("SphericalVideoPlayerEvents").SET_PARTIAL_LIMITS,d);d=this.props.projection===b("VideoProjection").HALF_EQUIRECTANGULAR?b("SphericalVideoHalfEquirectConfig").getHalfEquirectangularControllerConfig():{};c.emit(b("SphericalVideoPlayerEvents").SET_VIEWPORT_CONTROL_CONFIG,d)}this.props.stereoMode!==a.stereoMode&&c.emit(b("SphericalVideoPlayerEvents").SET_STEREO_MODE,this.props.stereoMode)};d.$9=function(){var a=this;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];d.forEach(function(c){var d=b("DOM").create("div",{className:"_2sva"});b("DOM").insertAfter(a.refs.video,d);c(d)})};d.$12=function(){this.props.onGuidePointsCleared(),this.state.controller&&this.state.controller.setSphericalOrientation(0,0)};d.render=function(){var a,c,d,e,f;this.props.videoLoading?a=b("React").createElement("div",{className:"_2svb"},b("React").createElement("div",{className:"_2svc"},h._("Loading Video Preview..."))):this.props.videoUnavailable?a=b("React").createElement("div",{className:"_2svb"},b("React").createElement("div",{className:"_2svc"},h._("Video Preview Unavailable"))):(this.props.isMobilePreview&&(a=[b("React").createElement(b("Image.react"),{key:"phone-image",className:"_2svd"+(this.props.isMobilePreview?"":" _2sve"),src:i("509012")}),b("React").createElement("div",{key:"left",className:"_2svf _2svg"+(this.props.isMobilePreview?"":" _2sve")}),b("React").createElement("div",{key:"right",className:"_2svf _2svi"+(this.props.isMobilePreview?"":" _2sve")})]),this.state.controller&&(this.props.showTopControlBar!==!1&&(c=b("React").createElement(b("SphericalDirectorVideoTopControlBar.react"),{allowOmnistabToggle:this.props.allowOmnistabToggle,controller:this.state.controller,omnistabEnabled:!1,showOmnistabSection:!1,onToggleEnableOmnistab:this.props.onToggleEnableOmnistab,onToggleIsMobilePreview:this.$10,isMobilePreview:this.props.isMobilePreview,fov:this.props.fov,onFOVUpdate:this.props.onFOVUpdate})),d=b("React").createElement(b("SphericalDirectorVideoBottomControlBar.react"),{controller:this.state.controller,projection:this.props.projection,stereoMode:this.props.stereoMode,hasSpatialAudio:this.props.hasSpatialAudio,onProjectionSelected:this.$11,onStereoModeSelected:this.$13,isEditing:this.props.isEditing}),this.props.showIntroSection!==!1&&(f=b("React").createElement(b("SphericalDirectorVideoIntroTextSection.react"),{componentSource:this.props.componentSource}))));return b("React").createElement("div",{ref:"root",className:""+(this.props.isLargeHeight?" _2svk":"")},f,c,b("React").createElement("div",{className:"_2svl"},e,b("React").createElement("div",{ref:"container",className:"_2svm"+(this.props.isMobilePreview?" _2svn":"")},b("React").createElement("video",{ref:"video",crossOrigin:"anonymous",className:"_2svo"}),a)),d)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("AudioChannelLayout",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNKNOWN:"unknown",MONO:"mono",STEREO:"stereo",TBE_8:"tbe_8",TBE_8_2:"tbe_8.2",TBE_6_2:"tbe_6.2",AMBIX_4:"ambiX_4",AMBIX_4_2:"ambiX_4.2",AMBIX_9:"ambiX_9",AMBIX_9_2:"ambiX_9.2",AMBIX_16:"ambiX_16",AMBIX_16_2:"ambiX_16.2",HEADLOCKED:"headlocked",BINAURAL:"binaural",TBE_8A:"tbe_8a",TBE_8B:"tbe_8b",TBE_4:"tbe_4"})}),null);
__d("SphericalDirectorSpatialAudioUtils",["AudioChannelLayout","SphericalDirectorStore","VideoComposerDispatchers","VideoComposerStores","VideoUploadFile","gkx","objectValues"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("VideoComposerDispatchers").DEFAULT_VIDEO_COMPOSER_ID,h=2048,i=2048;a={getBufferParams:function(){return{blockSize:h,latencySamples:i}},getCanUseSpatialAudio:function(){return b("gkx")("845747")},getFocusEnabled:function(){var a=b("SphericalDirectorStore").getState().fbSpatialAudioMetadata;return(a==null?void 0:(a=a.focusData)==null?void 0:a.enabled)===!0},getOffFocusLevelDB:function(){var a=b("SphericalDirectorStore").getState().fbSpatialAudioMetadata;return(a=a==null?void 0:(a=a.focusData)==null?void 0:a.offFocusLevelDB)!=null?a:0},getFocusWidth:function(){var a=b("SphericalDirectorStore").getState().fbSpatialAudioMetadata;return(a=a==null?void 0:(a=a.focusData)==null?void 0:a.focusWidthDegrees)!=null?a:0},getRemapChannelsForSevenPointOne:function(){return b("gkx")("845748")},getUseWebAudioImplementation:function(){return!1},getUseNewAudio360Renderer:function(){return!1},getAudioChannelLayout:function(){var a=b("SphericalDirectorStore").getState().fbSpatialAudioMetadata;a=a==null?void 0:a.trackData;if(a&&a.length>0){var c=a[0].value;return b("objectValues")(b("AudioChannelLayout")).find(function(a){return a===c})}return null},getShouldUseSpatialAudioController:function(){var a;a=(a=(a=b("VideoComposerStores").getUploadStore(g).getState().videoFile)==null?void 0:a.name)!=null?a:"";return b("gkx")("816873")&&b("VideoUploadFile").getExtensionFromFileName(a)==="mkv"&&b("SphericalDirectorStore").getState().fbSpatialAudioMetadata!==null}};e.exports=a}),null);
__d("ComposerVideoAdBreakActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({DELETE_AD_BREAK:"",INSERT_CURRENT_AD_BREAK:"",SET_AD_BREAKS_EXPERIMENT_ENABLED:"",SET_AD_BREAKS_EXPERIMENT_REVENUE_LOSS_THRESHOLD:"",SET_CURRENT_AD_BREAK:"",SET_EXISTING_AD_BREAKS:"",SET_IS_AD_BREAK_AUTO_ADJUSTMENT_ENABLED:"",SET_IS_AD_BREAK_AUTO_INSERTION_ENABLED:"",SET_THUMBNAIL_URL_FOR_AD_BREAK:"",SET_RIGHT_AGREEMENT:"",SET_VIDEO_DURATION:"",UPDATE_AD_BREAKS_STATUS:""});e.exports=a}),null);
__d("ComposerVideoAdBreakStore",["AdBreakStatus","ComposerVideoAdBreakActionTypes","DateConsts","ReactComposerStoreBase","ReactComposerTaggerActionType","VideoInstreamUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;c=a.call(this,function(){return{adBreaksDisabled:!1,adBreaksExperimentEnabled:!1,adBreaksExperimentRevenueLossThreshold:0,currentAdBreak:0,insertedAdBreaks:[],isAdBreakAutoAdjustmentEnabled:!1,isAdBreakAutoInsertionEnabled:!1,isBrandedContentVideo:!1,lastInsertedAdBreak:null,videoDuration:0,videoRightsAgreed:!1}},function(a){__p&&__p();switch(a.type){case b("ComposerVideoAdBreakActionTypes").DELETE_AD_BREAK:d&&d.$ComposerVideoAdBreakStore1(a);break;case b("ComposerVideoAdBreakActionTypes").UPDATE_AD_BREAKS_STATUS:d&&d.$ComposerVideoAdBreakStore2(a);break;case b("ComposerVideoAdBreakActionTypes").INSERT_CURRENT_AD_BREAK:d&&d.$ComposerVideoAdBreakStore3(a);break;case b("ComposerVideoAdBreakActionTypes").SET_AD_BREAKS_EXPERIMENT_ENABLED:d&&d.$ComposerVideoAdBreakStore4(a);break;case b("ComposerVideoAdBreakActionTypes").SET_AD_BREAKS_EXPERIMENT_REVENUE_LOSS_THRESHOLD:d&&d.$ComposerVideoAdBreakStore5(a);break;case b("ComposerVideoAdBreakActionTypes").SET_CURRENT_AD_BREAK:d&&d.$ComposerVideoAdBreakStore6(a);break;case b("ComposerVideoAdBreakActionTypes").SET_EXISTING_AD_BREAKS:d&&d.$ComposerVideoAdBreakStore7(a);break;case b("ComposerVideoAdBreakActionTypes").SET_IS_AD_BREAK_AUTO_ADJUSTMENT_ENABLED:d&&d.$ComposerVideoAdBreakStore8(a);break;case b("ComposerVideoAdBreakActionTypes").SET_IS_AD_BREAK_AUTO_INSERTION_ENABLED:d&&d.$ComposerVideoAdBreakStore9(a);break;case b("ComposerVideoAdBreakActionTypes").SET_THUMBNAIL_URL_FOR_AD_BREAK:d&&d.$ComposerVideoAdBreakStore10(a);break;case b("ComposerVideoAdBreakActionTypes").SET_VIDEO_DURATION:d&&d.$ComposerVideoAdBreakStore11(a);break;case b("ComposerVideoAdBreakActionTypes").SET_RIGHT_AGREEMENT:d&&d.$ComposerVideoAdBreakStore12(a);break;case b("ReactComposerTaggerActionType").SET_IS_BRANDED_CONTENT_VIDEO:d&&d.$ComposerVideoAdBreakStore13(a);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.clearComposerData=function(b){a.prototype.clearComposerData.call(this,b),this.emitChange(b)};d.getAdBreaksExperimentEnabled=function(a){return this.getComposerData(a).adBreaksExperimentEnabled};d.getAdBreaksExperimentRevenueLossThreshold=function(a){return this.getComposerData(a).adBreaksExperimentRevenueLossThreshold};d.getAdBreaksStatus=function(a){return this.getComposerData(a).adBreaksDisabled};d.getCurrentAdBreak=function(a){return this.getComposerData(a).currentAdBreak};d.getInsertedAdBreaks=function(a){return this.getComposerData(a).insertedAdBreaks};d.getLastInsertedAdBreak=function(a){return this.getComposerData(a).lastInsertedAdBreak};d.getIsAdBreakAutoAdjustmentEnabled=function(a){return this.getComposerData(a).isAdBreakAutoAdjustmentEnabled};d.getIsAdBreakAutoInsertionEnabled=function(a){return this.getComposerData(a).isAdBreakAutoInsertionEnabled};d.getIsBrandedContentVideo=function(a){return this.getComposerData(a).isBrandedContentVideo};d.getVideoDuration=function(a){return this.getComposerData(a).videoDuration};d.getVideoRightsAgreed=function(a){return this.getComposerData(a).videoRightsAgreed};d.getAdBreakTabState=function(a,c,d){return b("VideoInstreamUtils").getAdBreakTabState(c,this.getIsBrandedContentVideo(a),this.getVideoDuration(a),d)};d.getShouldDisableAdBreakInsertion=function(a,b,c){return this.getAdBreakTabState(a,b,c).disabled};d.getHasAdBreaksInserted=function(a){var b=this.getInsertedAdBreaks(a);a=this.getAdBreaksStatus(a);return b.length!==0&&!a};d.getPostData=function(a){var c=this.getAdBreaksStatus(a),d=this.getIsBrandedContentVideo(a),e=c||d?b("AdBreakStatus").DISABLED:b("AdBreakStatus").ENABLED;d=this.getInsertedAdBreaks(a);d=d.map(function(a){return{time_offset:a.timeOffset*b("DateConsts").MS_PER_SEC,status:e}});var f=this.getAdBreaksExperimentEnabled(a),g=this.getAdBreaksExperimentRevenueLossThreshold(a),h=this.getIsAdBreakAutoAdjustmentEnabled(a);a=this.getIsAdBreakAutoInsertionEnabled(a);d={ad_breaks:d,ad_breaks_experiment_revenue_loss_threshold:g,enable_ad_breaks_experiment:f,should_auto_adjust_manual_ad_breaks:h,should_auto_insert_ad_breaks:a&&!c};return d};d.$ComposerVideoAdBreakStore11=function(a){var b=this.getComposerData(a.composerID);b.videoDuration=a.duration;this.emitChange(a.composerID)};d.$ComposerVideoAdBreakStore7=function(a){var c=this.getComposerData(a.composerID);c.currentAdBreak=null;var d=a.existingAdBreaks.map(function(a){return{timeOffset:a.time_offset/b("DateConsts").MS_PER_SEC,thumbnailURL:null}});d.sort(function(a,b){return a.timeOffset-b.timeOffset});c.insertedAdBreaks=d;c.videoRightsAgreed=c.videoRightsAgreed||d.length>0;this.emitChange(a.composerID)};d.$ComposerVideoAdBreakStore8=function(a){var b=this.getComposerData(a.composerID);b.isAdBreakAutoAdjustmentEnabled=a.enabled;this.emitChange(a.composerID)};d.$ComposerVideoAdBreakStore9=function(a){var b=this.getComposerData(a.composerID);b.isAdBreakAutoInsertionEnabled=a.enabled;b.videoRightsAgreed=b.videoRightsAgreed||b.isAdBreakAutoInsertionEnabled;this.emitChange(a.composerID)};d.$ComposerVideoAdBreakStore10=function(a){var b=this.getComposerData(a.composerID),c=this.getInsertedAdBreaks(a.composerID);c=c.map(function(b){a.adBreaks.forEach(function(a){b.timeOffset===a.timeOffset&&(b.thumbnailURL=a.thumbnailURL)});return Object.assign({},b)});b.insertedAdBreaks=c;this.emitChange(a.composerID)};d.$ComposerVideoAdBreakStore1=function(a){var b=this.getComposerData(a.composerID);b.lastInsertedAdBreak=null;var c=b.insertedAdBreaks;c.splice(a.adBreakIndex,1);c=c.map(function(a){return Object.assign({},a)});b.insertedAdBreaks=c;this.emitChange(a.composerID)};d.$ComposerVideoAdBreakStore2=function(a){var b=this.getComposerData(a.composerID);b.adBreaksDisabled=a.adBreaksDisabled;this.emitChange(a.composerID)};d.$ComposerVideoAdBreakStore3=function(a){__p&&__p();var b=this.getComposerData(a.composerID),c=this.getCurrentAdBreak(a.composerID),d=this.getInsertedAdBreaks(a.composerID);if(c===null)return;if(d.findIndex(function(a){return a.timeOffset===c})>=0)return;c=Number(c);var e=this.$ComposerVideoAdBreakStore14(d,c),f={timeOffset:c,thumbnailURL:null};b.lastInsertedAdBreak=f;d.splice(e,0,f);e=d.map(function(a){return Object.assign({},a)});b.insertedAdBreaks=e;this.emitChange(a.composerID)};d.$ComposerVideoAdBreakStore6=function(a){var b=this.getComposerData(a.composerID);b.currentAdBreak=a.adBreak;b.lastInsertedAdBreak=null;this.emitChange(a.composerID)};d.$ComposerVideoAdBreakStore13=function(a){var b=this.getComposerData(a.composerID);b.isBrandedContentVideo=a.isBrandedContentVideo;this.emitChange(a.composerID)};d.$ComposerVideoAdBreakStore4=function(a){var b=this.getComposerData(a.composerID);b.adBreaksExperimentEnabled=a.adBreaksExperimentEnabled;this.emitChange(a.composerID)};d.$ComposerVideoAdBreakStore5=function(a){var b=this.getComposerData(a.composerID);b.adBreaksExperimentRevenueLossThreshold=a.adBreaksExperimentRevenueLossThreshold;this.emitChange(a.composerID)};d.$ComposerVideoAdBreakStore12=function(a){var b=this.getComposerData(a.composerID);b.videoRightsAgreed=a.agree;this.emitChange(a.composerID)};d.$ComposerVideoAdBreakStore14=function(a,b){var c;for(c=0;c<a.length;c++)if(a[c].timeOffset>b)break;return c};return c}(b("ReactComposerStoreBase"));e.exports=new a()}),null);
__d("ComposerVideoAdBreakActions",["ComposerVideoAdBreakActionTypes","ReactComposerDispatcher","ComposerVideoAdBreakStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("ComposerVideoAdBreakStore");a={deleteAdBreak:function(a,c){b("ReactComposerDispatcher").dispatch({type:b("ComposerVideoAdBreakActionTypes").DELETE_AD_BREAK,composerID:a,adBreakIndex:c})},setAdBreaksExperimentEnabled:function(a,c){b("ReactComposerDispatcher").dispatch({type:b("ComposerVideoAdBreakActionTypes").SET_AD_BREAKS_EXPERIMENT_ENABLED,composerID:a,adBreaksExperimentEnabled:c})},setAdBreaksExperimentRevenueLossThreshold:function(a,c){b("ReactComposerDispatcher").dispatch({type:b("ComposerVideoAdBreakActionTypes").SET_AD_BREAKS_EXPERIMENT_REVENUE_LOSS_THRESHOLD,composerID:a,adBreaksExperimentRevenueLossThreshold:c})},updateAdBreaksStatus:function(a,c){b("ReactComposerDispatcher").dispatch({type:b("ComposerVideoAdBreakActionTypes").UPDATE_AD_BREAKS_STATUS,composerID:a,adBreaksDisabled:c})},setIsAdBreakAutoAdjustmentEnabled:function(a,c){b("ReactComposerDispatcher").dispatch({type:b("ComposerVideoAdBreakActionTypes").SET_IS_AD_BREAK_AUTO_ADJUSTMENT_ENABLED,composerID:a,enabled:c})},setIsAdBreakAutoInsertionEnabled:function(a,c){b("ReactComposerDispatcher").dispatch({type:b("ComposerVideoAdBreakActionTypes").SET_IS_AD_BREAK_AUTO_INSERTION_ENABLED,composerID:a,enabled:c})},insertCurrentAdBreak:function(a){b("ReactComposerDispatcher").dispatch({type:b("ComposerVideoAdBreakActionTypes").INSERT_CURRENT_AD_BREAK,composerID:a})},setCurrentAdBreak:function(a,c){b("ReactComposerDispatcher").dispatch({type:b("ComposerVideoAdBreakActionTypes").SET_CURRENT_AD_BREAK,composerID:a,adBreak:c})},setExistingAdBreaks:function(a,c){b("ReactComposerDispatcher").dispatch({type:b("ComposerVideoAdBreakActionTypes").SET_EXISTING_AD_BREAKS,composerID:a,existingAdBreaks:c})},setThumbnailURLForAdBreak:function(a,c){b("ReactComposerDispatcher").dispatch({type:b("ComposerVideoAdBreakActionTypes").SET_THUMBNAIL_URL_FOR_AD_BREAK,composerID:a,adBreaks:c})},setVideoDuration:function(a,c){b("ReactComposerDispatcher").dispatch({type:b("ComposerVideoAdBreakActionTypes").SET_VIDEO_DURATION,composerID:a,duration:c})},setVideoRightsAgreed:function(a,c){b("ReactComposerDispatcher").dispatch({type:b("ComposerVideoAdBreakActionTypes").SET_RIGHT_AGREEMENT,composerID:a,agree:c})}};e.exports=a}),null);
__d("ComposerVideoShowsActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({SET_IS_EPISODE:"",SET_PLAYLISTS:"",SET_SEASON:"",SET_SERIES:"",SET_SERIES_AND_SEASON_OPTIONS:"",SET_PLAYLIST_OPTIONS:"",SET_SEASON_OPTIONS:"",REQUEST_SHOWS_V2_VIDEO_DATA:"",REQUEST_VIDEO_LIST_OPTIONS:"",INITIALIZE:"",LOAD_EPISODE_DATA:""});e.exports=a}),null);
__d("ComposerVideoShowsDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;babelHelpers.assertThisInitialized(b).dispatch=b.dispatch.bind(babelHelpers.assertThisInitialized(b));return b}return b}(b("ExplicitRegistrationReactDispatcher"));e.exports=new a({strict:!0})}),null);
__d("ComposerVideoShowsActions",["ComposerVideoShowsActionTypes","ComposerVideoShowsDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={initialize:function(a,c,d){b("ComposerVideoShowsDispatcher").dispatch({type:b("ComposerVideoShowsActionTypes").INITIALIZE,composerID:a,composerEntryPoint:c,isEditing:d})},setIsEpisode:function(a){b("ComposerVideoShowsDispatcher").dispatch({type:b("ComposerVideoShowsActionTypes").SET_IS_EPISODE,isEpisode:a})},setPlaylists:function(a){b("ComposerVideoShowsDispatcher").dispatch({type:b("ComposerVideoShowsActionTypes").SET_PLAYLISTS,playlistIDs:a})},setSeason:function(a){b("ComposerVideoShowsDispatcher").dispatch({type:b("ComposerVideoShowsActionTypes").SET_SEASON,seasonID:a})},setSeries:function(a){b("ComposerVideoShowsDispatcher").dispatch({type:b("ComposerVideoShowsActionTypes").SET_SERIES,seriesID:a})},setPlaylistOptions:function(a){b("ComposerVideoShowsDispatcher").dispatch({type:b("ComposerVideoShowsActionTypes").SET_PLAYLIST_OPTIONS,value:a})},setSeasonOptions:function(a){b("ComposerVideoShowsDispatcher").dispatch({type:b("ComposerVideoShowsActionTypes").SET_SEASON_OPTIONS,value:a})},setSeriesAndSeasonOptions:function(a,c){b("ComposerVideoShowsDispatcher").dispatch({type:b("ComposerVideoShowsActionTypes").SET_SERIES_AND_SEASON_OPTIONS,seriesOptionsMap:a,seriesToSeasonOptionsMap:c})},requestVideoListOptions:function(a){b("ComposerVideoShowsDispatcher").dispatch({type:b("ComposerVideoShowsActionTypes").REQUEST_VIDEO_LIST_OPTIONS,pageID:a})},requestShowsV2VideoData:function(a){b("ComposerVideoShowsDispatcher").dispatch({type:b("ComposerVideoShowsActionTypes").REQUEST_SHOWS_V2_VIDEO_DATA,videoID:a})},loadEpisodeData:function(a,c){b("ComposerVideoShowsDispatcher").dispatch({type:b("ComposerVideoShowsActionTypes").LOAD_EPISODE_DATA,composerID:a,isEpisode:c.isEpisode,seasonID:c.seasonID,playlistIDs:c.playlistIDs})}};e.exports=a}),null);
__d("XSphericalMediaNUXController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/spherical_media/show_nux/",{})}),null);
__d("ComposerVideoPostUtils",["Promise","regeneratorRuntime","AsyncRequest","BasicVector","ComposerVideoAdBreakActions","ComposerVideoAdBreakStore","ComposerVideoShowsActions","ComposerVideoUploadActions","ComposerVideoUploadStore","FileVideoThumbnail","PagesSettingsInstreamAdsBlockListStore","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","SearchableEntry","ShowsVideoDataTypedLogger","SphericalDirectorAction","SphericalDirectorGuideKeyframeData","SphericalDirectorStore","VideoCaptionFile","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogVersion","VideoComposerDispatchers","VideoComposerStores","VideoContentCategoryType","VideoCopyrightUtils","VideoEditFlow","VideoUploadSphericalControlsAction","VideoUploadSphericalLogger","XSphericalMediaNUXController","flattenPHPQueryData","immutable","isEmpty","promiseDone"],(function(a,b,c,d,e,f){__p&&__p();var g=b("VideoComposerDispatchers").DEFAULT_VIDEO_COMPOSER_ID,h=b("immutable").List,i=1e3,j=60*i,k={updateStore:function(a,c){__p&&__p();var d=c.locationEntry?new(b("SearchableEntry"))(c.locationEntry):null;d=d?{place:d,implicitLocation:{}}:null;b("ComposerVideoUploadActions").updateTitle(a,c.title);b("ComposerVideoUploadActions").updateDescription(a,c.description);b("ComposerVideoUploadActions").updateFeedType(a,c.feedType);b("ComposerVideoUploadActions").updateCategory(a,c.category);b("ComposerVideoUploadActions").updateContentTags(a,c.contentTags);b("ComposerVideoUploadActions").updateThumbnail(a,c.thumbnail);b("ComposerVideoUploadActions").updateCaptions(a,c.captions);b("ComposerVideoUploadActions").updateLiveCaptions(a,c.liveCaptions);b("ComposerVideoUploadActions").updateSpherical(a,c.isSpherical);b("ComposerVideoUploadActions").updateExpiration(a,c.expirationTime,c.expirationType);b("ComposerVideoUploadActions").updatePublish(a,!1);b("ComposerVideoUploadActions").updateExpire(a,!1);b("ComposerVideoUploadActions").updateScheduledPublishTime(a,c.scheduledPublishTime);b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(a,b("ReactComposerTaggerType").PEOPLE,c.tags);c.sponsorData&&b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(a,b("ReactComposerTaggerType").SPONSOR,c.sponsorData);d&&b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(a,b("ReactComposerTaggerType").LOCATION,d);c.productTags&&b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(a,b("ReactComposerTaggerType").PRODUCT,c.productTags);c.backdate&&b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(a,b("ReactComposerTaggerType").BACKDATE,c.backdate);c.episodeData&&c.isShowPage&&b("ComposerVideoShowsActions").loadEpisodeData(a,c.episodeData);b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(a,b("ReactComposerTaggerType").OG,null);b("ComposerVideoUploadActions").updateEmbeddable(a,c.embeddable);b("ComposerVideoUploadActions").updateIsFeaturedVideo(a,c.isFeaturedVideo?c.isFeaturedVideo:!1);b("ComposerVideoUploadActions").updateCopyrighted(a,c.isCopyrighted?c.isCopyrighted:!1);b("ComposerVideoUploadActions").updateCopyrightOwnershipCountries(a,c.ownershipCountries||[],!!c.areCountriesIncluded);b("ComposerVideoUploadActions").updateCopyrightAttributionID(a,c.attributionID);b("ComposerVideoUploadActions").updateCopyrightWhitelistedFBUsers(a,c.whitelistedFBUsers||[]);b("ComposerVideoUploadActions").updateCopyrightWhitelistedIGUserNames(a,c.whitelistedIGUserNames||[]);b("ComposerVideoUploadActions").updateCopyrightRuleID(a,c.ruleIDs&&c.ruleIDs.length?c.ruleIDs[0].toString():null);b("ComposerVideoUploadActions").updateCopyrightMonitoringType(a,c.monitoringType||b("VideoCopyrightUtils").DEFAULT_MONITORING_TYPE);b("ComposerVideoUploadActions").updateCopyrightReferenceCategory(a,c.selectedCategory);b("ComposerVideoUploadActions").updateInternalVideoSettings(a,c.isInternalVideo);b("ComposerVideoUploadActions").updateFTEOnly(a,c.isFTEOnly);b("ComposerVideoUploadActions").updatePermissions(a,c.permissions);b("ComposerVideoUploadActions").updateExternalVideoID(a,c.externalVideoID);b("ComposerVideoUploadActions").updateCustomLabels(a,c.customLabels);b("ComposerVideoUploadActions").updateVideoDurationInSec(a,c.duration);b("ComposerVideoUploadActions").updateEnableThumbnailExperiment(a,c.enableThumbnailExperiment);b("SphericalDirectorAction").clearSphericalDirector();b("SphericalDirectorAction").updateEnableOmnistab(c.enableOmnistab);b("SphericalDirectorAction").updateFOV(c.fov);b("SphericalDirectorAction").updateCurrentViewport(c.initialPitch,c.initialHeading);b("SphericalDirectorAction").updateGuideEnabled(c.guideEnabled);b("SphericalDirectorAction").updateProjection(c.projection);b("SphericalDirectorAction").updateStereoMode(c.stereoMode);b("SphericalDirectorAction").updateHasSpatialAudio(c.hasSpatialAudio);d=[[0,c.initialPitch,c.initialHeading]].concat(c.guideKeyframes).map(function(a){return b("SphericalDirectorGuideKeyframeData").getFromLegacyParams(a)});b("SphericalDirectorAction").updateGuideKeyframes(h(d));b("ComposerVideoAdBreakStore").clearComposerData(a);c.existingAdBreaks&&b("ComposerVideoAdBreakActions").setExistingAdBreaks(a,c.existingAdBreaks);b("ComposerVideoAdBreakActions").updateAdBreaksStatus(a,c.adBreaksDisabled);b("ComposerVideoAdBreakActions").setAdBreaksExperimentEnabled(a,c.enableAdBreaksExperiment);b("ComposerVideoAdBreakActions").setAdBreaksExperimentRevenueLossThreshold(a,c.adBreaksExperimentRevenueLossThreshold);b("ComposerVideoAdBreakActions").setIsAdBreakAutoAdjustmentEnabled(a,c.isAdBreakAutoAdjustmentEnabled);b("ComposerVideoAdBreakActions").setIsAdBreakAutoInsertionEnabled(a,c.isAdBreakAutoInsertionEnabled)},getDetailsFromStore:function(a){__p&&__p();var c=b("ComposerVideoUploadStore").getTitle(a),d=b("ComposerVideoUploadStore").getExternalVideoID(a),e=b("ComposerVideoUploadStore").getCustomLabels(a),f=b("ComposerVideoUploadStore").getEnableThumbnailExperiment(a),g=b("ComposerVideoUploadStore").getFeedType(a),h=b("ComposerVideoUploadStore").getCallToAction(a),i=b("ComposerVideoUploadStore").getCategory(a),j=b("ComposerVideoUploadStore").getContentTags(a),k=b("ComposerVideoUploadStore").getThumbnail(a),l=b("ComposerVideoUploadStore").getDescription(a),m=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").PEOPLE)||[],n=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").LOCATION)||{};n=n?n.place:{};var o=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").BACKDATE);m=m.map(function(a){return a.getUniqueID()});var p=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").ACTIVITY),q=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").TARGETING),r=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").SPONSOR)||{},s={directShareStatus:r.directShareStatus,sponsorRelationship:r.sponsorRelationship,sponsors:[]};(r.sponsors||[]).map(function(a){s.sponsors.push(a.getUniqueID())});r=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").PRODUCT)||[];r=r.map(function(a){return a.getUniqueID()});var t=b("ComposerVideoUploadStore").getCaptions(a),u=b("ComposerVideoUploadStore").getLiveCaptions(a),v=b("ComposerVideoUploadStore").getExpirationTime(a),w=b("ComposerVideoUploadStore").getExpirationType(a),x=b("ComposerVideoUploadStore").getScheduledPublishTime(a),y=b("ComposerVideoUploadStore").getPublish(a),z=b("ComposerVideoUploadStore").getSpherical(a),A=b("SphericalDirectorStore").getPostData()||{},B=A.initialHeading,C=A.initialPitch,D=A.fov,E=A.guide_enabled,F=A.guide_keyframes;A=A.enable_omnistab;var G=b("ComposerVideoUploadStore").getExpire(a),H=b("ComposerVideoUploadStore").getEmbeddable(a),I=b("ComposerVideoUploadStore").getExcludeNewsfeed(a),J=b("ComposerVideoUploadStore").getIsSecretVideo(a),K=b("ComposerVideoUploadStore").getBlockSocialActions(a),L=b("ComposerVideoUploadStore").getCopyrighted(a),M=b("ComposerVideoUploadStore").getCopyrightMonitoringType(a),N=b("ComposerVideoUploadStore").getCopyrightRuleID(a),O=b("ComposerVideoUploadStore").getCopyrightOwnershipCountries(a),P=b("ComposerVideoUploadStore").getAreCopyrightCountriesIncluded(a),Q=b("ComposerVideoUploadStore").getCopyrightWhitelistedFBUsers(a),R=b("ComposerVideoUploadStore").getCopyrightWhitelistedIGUserNames(a),S=b("ComposerVideoUploadStore").getCopyrightAttributionID(a),T=b("ComposerVideoUploadStore").getCopyrightReferenceCategory(a),U=b("ComposerVideoUploadStore").getInternalSetting(a),V=b("ComposerVideoUploadStore").getFteOnly(a),W=b("ComposerVideoUploadStore").getPermissions(a),X=b("ComposerVideoUploadStore").getEpisodeData(a),Y=b("ComposerVideoUploadStore").getSquareThumbnailDimensions(a),Z=b("ComposerVideoAdBreakStore").getPostData(a)||{},$=Z.ad_breaks,aa=Z.ad_breaks_experiment_revenue_loss_threshold,ba=Z.enable_ad_breaks_experiment,ca=Z.should_auto_adjust_manual_ad_breaks;Z=Z.should_auto_insert_ad_breaks;var da=b("PagesSettingsInstreamAdsBlockListStore").getComposerBlockListIdsToApply();a=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").FUNDRAISER);a=(a=a)!=null?a.charityID:a;return{adBreaks:$,adBreaksBlockListsToApply:da,title:c,externalVideoID:d,callToAction:h,captions:t,customLabels:e,enableAdBreaksExperiment:ba,enableThumbnailExperiment:f,adBreaksExperimentRevenueLossThreshold:aa,isAdBreakAutoAdjustmentEnabled:ca,isAdBreakAutoInsertionEnabled:Z,liveCaptions:u,category:i,contentTags:j,isCopyrighted:L,copyrightMonitoringType:M,copyrightRuleID:N,copyrightAttributionID:S,copyrightOwnershipCountries:O,copyrightWhitelistedFBUsers:Q,copyrightWhitelistedIGUserNames:R,areCopyrightCountriesIncluded:P,thumbnail:k,description:l,guideEnabled:E,guideKeyframes:F,backdate:o,feedType:g,fov:D,initialHeading:B,initialPitch:C,isSpherical:z,locationEntry:n,expirationTime:v,expirationType:w,scheduledPublishTime:x,selectedCategory:T,sponsorData:s,tags:m,productTags:r,activity:p,targeting:q,publish:y,expire:G,embeddable:H,noStory:I,isSecret:J,blockSocialActions:K,isInternalVideo:U,isFTEOnly:V,permissions:W,enableOmnistab:A,episodeData:X,squareThumbnailDimensions:Y,charityID:a}},logSphericalComposerDataIfNeeded:function(a,c){c===void 0&&(c=!1);a=k.getDetailsFromStore(a);var d=a.isSpherical;a=a.guideKeyframes;if(d){d=c?b("VideoUploadSphericalControlsAction").UPLOAD:b("VideoUploadSphericalControlsAction").SAVE_EDITS;c=a.length>0;b("VideoUploadSphericalLogger").setUserAction(d).setFinalGuideEnabled(c).setFinalNumGuidePoints(a.length).log()}},logShowsVideoData:function(a,c,d,e){var f=b("ComposerVideoUploadStore").getEpisodeData(a),g=JSON.stringify(this.calculateSquareThumbnailDimensions(b("ComposerVideoUploadStore").getSquareThumbnailDimensions(a)));if(f){a=f.isEpisode&&d==="upload"?b("ComposerVideoUploadStore").getShareToParentPageOptionSelected(a):!1;new(b("ShowsVideoDataTypedLogger"))().setVideoID(c).setSource(d).setComposerDialogVersion(b("VideoComposerDialogVersion").V1).setIsEpisode(f.isEpisode).setSeasonID(f.seasonID).setPlaylistIds(f.playlistIDs).setSquareThumbnailDimensions(g).setAutoCrosspostToParent(a).setPageID(e).log()}},createFormData:function(a,c,d,e,f,h,i,j,k,l,m,n,o){__p&&__p();var p=a.thumbnail,q=new FormData();q.append("edit_flow",b("VideoEditFlow").DIALOG);var r=b("flattenPHPQueryData")({ad_breaks:a.adBreaks});Object.keys(r).forEach(function(a){q.append(a,r[a])});a.adBreaksBlockListsToApply!==null&&(q.append("has_ad_breaks_block_lists","true"),q.append("ad_breaks_block_lists",a.adBreaksBlockListsToApply));q.append("content_category",a.category);q.append("content_tags",this.getContentTagEntryIDs(a.contentTags));q.append("free_form_tags",this.getFreeFormContentTags(a.contentTags));q.append("description",a.description);q.append("tags",a.tags);q.append("title",a.title);q.append("external_video_id",a.externalVideoID);q.append("custom_labels",a.customLabels);q.append("enable_ad_breaks_experiment",a.enableAdBreaksExperiment);q.append("ad_breaks_experiment_revenue_loss_threshold",a.adBreaksExperimentRevenueLossThreshold);q.append("should_auto_adjust_manual_ad_breaks",a.isAdBreakAutoAdjustmentEnabled);q.append("should_auto_insert_ad_breaks",a.isAdBreakAutoInsertionEnabled);q.append("enable_thumbnail_experiment",a.enableThumbnailExperiment);q.append("feed_type",a.feedType);var s=a.locationEntry?a.locationEntry.getUniqueID():null,t=a.locationEntry&&!a.locationEntry.getUniqueID()?a.locationEntry.getTitle():null;s?q.append("place_id",s):t&&q.append("place_name",t);a.sponsorData&&a.sponsorData.sponsors&&(q.append("sponsor_tags",a.sponsorData.sponsors),q.append("direct_share_status",a.sponsorData.directShareStatus),q.append("sponsor_relationship",a.sponsorData.sponsorRelationship));a.productTags&&q.append("product_tags",a.productTags);a.backdate.year&&q.append("backtime_year",a.backdate.year);a.backdate.month&&q.append("backtime_month",a.backdate.month);a.backdate.day&&q.append("backtime_day",a.backdate.day);a.backdate.hour&&q.append("backtime_hour",a.backdate.hour);a.backdate.minute&&q.append("backtime_minute",a.backdate.minute);a.expire&&q.append("expire",a.expire);a.publish&&q.append("publish",a.publish);s=d.scheduledPublishTime;t=a.scheduledPublishTime;if(t!==s){s=this._isTwoTimesAlmostTheSame(s,t);s||q.append("scheduled_publish_time",String(t/1e3))}s=d.expirationTime;t=d.expirationType;d=a.expirationTime;var u=a.expirationType;this._isTwoTimesAlmostTheSame(s,d);if(s!==d){s=this._isTwoTimesAlmostTheSame(s,d);s||q.append("expiration_time",String(d/1e3))}t!==u&&q.append("expiration_type",u);s=a.embeddable;h!=s&&(q.append("has_embeddable","true"),q.append("embeddable",s));d=a.permissions;if(d&&d.length===1){t=d[0];u=t.allow;l!=u&&(q.append("has_shared_with_business","true"),q.append("shared_with_business",u))}if(n&&d&&d.length>0){var v=b("flattenPHPQueryData")({crossposting_config:d});Object.keys(v).forEach(function(a){q.append(a,v[a])})}var w=a.captions.concat(a.liveCaptions),x=[];h=null;w&&w.forEach(function(a,c){if(a instanceof b("VideoCaptionFile")){c=a.getIsDefault()?"captions_default":a.getIsAutoGenerated()?"captions_auto"+c:"captions_file"+c;q.append(c,a.getFile())}a.getIsDefault()&&(h=a.getLocale())});h&&q.append("default_captions_locale",h);f&&f.forEach(function(a){w.indexOf(a)==-1&&x.push(a.getLocale())});x.forEach(function(a,b){q.append("remove_caption["+b+"]",a)});if(a.isSpherical){q.append("spherical",a.isSpherical);q.append("initial_heading",a.initialHeading);q.append("initial_pitch",a.initialPitch);q.append("fov",a.fov);q.append("guide_enabled",!!a.guideEnabled);var y=b("flattenPHPQueryData")({guide_keyframes:a.guideKeyframes});Object.keys(y).forEach(function(a){q.append(a,y[a])});q.append("enable_omnistab",a.enableOmnistab)}a.episodeData&&q.append("episode_data",JSON.stringify(a.episodeData));a.squareThumbnailDimensions&&q.append("square_thumb_dimensions",JSON.stringify(this.calculateSquareThumbnailDimensions(a.squareThumbnailDimensions)));j&&q.append("source",j);q.append("copyrighted",a.isCopyrighted);a.copyrightMonitoringType&&q.append("monitoring_type",a.copyrightMonitoringType);a.selectedCategory&&q.append("video_copyright_content_category",a.selectedCategory);i!=a.isFTEOnly&&(q.append("has_fte_only","true"),q.append("fte_only",a.isFTEOnly));s=c.multilingual_specified_lang;s&&q.append("multilingual_specified_lang",s);t=c.multilingual_statuses;t&&t.forEach(function(a,b){q.append("multilingual_statuses["+b+"]",a)});l=c.multilingual_status_langs;l&&l.forEach(function(a,b){q.append("multilingual_status_langs["+b+"]",a)});u=b("Promise").resolve(null);if(k){n=e.indexOf(p);n!=-1&&q.append("preferred_thumbnail_index",n+1);p instanceof b("FileVideoThumbnail")&&(u=p.getData(),q.append("preferred_thumbnail_index",e.length+1))}d=a.spokenLocale;d||(d=b("VideoComposerStores").getCaptionsStore(g).getSpokenLocale());d&&d!==b("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE&&q.append("spoken_locale",d);q.append("autopublish_captions",String(b("VideoComposerStores").getCaptionsStore(g).getShouldAutopublishCaptions()));b("promiseDone")(u.then(function(b){b&&q.append("custom_thumbnail",b);b=m&&m(a);b?b.done(function(){return o(q)},function(a){}):o(q)}))},getContentCategory:function(a){var c=Object.keys(b("VideoContentCategoryType"));for(var d=0;d<c.length;d++)if(b("VideoContentCategoryType")[c[d]].value===a)return c[d];return""},getContentTagEntryIDs:function(a){return!a||a.length<=0?[]:a.filter(function(a){return!a.getAuxiliaryData().isFreeForm}).map(function(a){return a.getUniqueID()})},getFreeFormContentTags:function(a){return!a||a.length<=0?[]:a.filter(function(a){return a.getAuxiliaryData().isFreeForm}).map(function(a){return a.getUniqueID()})},getVideoTJAppID:function(a){return!a?null:a.getUniqueID()},getAttributionTagID:function(a){return!a?null:a.getUniqueID()},getGameID:function(a){return!a?null:a.getUniqueID()},getGroupIDs:function(a){return!a||a.size<=0?[]:a.map(function(a){return a.getUniqueID()}).toArray()},convertContentTagToEntryArray:function(a){var c=[];if(a&&!b("isEmpty")(a))for(var d in a)c.push(a[d]);return c},convertFreeFormTagsToEntryArray:function(a){return a&&!b("isEmpty")(a)?a.map(function(a){return new(b("SearchableEntry"))({uniqueID:a,title:a,auxiliaryData:{isFreeForm:!0}})}):[]},hasInvalidBackdate:function(a,b){a=new Date(a.year,a.month-1,a.day,a.hour,a.minute);b=new Date(b*i);return b.getTime()<a.getTime()},calculateSquareThumbnailDimensions:function(a){if(!a)return null;var c=a.getArea(),d=a.getPosition();d=new(b("BasicVector"))(d.width,d.height).div(a.getZoom());return{width:c.width/d.x,height:c.height/d.y,left:c.x/d.x,top:c.y/d.y}},_isTwoTimesAlmostTheSame:function(a,b){if(!a)return!1;var c=a-j;a=a+j;return b>c&&b<a},convertBaseTargeting:function(a){__p&&__p();if(!a)return{};var b={};a.age_min&&(b.age_min=a.age_min);a.age_max&&(b.age_max=a.age_max);a.fan_of&&(b.interests=a.fan_of.map(function(a){return a.id}));a.genders&&(b.genders=a.genders);if(a.geo_locations){var c=a.geo_locations;c.countries&&(b.countries=c.countries);c.cities&&(b.cities=c.cities);c.regions&&(b.regions=c.regions);c.zips&&(b.zipcodes=c.zips)}a.locales&&(b.locales=a.locales);a.relationship_statuses&&(b.relationship_statuses=a.relationship_statuses);a.education_statuses&&(b.education_statuses=a.education_statuses);return b},convertExcludedLocations:function(a){if(a&&a.excluded_geo_locations){var b=a.excluded_geo_locations;b.countries&&(a.excluded_countries=b.countries);b.cities&&(a.excluded_cities=b.cities.map(function(a){return a.key}));b.regions&&(a.excluded_regions=b.regions);b.zips&&(a.excluded_zipcodes=b.zips);delete a.excluded_geo_locations}},shouldShowNux:function(a){__p&&__p();var c,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:c=b("XSphericalMediaNUXController").getURIBuilder().getURI();d=new(b("AsyncRequest"))().setURI(c).setData({nux_id:a});e.next=4;return b("regeneratorRuntime").awrap(d.exec(!0));case 4:return e.abrupt("return",e.sent.payload.showNux);case 5:case"end":return e.stop()}},null,this)}};e.exports=k}),null);
__d("ComposerVideoUploadActionType",[],(function(a,b,c,d,e,f){e.exports={SET_SOURCES:"SET_SOURCES",UPDATE_BLOCK_SOCIAL_ACTIONS:"UPDATE_BLOCK_SOCIAL_ACTIONS",UPDATE_CALL_TO_ACTION:"UPDATE_CALL_TO_ACTION",UPDATE_CAN_GENERATE_THUMBNAILS:"UPDATE_CAN_GENERATE_THUMBNAILS",UPDATE_CAPTIONS:"UPDATE_CAPTIONS",UPDATE_CATEGORY:"UPDATE_CATEGORY",UPDATE_CONTENT_TAGS:"UPDATE_CONTENT_TAGS",UPDATE_COPYRIGHTED:"UPDATE_COPYRIGHTED",UPDATE_COPYRIGHT_ATTRIBUTION_ID:"UPDATE_COPYRIGHT_ATTRIBUTION_ID",UPDATE_COPYRIGHT_MONITORING_TYPE:"UPDATE_COPYRIGHT_MONITORING_TYPE",UPDATE_COPYRIGHT_REFERENCE_FILE_STATUS:"UPDATE_COPYRIGHT_REFERENCE_FILE_STATUS",UPDATE_COPYRIGHT_RULE_ID:"UPDATE_COPYRIGHT_RULE_ID",UPDATE_COPYRIGHT_OWNERSHIP_COUNTRIES:"UPDATE_COPYRIGHT_OWNERSHIP_COUNTRIES",UPDATE_COPYRIGHT_WHITELISTED_FB_USERS:"UPDATE_COPYRIGHT_WHITELISTED_FB_USERS",UPDATE_COPYRIGHT_WHITELISTED_IG_USERS:"UPDATE_COPYRIGHT_WHITELISTED_IG_USERS",UPDATE_COPYRIGHT_EXCLUDED_SEGMENTS:"UPDATE_COPYRIGHT_EXCLUDED_SEGMENTS",UPDATE_CUSTOM_LABELS:"UPDATE_CUSTOM_LABELS",UPDATE_CUSTOM_THUMBNAIL:"UPDATE_CUSTOM_THUMBNAIL",UPDATE_DESCRIPTION:"UPDATE_DESCRIPTION",UPDATE_DISTURBING:"UPDATE_DISTURBING",UPDATE_EMBEDDABLE:"UPDATE_EMBEDDABLE",UPDATE_EXCLUDE_NEWSFEED:"UPDATE_EXCLUDE_NEWSFEED",UPDATE_EXPIRATION:"UPDATE_EXPIRATION",UPDATE_EXPIRE:"UPDATE_EXPIRE",UPDATE_FEED_TYPE:"UPDATE_FEED_TYPE",UPDATE_FTE_ONLY:"UPDATE_FTE_ONLY",UPDATE_GAME:"UPDATE_GAME",UPDATE_GENERATED_THUMBNAILS:"UPDATE_GENERATED_THUMBNAILS",UPDATE_INTERNAL_VIDEO_SETTINGS:"UPDATE_INTERNAL_VIDEO_SETTINGS",UPDATE_IS_SECRET_VIDEO:"UPDATE_IS_SECRET_VIDEO",UPDATE_IS_FEATURED_VIDEO:"UPDATE_IS_FEATURED_VIDEO",UPDATE_LAST_CAPTION_UPLOAD_ERROR_MESSAGE:"UPDATE_LAST_CAPTION_UPLOAD_ERROR_MESSAGE",UPDATE_OPT_OUT_MONETIZATION:"UPDATE_OPT_OUT_MONETIZATION",UPDATE_PERMISSIONS:"UPDATE_PERMISSIONS",UPDATE_PUBLISH:"update_publish",UPDATE_SCHEDULED_PUBLISH_TIME:"UPDATE_SCHEDULED_PUBLISH_TIME",UPDATE_SCRUBBED_THUMBNAIL:"UPDATE_SCRUBBED_THUMBNAIL",UPDATE_SCRUBBED_THUMBNAIL_TIMESTAMP:"UPDATE_SCRUBBED_THUMBNAIL_TIMESTAMP",UPDATE_SPHERICAL:"UPDATE_SPHERICAL",UPDATE_TAGS:"UPDATE_TAGS",UPDATE_THUMBNAIL:"UPDATE_THUMBNAIL",UPDATE_SQUARE_THUMBNAIL_DIMENSIONS:"UPDATE_SQUARE_THUMBNAIL_DIMENSIONS",UPDATE_THUMBNAIL_FROM_SPHERICAL_PREVIEW:"UPDATE_THUMBNAIL_FROM_SPHERICAL_PREVIEW",UPDATE_TITLE:"UPDATE_TITLE",UPDATE_EXTERNAL_VIDEO_ID:"UPDATE_EXTERNAL_VIDEO_ID",UPDATE_LIVE_CAPTIONS:"UPDATE_LIVE_CAPTIONS",UPDATE_SPONSOR_RELATIONSHIP:"UPDATE_SPONSOR_RELATIONSHIP",UPDATE_EPISODE_DATA:"UPDATE_EPISODE_DATA",UPDATE_DIRECT_SHARE_STATUS:"UPDATE_DIRECT_SHARE_STATUS",UPDATE_VIDEO_DURATION_IN_SEC:"UPDATE_VIDEO_DURATION_IN_SEC",UPDATE_COPYRIGHT_REFERENCE_CATEGORY:"UPDATE_COPYRIGHT_REFERENCE_CATEGORY",UPDATE_PLAYER_SEEK_POSITION:"UPDATE_PLAYER_SEEK_POSITION",UPDATE_ENABLE_THUMBNAIL_EXPERIMENT:"UPDATE_ENABLE_THUMBNAIL_EXPERIMENT",UPDATE_FUNDRAISER_FOR_STORY_CHARITY_ID:"UPDATE_FUNDRAISER_FOR_STORY_CHARITY_ID",UPDATE_SHARE_TO_PARENT_PAGE_OPTION_SELECTED:"UPDATE_SHARE_TO_PARENT_PAGE_OPTION_SELECTED",UPDATE_SHARE_TO_PARENT_PAGE_TEXT:"UPDATE_SHARE_TO_PARENT_PAGE_TEXT",UPDATE_NUMBER_PRODUCTS:"UPDATE_NUMBER_PRODUCTS"}}),null);
__d("ComposerVideoUploadActions",["ComposerVideoUploadStore","ComposerVideoUploadActionType","ReactComposerDispatcher"],(function(a,b,c,d,e,f){__p&&__p();b("ComposerVideoUploadStore");a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.updateBlockSocialActions=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_BLOCK_SOCIAL_ACTIONS,blockSocialActions:c};b("ReactComposerDispatcher").dispatch(a)};c.updateCallToAction=function(a,c,d,e){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_CALL_TO_ACTION,ctaType:c,ctaLink:d,ctaCaption:e};b("ReactComposerDispatcher").dispatch(a)};c.updateCategory=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_CATEGORY,category:c};b("ReactComposerDispatcher").dispatch(a)};c.updateContentTags=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_CONTENT_TAGS,contentTags:c};b("ReactComposerDispatcher").dispatch(a)};c.updateCopyrighted=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_COPYRIGHTED,copyrighted:c};b("ReactComposerDispatcher").dispatch(a)};c.updateCopyrightMonitoringType=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_MONITORING_TYPE,copyrightMonitoringType:c};b("ReactComposerDispatcher").dispatch(a)};c.updateCopyrightRuleID=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_RULE_ID,copyrightRuleID:c};b("ReactComposerDispatcher").dispatch(a)};c.updateCopyrightAttributionID=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_ATTRIBUTION_ID,copyrightAttributionID:c};b("ReactComposerDispatcher").dispatch(a)};c.updateCopyrightWhitelistedFBUsers=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_WHITELISTED_FB_USERS,copyrightWhitelistedFBUsers:c};b("ReactComposerDispatcher").dispatch(a)};c.updateCopyrightWhitelistedIGUserNames=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_WHITELISTED_IG_USERS,copyrightWhitelistedIGUserNames:c};b("ReactComposerDispatcher").dispatch(a)};c.updateCopyrightOwnershipCountries=function(a,c,d){d===void 0&&(d=!0);a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_OWNERSHIP_COUNTRIES,copyrightOwnershipCountries:c,areCopyrightCountriesIncluded:d};b("ReactComposerDispatcher").dispatch(a)};c.updateCopyrightExcludedSegments=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_EXCLUDED_SEGMENTS,copyrightExcludedSegments:c};b("ReactComposerDispatcher").dispatch(a)};c.updateCopyrightReferenceFileDisabled=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_REFERENCE_FILE_STATUS,isReferenceFileDisabled:c};b("ReactComposerDispatcher").dispatch(a)};c.updateCustomThumbnail=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_CUSTOM_THUMBNAIL,customThumbnail:c};b("ReactComposerDispatcher").dispatch(a)};c.updateDescription=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_DESCRIPTION,description:c};b("ReactComposerDispatcher").dispatch(a)};c.updateDisturbing=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_DISTURBING,disturbing:c};b("ReactComposerDispatcher").dispatch(a)};c.updateEmbeddable=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_EMBEDDABLE,embeddable:c};b("ReactComposerDispatcher").dispatch(a)};c.updateExcludeNewsfeed=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_EXCLUDE_NEWSFEED,excludeNewsfeed:c};b("ReactComposerDispatcher").dispatch(a)};c.updateExpiration=function(a,c,d){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_EXPIRATION,expirationTime:c,expirationType:d};b("ReactComposerDispatcher").dispatch(a)};c.updateExpire=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_EXPIRE,expire:c};b("ReactComposerDispatcher").dispatch(a)};c.updateFTEOnly=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_FTE_ONLY,fteOnly:c};b("ReactComposerDispatcher").dispatch(a)};c.updateInternalVideoSettings=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_INTERNAL_VIDEO_SETTINGS,internalSetting:c};b("ReactComposerDispatcher").dispatch(a)};c.updateIsSecretVideo=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_IS_SECRET_VIDEO,isSecretVideo:c};b("ReactComposerDispatcher").dispatch(a)};c.updateIsFeaturedVideo=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_IS_FEATURED_VIDEO,isFeaturedVideo:c};b("ReactComposerDispatcher").dispatch(a)};c.updatePublish=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_PUBLISH,publish:c};b("ReactComposerDispatcher").dispatch(a)};c.updateScheduledPublishTime=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_SCHEDULED_PUBLISH_TIME,scheduledPublishTime:c};b("ReactComposerDispatcher").dispatch(a)};c.updateTags=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_TAGS,tags:c};b("ReactComposerDispatcher").dispatch(a)};c.updateGame=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_GAME,gameID:Number.parseInt(c.getUniqueID(),10)};b("ReactComposerDispatcher").dispatch(a)};c.updateNumProducts=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_NUMBER_PRODUCTS,numProducts:c};b("ReactComposerDispatcher").dispatch(a)};c.updateSpherical=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_SPHERICAL,spherical:c};b("ReactComposerDispatcher").dispatch(a)};c.updateThumbnail=function(a,c,d){d===void 0&&(d=!1);a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_THUMBNAIL,thumbnail:c,isSelectedByUser:d};b("ReactComposerDispatcher").dispatch(a)};c.updateSquareThumbnailDimensions=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_SQUARE_THUMBNAIL_DIMENSIONS,dimensions:c};b("ReactComposerDispatcher").dispatch(a)};c.updateThumbnailFromSphericalPreview=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_THUMBNAIL_FROM_SPHERICAL_PREVIEW,customThumbnail:c};b("ReactComposerDispatcher").dispatch(a)};c.updateTitle=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_TITLE,title:c};b("ReactComposerDispatcher").dispatch(a)};c.updateFeedType=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_FEED_TYPE,feedType:c};b("ReactComposerDispatcher").dispatch(a)};c.updateGeneratedThumbnails=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_GENERATED_THUMBNAILS,generatedThumbnails:c};b("ReactComposerDispatcher").dispatch(a)};c.updateScrubbedThumbnail=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_SCRUBBED_THUMBNAIL,scrubbedThumbnail:c};b("ReactComposerDispatcher").dispatch(a)};c.updateScrubbedThumbnailTimestamp=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_SCRUBBED_THUMBNAIL_TIMESTAMP,timestamp:c};b("ReactComposerDispatcher").dispatch(a)};c.setSources=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").SET_SOURCES,sources:c};b("ReactComposerDispatcher").dispatch(a)};c.updateCaptions=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_CAPTIONS,captions:c};b("ReactComposerDispatcher").dispatch(a)};c.updateLiveCaptions=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_LIVE_CAPTIONS,liveCaptions:c};b("ReactComposerDispatcher").dispatch(a)};c.updateLastCaptionUploadErrorMessage=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_LAST_CAPTION_UPLOAD_ERROR_MESSAGE,lastCaptionUploadErrorMessage:c};b("ReactComposerDispatcher").dispatch(a)};c.updatePermissions=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_PERMISSIONS,permissions:c};b("ReactComposerDispatcher").dispatch(a)};c.updateExternalVideoID=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_EXTERNAL_VIDEO_ID,externalVideoID:c};b("ReactComposerDispatcher").dispatch(a)};c.updateCustomLabels=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_CUSTOM_LABELS,customLabels:c};b("ReactComposerDispatcher").dispatch(a)};c.updateSponsorRelationship=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_SPONSOR_RELATIONSHIP,sponsorRelationship:c})};c.updateEpisodeData=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_EPISODE_DATA,episodeData:c})};c.updateSharedToSponsorStatus=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_DIRECT_SHARE_STATUS,sharedToSponsorStatus:c})};c.updateVideoDurationInSec=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_VIDEO_DURATION_IN_SEC,videoDurationInSec:c})};c.updateCopyrightReferenceCategory=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_REFERENCE_CATEGORY,selectedCategory:c};b("ReactComposerDispatcher").dispatch(a)};c.updatePlayerSeekPosition=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_PLAYER_SEEK_POSITION,seekPositionInMs:c};b("ReactComposerDispatcher").dispatch(a)};c.updateEnableThumbnailExperiment=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_ENABLE_THUMBNAIL_EXPERIMENT,enableThumbnailExperiment:c};b("ReactComposerDispatcher").dispatch(a)};c.updateFundraiserForStoryCharityID=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_FUNDRAISER_FOR_STORY_CHARITY_ID,fundraiserForStoryCharityID:c};b("ReactComposerDispatcher").dispatch(a)};c.updateShareToParentPageOptionSelected=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_SHARE_TO_PARENT_PAGE_OPTION_SELECTED,shareToParentPageOptionSelected:c};b("ReactComposerDispatcher").dispatch(a)};c.updateShareToParentPageText=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_SHARE_TO_PARENT_PAGE_TEXT,shareToParentPageText:c};b("ReactComposerDispatcher").dispatch(a)};return a}();e.exports=new a()}),null);
__d("ComposerVideoUploadStore",["Promise","BrandedContentSharedToSponsorStatus","BrandedContentSponsorRelationship","ComposerVideoPostUtils","ComposerVideoUploadActionType","FileVideoThumbnail","ReactComposerStoreBase","VideoCopyrightMonitoringType","VideoCopyrightSegmentSource","VideoCopyrightUtils","VideoFeedType","VideoThumbnailSource"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;c=a.call(this,function(){return{areCopyrightCountriesIncluded:!0,autopublish_captions:!1,blockSocialActions:!0,captions:[],liveCaptions:[],content_tags:[],copyrighted:!1,copyrightMonitoringType:b("VideoCopyrightUtils").DEFAULT_MONITORING_TYPE,copyrightRuleID:null,copyrightWhitelistedFBUsers:[],copyrightWhitelistedIGUserNames:[],copyrightOwnershipCountries:[],copyrightExcludedSegments:[],customThumbnail:null,description:"",disturbing:!1,embeddable:!0,enableThumbnailExperiment:!1,excludeNewsfeed:!1,expirationType:null,expire:!1,feedType:b("VideoFeedType").NOT_HIGHLIGHTED.index,fteOnly:!1,gameID:null,generatedThumbnails:[],internalSetting:!1,isSecretVideo:!1,isFeaturedVideo:!1,isReferenceFileDisabled:!1,lastCaptionUploadErrorMessage:"",numProducts:0,permissions:[],publish:!1,scheduledPublishTime:null,scrubbedThumbnail:null,scrubbedThumbnailTimestamp:null,sources:{},spherical:!1,tags:[],thumbnail:null,squareThumbnailDimensions:null,title:"",externalVideoID:"",customLabels:[],sponsorRelationship:b("BrandedContentSponsorRelationship").WITH,episodeData:null,sharedToSponsorStatus:b("BrandedContentSharedToSponsorStatus").NOT_SHARED,videoDurationInSec:0,selectedCategory:null,seekPositionInMs:0,fundraiserForStoryCharityID:null,shareToParentPageOptionSelected:!1,shareToParentPageText:""}},function(a){__p&&__p();switch(a.type){case b("ComposerVideoUploadActionType").UPDATE_BLOCK_SOCIAL_ACTIONS:d&&d.$ComposerVideoUploadStore1(a);break;case b("ComposerVideoUploadActionType").UPDATE_CALL_TO_ACTION:d&&d.$ComposerVideoUploadStore2(a);break;case b("ComposerVideoUploadActionType").UPDATE_CATEGORY:d&&d.$ComposerVideoUploadStore3(a);break;case b("ComposerVideoUploadActionType").UPDATE_CONTENT_TAGS:d&&d.$ComposerVideoUploadStore4(a);break;case b("ComposerVideoUploadActionType").UPDATE_COPYRIGHTED:d&&d.$ComposerVideoUploadStore5(a);break;case b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_MONITORING_TYPE:d&&d.$ComposerVideoUploadStore6(a);break;case b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_ATTRIBUTION_ID:d&&d.$ComposerVideoUploadStore7(a);break;case b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_REFERENCE_FILE_STATUS:d&&d.$ComposerVideoUploadStore8(a);break;case b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_RULE_ID:d&&d.$ComposerVideoUploadStore9(a);break;case b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_WHITELISTED_FB_USERS:d&&d.$ComposerVideoUploadStore10(a);break;case b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_WHITELISTED_IG_USERS:d&&d.$ComposerVideoUploadStore11(a);break;case b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_OWNERSHIP_COUNTRIES:d&&d.$ComposerVideoUploadStore12(a);break;case b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_EXCLUDED_SEGMENTS:d&&d.$ComposerVideoUploadStore13(a);break;case b("ComposerVideoUploadActionType").UPDATE_CUSTOM_THUMBNAIL:d&&d.$ComposerVideoUploadStore14(a);break;case b("ComposerVideoUploadActionType").UPDATE_DESCRIPTION:d&&d.$ComposerVideoUploadStore15(a);break;case b("ComposerVideoUploadActionType").UPDATE_DISTURBING:d&&d.$ComposerVideoUploadStore16(a);break;case b("ComposerVideoUploadActionType").UPDATE_EMBEDDABLE:d&&d.$ComposerVideoUploadStore17(a);break;case b("ComposerVideoUploadActionType").UPDATE_EXCLUDE_NEWSFEED:d&&d.$ComposerVideoUploadStore18(a);break;case b("ComposerVideoUploadActionType").UPDATE_EXPIRATION:d&&d.$ComposerVideoUploadStore19(a);break;case b("ComposerVideoUploadActionType").UPDATE_EXPIRE:d&&d.$ComposerVideoUploadStore20(a);break;case b("ComposerVideoUploadActionType").UPDATE_FTE_ONLY:d&&d.$ComposerVideoUploadStore21(a);break;case b("ComposerVideoUploadActionType").UPDATE_INTERNAL_VIDEO_SETTINGS:d&&d.$ComposerVideoUploadStore22(a);break;case b("ComposerVideoUploadActionType").UPDATE_IS_SECRET_VIDEO:d&&d.$ComposerVideoUploadStore23(a);break;case b("ComposerVideoUploadActionType").UPDATE_IS_FEATURED_VIDEO:d&&d.$ComposerVideoUploadStore24(a);break;case b("ComposerVideoUploadActionType").UPDATE_PUBLISH:d&&d.$ComposerVideoUploadStore25(a);break;case b("ComposerVideoUploadActionType").UPDATE_SCHEDULED_PUBLISH_TIME:d&&d.$ComposerVideoUploadStore26(a);break;case b("ComposerVideoUploadActionType").UPDATE_SPHERICAL:d&&d.$ComposerVideoUploadStore27(a);break;case b("ComposerVideoUploadActionType").UPDATE_TAGS:d&&d.$ComposerVideoUploadStore28(a);break;case b("ComposerVideoUploadActionType").UPDATE_THUMBNAIL:d&&d.$ComposerVideoUploadStore29(a);break;case b("ComposerVideoUploadActionType").UPDATE_SQUARE_THUMBNAIL_DIMENSIONS:d&&d.$ComposerVideoUploadStore30(a);break;case b("ComposerVideoUploadActionType").UPDATE_THUMBNAIL_FROM_SPHERICAL_PREVIEW:d&&d.$ComposerVideoUploadStore31(a);break;case b("ComposerVideoUploadActionType").UPDATE_SCRUBBED_THUMBNAIL:d&&d.$ComposerVideoUploadStore32(a);break;case b("ComposerVideoUploadActionType").UPDATE_SCRUBBED_THUMBNAIL_TIMESTAMP:d&&d.$ComposerVideoUploadStore33(a);break;case b("ComposerVideoUploadActionType").UPDATE_TITLE:d&&d.$ComposerVideoUploadStore34(a);break;case b("ComposerVideoUploadActionType").UPDATE_FEED_TYPE:d&&d.$ComposerVideoUploadStore35(a);break;case b("ComposerVideoUploadActionType").UPDATE_GENERATED_THUMBNAILS:d&&d.$ComposerVideoUploadStore36(a);break;case b("ComposerVideoUploadActionType").SET_SOURCES:d&&d.$ComposerVideoUploadStore37(a);break;case b("ComposerVideoUploadActionType").UPDATE_CAPTIONS:d&&d.$ComposerVideoUploadStore38(a);break;case b("ComposerVideoUploadActionType").UPDATE_LIVE_CAPTIONS:d&&d.$ComposerVideoUploadStore39(a);break;case b("ComposerVideoUploadActionType").UPDATE_LAST_CAPTION_UPLOAD_ERROR_MESSAGE:d&&d.$ComposerVideoUploadStore40(a);break;case b("ComposerVideoUploadActionType").UPDATE_PERMISSIONS:d&&d.$ComposerVideoUploadStore41(a);break;case b("ComposerVideoUploadActionType").UPDATE_EXTERNAL_VIDEO_ID:d&&d.$ComposerVideoUploadStore42(a);break;case b("ComposerVideoUploadActionType").UPDATE_CUSTOM_LABELS:d&&d.$ComposerVideoUploadStore43(a);break;case b("ComposerVideoUploadActionType").UPDATE_SPONSOR_RELATIONSHIP:d&&d.$ComposerVideoUploadStore44(a);break;case b("ComposerVideoUploadActionType").UPDATE_EPISODE_DATA:d&&d.$ComposerVideoUploadStore45(a);break;case b("ComposerVideoUploadActionType").UPDATE_DIRECT_SHARE_STATUS:d&&d.$ComposerVideoUploadStore46(a);break;case b("ComposerVideoUploadActionType").UPDATE_VIDEO_DURATION_IN_SEC:d&&d.$ComposerVideoUploadStore47(a);break;case b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_REFERENCE_CATEGORY:d&&d.$ComposerVideoUploadStore48(a);break;case b("ComposerVideoUploadActionType").UPDATE_PLAYER_SEEK_POSITION:d&&d.$ComposerVideoUploadStore49(a);break;case b("ComposerVideoUploadActionType").UPDATE_ENABLE_THUMBNAIL_EXPERIMENT:d&&d.$ComposerVideoUploadStore50(a);break;case b("ComposerVideoUploadActionType").UPDATE_FUNDRAISER_FOR_STORY_CHARITY_ID:d&&d.$ComposerVideoUploadStore51(a);break;case b("ComposerVideoUploadActionType").UPDATE_SHARE_TO_PARENT_PAGE_OPTION_SELECTED:d&&d.$ComposerVideoUploadStore52(a);break;case b("ComposerVideoUploadActionType").UPDATE_SHARE_TO_PARENT_PAGE_TEXT:d&&d.$ComposerVideoUploadStore53(a);break;case b("ComposerVideoUploadActionType").UPDATE_GAME:d&&d.$ComposerVideoUploadStore54(a);break;case b("ComposerVideoUploadActionType").UPDATE_NUMBER_PRODUCTS:d&&d.$ComposerVideoUploadStore55(a);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.getBlockSocialActions=function(a){return this.getComposerData(a).blockSocialActions};d.getCallToAction=function(a){return this.getComposerData(a).callToAction};d.getCategory=function(a){return this.getComposerData(a).category};d.getContentTags=function(a){return this.getComposerData(a).contentTags};d.getCopyrighted=function(a){return this.getComposerData(a).copyrighted};d.getCopyrightMonitoringType=function(a){return this.getComposerData(a).copyrightMonitoringType};d.getCopyrightAttributionID=function(a){return this.getComposerData(a).copyrightAttributionID};d.getCopyrightRuleID=function(a){return this.getComposerData(a).copyrightRuleID};d.getCopyrightWhitelistedFBUsers=function(a){return this.getComposerData(a).copyrightWhitelistedFBUsers};d.getCopyrightWhitelistedIGUserNames=function(a){return this.getComposerData(a).copyrightWhitelistedIGUserNames};d.getCopyrightOwnershipCountries=function(a){return this.getComposerData(a).copyrightOwnershipCountries};d.getAreCopyrightCountriesIncluded=function(a){return this.getComposerData(a).areCopyrightCountriesIncluded};d.getCopyrightExcludedSegments=function(a){a=this.getComposerData(a).copyrightExcludedSegments;return a.length===0?[{start_time_in_sec:null,duration_in_sec:null,media_type:b("VideoCopyrightMonitoringType").VIDEO_AND_AUDIO.value,segment_source:b("VideoCopyrightSegmentSource").PUBLISHER_DEFINED,included:!1}]:a};d.getIsCopyrightReferenceDisabled=function(a){return this.getComposerData(a).isReferenceFileDisabled};d.getCustomThumbnail=function(a){return this.getComposerData(a).customThumbnail};d.getScrubbedThumbnail=function(a){return this.getComposerData(a).scrubbedThumbnail};d.getScrubbedThumbnailTimestamp=function(a){return this.getComposerData(a).scrubbedThumbnailTimestamp};d.getDescription=function(a){return this.getComposerData(a).description};d.getDisturbing=function(a){return this.getComposerData(a).disturbing};d.getEmbeddable=function(a){return this.getComposerData(a).embeddable};d.getExcludeNewsfeed=function(a){return this.getComposerData(a).excludeNewsfeed};d.getExpirationTime=function(a){return this.getComposerData(a).expirationTime};d.getExpirationType=function(a){return this.getComposerData(a).expirationType};d.getExpire=function(a){return this.getComposerData(a).expire};d.getFteOnly=function(a){return this.getComposerData(a).fteOnly};d.getInternalSetting=function(a){return this.getComposerData(a).internalSetting};d.getIsSecretVideo=function(a){return this.getComposerData(a).isSecretVideo};d.getIsFeaturedVideo=function(a){return this.getComposerData(a).isFeaturedVideo};d.getPublish=function(a){return this.getComposerData(a).publish};d.getScheduledPublishTime=function(a){return this.getComposerData(a).scheduledPublishTime};d.getSpherical=function(a){return this.getComposerData(a).spherical};d.getTags=function(a){return this.getComposerData(a).tags};d.getThumbnail=function(a){return this.getComposerData(a).thumbnail};d.getSquareThumbnailDimensions=function(a){return this.getComposerData(a).squareThumbnailDimensions};d.getTitle=function(a){return this.getComposerData(a).title};d.getFeedType=function(a){return this.getComposerData(a).feedType};d.getGeneratedThumbnails=function(a){return this.getComposerData(a).generatedThumbnails};d.getSources=function(a){return this.getComposerData(a).sources};d.getCaptions=function(a){return this.getComposerData(a).captions};d.getLiveCaptions=function(a){return this.getComposerData(a).liveCaptions};d.getLastCaptionUploadErrorMessage=function(a){return this.getComposerData(a).lastCaptionUploadErrorMessage};d.getPermissions=function(a){return this.getComposerData(a).permissions};d.getExternalVideoID=function(a){return this.getComposerData(a).externalVideoID};d.getCustomLabels=function(a){return this.getComposerData(a).customLabels};d.getEnableThumbnailExperiment=function(a){return this.getComposerData(a).enableThumbnailExperiment};d.getSponsorRelationship=function(a){return this.getComposerData(a).sponsorRelationship};d.getEpisodeData=function(a){return this.getComposerData(a).episodeData};d.getSharedToSponsorStatus=function(a){return this.getComposerData(a).sharedToSponsorStatus};d.getVideoDurationInSec=function(a){return this.getComposerData(a).videoDurationInSec};d.getCopyrightReferenceCategory=function(a){return this.getComposerData(a).selectedCategory};d.getPlayerSeekPositionInMs=function(a){return this.getComposerData(a).seekPositionInMs||0};d.getFundraiserForStoryCharityID=function(a){return this.getComposerData(a).fundraiserForStoryCharityID};d.getShareToParentPageOptionSelected=function(a){return this.getComposerData(a).shareToParentPageOptionSelected};d.getShareToParentPageText=function(a){return this.getComposerData(a).shareToParentPageText};d.getNumProducts=function(a){return this.getComposerData(a).numProducts};d.$ComposerVideoUploadStore1=function(a){var b=this.getComposerData(a.composerID);b.blockSocialActions=a.blockSocialActions;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore2=function(a){var b=this.getComposerData(a.composerID);b.callToAction={ctaType:a.ctaType,ctaLink:a.ctaLink,ctaCaption:a.ctaCaption};this.emitChange(a.composerID)};d.$ComposerVideoUploadStore3=function(a){var b=this.getComposerData(a.composerID);b.category=a.category;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore4=function(a){var b=this.getComposerData(a.composerID);b.contentTags=a.contentTags;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore5=function(a){var b=this.getComposerData(a.composerID);b.copyrighted=a.copyrighted;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore6=function(a){var b=this.getComposerData(a.composerID);b.copyrightMonitoringType=a.copyrightMonitoringType;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore7=function(a){var b=this.getComposerData(a.composerID);b.copyrightAttributionID=a.copyrightAttributionID;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore9=function(a){var b=this.getComposerData(a.composerID);b.copyrightRuleID=a.copyrightRuleID;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore10=function(a){var b=this.getComposerData(a.composerID);b.copyrightWhitelistedFBUsers=a.copyrightWhitelistedFBUsers;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore11=function(a){var b=this.getComposerData(a.composerID);b.copyrightWhitelistedIGUserNames=a.copyrightWhitelistedIGUserNames;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore12=function(a){var b=this.getComposerData(a.composerID);b.copyrightOwnershipCountries=a.copyrightOwnershipCountries;b.areCopyrightCountriesIncluded=a.areCopyrightCountriesIncluded;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore13=function(a){var b=this.getComposerData(a.composerID);b.copyrightExcludedSegments=a.copyrightExcludedSegments;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore8=function(a){var b=this.getComposerData(a.composerID);b.isReferenceFileDisabled=a.isReferenceFileDisabled;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore14=function(a){var b=this.getComposerData(a.composerID);b.customThumbnail=a.customThumbnail;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore15=function(a){var b=this.getComposerData(a.composerID);b.description=a.description;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore16=function(a){var b=this.getComposerData(a.composerID);b.disturbing=a.disturbing;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore17=function(a){var b=this.getComposerData(a.composerID);b.embeddable=a.embeddable;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore18=function(a){var b=this.getComposerData(a.composerID);b.excludeNewsfeed=a.excludeNewsfeed;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore20=function(a){var b=this.getComposerData(a.composerID);b.expire=a.expire;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore22=function(a){var b=this.getComposerData(a.composerID);b.internalSetting=a.internalSetting;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore21=function(a){var b=this.getComposerData(a.composerID);b.fteOnly=a.fteOnly;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore23=function(a){var b=this.getComposerData(a.composerID);b.isSecretVideo=a.isSecretVideo;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore24=function(a){var b=this.getComposerData(a.composerID);b.isFeaturedVideo=a.isFeaturedVideo;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore25=function(a){var b=this.getComposerData(a.composerID);b.publish=a.publish;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore26=function(a){var b=this.getComposerData(a.composerID);b.scheduledPublishTime=a.scheduledPublishTime;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore27=function(a){var b=this.getComposerData(a.composerID);b.spherical=a.spherical;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore28=function(a){var b=this.getComposerData(a.composerID);b.tags=a.tags;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore29=function(a){var b=this.getComposerData(a.composerID);b.thumbnail=a.thumbnail;b.isThumbnailSelectedByUser=a.isSelectedByUser;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore30=function(a){var b=this.getComposerData(a.composerID);b.squareThumbnailDimensions=a.dimensions;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore31=function(a){var b=this.getComposerData(a.composerID);b.customThumbnail=a.customThumbnail;b.thumbnail=a.customThumbnail;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore32=function(a){var b=this.getComposerData(a.composerID);b.scrubbedThumbnail=a.scrubbedThumbnail;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore33=function(a){var b=this.getComposerData(a.composerID);b.scrubbedThumbnailTimestamp=a.timestamp;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore34=function(a){var b=this.getComposerData(a.composerID);b.title=a.title;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore35=function(a){var b=this.getComposerData(a.composerID);b.feedType=a.feedType;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore36=function(a){var b=this.getComposerData(a.composerID);b.generatedThumbnails=a.generatedThumbnails;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore37=function(a){var b=this.getComposerData(a.composerID);b.sources=a.sources;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore38=function(a){var b=this.getComposerData(a.composerID);b.captions=a.captions;b.lastCaptionUploadErrorMessage="";this.emitChange(a.composerID)};d.$ComposerVideoUploadStore39=function(a){var b=this.getComposerData(a.composerID);b.liveCaptions=a.liveCaptions;b.lastCaptionUploadErrorMessage="";this.emitChange(a.composerID)};d.$ComposerVideoUploadStore40=function(a){var b=this.getComposerData(a.composerID);b.lastCaptionUploadErrorMessage=a.lastCaptionUploadErrorMessage;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore19=function(a){var b=this.getComposerData(a.composerID);b.expirationTime=a.expirationTime;b.expirationType=a.expirationType;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore41=function(a){var b=this.getComposerData(a.composerID);b.permissions=a.permissions;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore42=function(a){var b=this.getComposerData(a.composerID);b.externalVideoID=a.externalVideoID;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore43=function(a){var b=this.getComposerData(a.composerID);b.customLabels=a.customLabels;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore50=function(a){var b=this.getComposerData(a.composerID);b.enableThumbnailExperiment=a.enableThumbnailExperiment;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore44=function(a){var b=this.getComposerData(a.composerID);b.sponsorRelationship=a.sponsorRelationship;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore46=function(a){var b=this.getComposerData(a.composerID);b.sharedToSponsorStatus=a.sharedToSponsorStatus;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore47=function(a){var b=this.getComposerData(a.composerID);b.videoDurationInSec=a.videoDurationInSec;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore45=function(a){var b=this.getComposerData(a.composerID);b.episodeData=a.episodeData;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore48=function(a){var b=this.getComposerData(a.composerID);b.selectedCategory=a.selectedCategory;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore49=function(a){var b=this.getComposerData(a.composerID);b.seekPositionInMs=a.seekPositionInMs;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore51=function(a){var b=this.getComposerData(a.composerID);b.fundraiserForStoryCharityID=a.fundraiserForStoryCharityID;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore52=function(a){var b=this.getComposerData(a.composerID);b.shareToParentPageOptionSelected=a.shareToParentPageOptionSelected;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore53=function(a){var b=this.getComposerData(a.composerID);b.shareToParentPageText=a.shareToParentPageText;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore54=function(a){var b=this.getComposerData(a.composerID);b.gameID=a.gameID;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore55=function(a){var b=this.getComposerData(a.composerID);b.numProducts=a.numProducts;this.emitChange(a.composerID)};d.getPostData=function(a){__p&&__p();a=this.getComposerData(a);var c=a.tags.map(function(a){return a.getUniqueID()}),d=a.permissions.length>0?a.permissions[0].allow:!1,e={areCopyrightCountriesIncluded:a.areCopyrightCountriesIncluded,composertags_with:void 0,content_category:a.category,content_tags:b("ComposerVideoPostUtils").getContentTagEntryIDs(a.contentTags||[]),copyrighted:a.copyrighted,copyrightAttributionID:a.copyrightAttributionID,copyrightMonitoringType:a.copyrightMonitoringType,copyrightRuleID:a.copyrightRuleID,copyrightWhitelistedFBUsers:a.copyrightWhitelistedFBUsers,copyrightWhitelistedIGUserNames:a.copyrightWhitelistedIGUserNames,copyrightOwnershipCountries:a.copyrightOwnershipCountries,copyrightExcludedSegments:a.copyrightExcludedSegments,isReferenceFileDisabled:a.isReferenceFileDisabled,video_title:a.title,feed_type:a.feedType,free_form_tags:b("ComposerVideoPostUtils").getFreeFormContentTags(a.contentTags||[]),xhpc_message:a.description,thumbnail_type:void 0,user_uploaded_custom_thumbnail_timestamp:void 0,user_scrubbed_thumbnail_timestamp:void 0,thumb:void 0,disturbing:a.disturbing,embeddable:a.embeddable,no_story:a.excludeNewsfeed,secret:a.isSecretVideo,social_actions:!a.blockSocialActions,spherical:a.spherical,internal_video:a.internalSetting,fte_only:a.fteOnly,captions:a.captions,autopublish_captions:a.autopublish_captions,monitoring_type:a.copyrightMonitoringType,shared_with_business:d,crossposting_config:a.permissions,external_video_id:a.externalVideoID,custom_labels:a.customLabels,enable_thumbnail_experiment:a.enableThumbnailExperiment,sponsor_relationship:a.sponsorRelationship,episode_data_json:void 0,direct_share_status:a.sharedToSponsorStatus,square_custom_thumbnail_dimensions:void 0,videoDurationInSec:a.videoDurationInSec,selectedCategory:a.selectedCategory,fundraiser_for_story_charity_id:void 0,share_to_parent_page_option_selected:a.shareToParentPageOptionSelected,share_to_parent_page_text:a.shareToParentPageText,gameID:a.gameID,numProducts:a.numProducts};d=b("ComposerVideoPostUtils").calculateSquareThumbnailDimensions(a.squareThumbnailDimensions);d?e.square_custom_thumbnail_dimensions=JSON.stringify(d):delete e.square_custom_thumbnail_dimensions;a.gameID?e.gameID=a.gameID:delete e.gameID;a.numProducts?e.numProducts=a.numProducts:delete e.numProducts;a.episodeData?e.episode_data_json=JSON.stringify(a.episodeData):delete e.episode_data_json;a.fundraiserForStoryCharityID?e.fundraiser_for_story_charity_id=a.fundraiserForStoryCharityID:delete e.fundraiser_for_story_charity_id;c.length>0?e.composertags_with=c:delete e.composertags_with;if(a.thumbnail){a.thumbnail instanceof b("FileVideoThumbnail")?e.thumbnail_type=b("VideoThumbnailSource").CUSTOM:a.scrubbedThumbnail!==null&&a.scrubbedThumbnail===a.thumbnail?(e.thumbnail_type=b("VideoThumbnailSource").SCRUBBER_SELECTED,e.user_scrubbed_thumbnail_timestamp=a.thumbnail.getTime()):a.isThumbnailSelectedByUser?(e.thumbnail_type=b("VideoThumbnailSource").GENERATED_SELECTED,e.user_uploaded_custom_thumbnail_timestamp=a.thumbnail.getTime()):e.thumbnail_type=b("VideoThumbnailSource").GENERATED_DEFAULT;return a.thumbnail.getData().then(function(a){e.thumb=a;return e})}else return b("Promise").resolve(e)};return c}(b("ReactComposerStoreBase"));e.exports=new a()}),null);
__d("PlayerBasedVideoThumbnail",["DOM","VideoThumbnail","canvasToBlob"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e;e=a.call(this,null)||this;e.$PlayerBasedVideoThumbnail1=c;e.$PlayerBasedVideoThumbnail2=d;e.$PlayerBasedVideoThumbnail3=b("DOM").create("canvas");d=e.$PlayerBasedVideoThumbnail3.getContext("2d");e.$PlayerBasedVideoThumbnail3.width=c.videoWidth;e.$PlayerBasedVideoThumbnail3.height=c.videoHeight;d.drawImage(c,0,0,e.$PlayerBasedVideoThumbnail3.width,e.$PlayerBasedVideoThumbnail3.height);e.$PlayerBasedVideoThumbnail4=e.$PlayerBasedVideoThumbnail3.toDataURL("image/jpeg");return e}var d=c.prototype;d.getTime=function(){return this.$PlayerBasedVideoThumbnail2};d.getURL=function(){return this.$PlayerBasedVideoThumbnail4};d.getData=function(){return b("canvasToBlob")(this.$PlayerBasedVideoThumbnail3,"image/jpeg")};return c}(b("VideoThumbnail"));e.exports=a}),null);
__d("VideoProducerDuration.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props,c=a.duration,d=a.className;a=a.showMilliseconds;if(c==null)return null;c=c/1e3;var e=Math.floor((c-Math.floor(c))*1e3);e=(""+e).padStart(3,"0");c=Math.floor(c);var f=(""+c%60).padStart(2,"0");c=Math.floor(c/60);var g=(""+c%60).padStart(2,"0");c=Math.floor(c/60);c=(""+c).padStart(2,"0");c=c+":"+g+":"+f+(a===!0?"."+e:"");return b("React").createElement("span",{className:d},c)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ComposerVideoThumbnailScrubber.react",["ix","cx","fbt","Promise","DateConsts","Image.react","PlayerBasedVideoThumbnail","React","Style","UserAgent","VideoComponentSphericalVideoSpatialAudioController.react","VideoPlayer.react","VideoPlayerLoggerSource","VideoPlayerOrigins","VideoProducerDuration.react","VideoThumbnailUIActionsTypedLogger","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIText.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=1e3,k=900,l=15,m=10,n=48,o=45,p=45,q=80,r=15,s=8;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){__p&&__p();var c;c=a.call(this,b)||this;c.$8=function(a){a=parseInt(a.target.value,10);c.setState({scrubberValue:a});c.$9(a)};c.$11=function(){c.$4()};var d=new Set();b.scrubbedThumbnail&&d.add(b.scrubbedThumbnail);c.state={scrubberValue:0,maxScrubberValue:j,selectedFrames:d,savedFrame:b.scrubbedThumbnail,buffer:!1,videoDuration:0,vpc:null};return c}var d=c.prototype;d.componentDidUpdate=function(){this.state.buffer&&this.setState({buffer:!1})};d.shouldComponentUpdate=function(a,b){return a.thumbnails!==this.props.thumbnails||a.showThumbnailScrubberDialog!==this.props.showThumbnailScrubberDialog||b!=this.state};d.$1=function(a){__p&&__p();var c=this;a=a.sort(function(a,b){return a-b});var d=[],e=0;a.forEach(function(a){a=c.$2(a,n),a-e<l&&(a=e+l),e=a,d.push(a)});var f;if(this.refs.scrubber)f=parseInt(b("Style").get(this.refs.scrubber,"width"),10)+o;else{this.setState({buffer:!0});return[]}f=f;a=a.length-1;while(d[a]-f>0)d[a]=f,f-=l,a--;return d};d.$2=function(a,c){if(this.refs.scrubber){var d=parseInt(b("Style").get(this.refs.scrubber,"width"),10)-s;return Math.floor(a/this.state.maxScrubberValue*d)+c}return c};d.$3=function(a){return this.state.videoDuration*a/this.state.maxScrubberValue};d.$4=function(){this.setState({scrubberValue:0}),this.props.closeDialog()};d.$5=function(){if(this.state.selectedFrames.length!==0&&this.state.vpc!=null){var a=this.state.vpc,c=a.getVideoNode();return b("Promise").resolve({thumbnails:[new(b("PlayerBasedVideoThumbnail"))(c,a.getCurrentTimePosition())]})}return null};d.$6=function(){return this.state.savedFrame?this.$1([this.state.savedFrame])[0]:0};d.$7=function(){return this.state.selectedFrames.size===1?Array.from(this.state.selectedFrames)[0]:0};d.$10=function(a){a&&(this.setState({scrubberValue:a}),this.$9(a))};d.$12=function(){var a=this.$5();this.props.onSelectedThumbnailsFromScrubber&&this.props.onSelectedThumbnailsFromScrubber(a);if(this.state.selectedFrames.size===1){a=this.$7();this.props.onScrubbedThumbnailSave&&this.props.onScrubbedThumbnailSave(a);this.setState({savedFrame:a})}new(b("VideoThumbnailUIActionsTypedLogger"))().setEvent("saved_scrubbed_thumbnail").setEditLocation("upload").setProfileID(this.props.pageID).log();this.$4()};d.$13=function(a){var b=this.state.selectedFrames;b.clear();b.add(a);this.setState({selectedFrames:b})};d.$9=function(a){var b=this.state.vpc;b&&b.seek(this.$3(a))};d.render=function(){var a=this;return!this.props.showThumbnailScrubberDialog?null:b("React").createElement(b("XUIDialog.react"),{shown:this.props.showThumbnailScrubberDialog,layerHideOnBlur:!1,onToggle:this.$11,width:k},b("React").createElement(b("XUIDialogTitle.react"),null,i._("Choose Thumbnail From Video")),b("React").createElement(b("XUIDialogBody.react"),null,b("React").createElement("div",null,b("React").createElement(b("VideoPlayer.react"),{autoplay:!1,height:450,playerOrigin:b("VideoPlayerOrigins").INTERN,subOrigin:b("VideoPlayerLoggerSource").NOT_SPECIFIED_PLEASE_FIX,ref:"video",videoData:this.props.videoData,startMuted:!0,forceHD:!0,disableClickPlayPause:!0,disableSphericalComponents:!0,onUpdateMetadata:function(b){a.setState({videoDuration:b.getPlaybackDuration(),vpc:b})}},b("React").createElement(b("VideoComponentSphericalVideoSpatialAudioController.react"),null)),b("React").createElement("div",{style:{paddingLeft:this.$2(this.state.scrubberValue,r)}},b("React").createElement(b("VideoProducerDuration.react"),{duration:this.$3(this.state.scrubberValue)*b("DateConsts").MS_PER_SEC})),this.$14(),b("React").createElement("input",{className:b("UserAgent").isBrowser("Firefox")?"_eab":"_eac",onChange:this.$8,min:0,max:this.state.maxScrubberValue,ref:"scrubber",type:"range",value:this.state.scrubberValue}),this.$15())),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement("div",null,this.state.savedFrame?b("React").createElement(b("XUIText.react"),{className:"_61l-"},i._("Your current thumbnail will be replaced if you save a new one.")):null,b("React").createElement(b("XUIButton.react"),{label:i._("Cancel"),onClick:function(){return a.$4()}}),b("React").createElement(b("XUIButton.react"),{use:"confirm",label:i._("Save Thumbnail"),onClick:function(){a.$13(a.state.scrubberValue),a.$12()}}))))};d.$15=function(){var a=this;if(!this.state.savedFrame)return null;var c=this.$6();c=b("React").createElement(b("Image.react"),{key:c,className:"_ead",onClick:function(){return a.$10(a.state.savedFrame)},style:{left:c},src:g("119370")});return b("React").createElement("div",{className:"_eae"},c)};d.$14=function(){var a=this.props.thumbnails;if(a.length===0)return b("React").createElement("div",{className:"_eag _eai"},"Loading...");a=a.slice(0,m);a=a.map(function(a,c){return b("React").createElement(b("Image.react"),{key:c,width:q,height:p,src:a.getURL()})});return b("React").createElement("div",{className:"_eai _eaj"},a)};return c}(b("React").Component);e.exports=a}),null);