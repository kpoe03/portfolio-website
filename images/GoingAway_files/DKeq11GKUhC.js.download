if (self.CavalryLogger) { CavalryLogger.start_js(["SHnBc"]); }

__d("ScrollColumnEvents",[],(function(a,b,c,d,e,f){"use strict";e.exports={EVENT_SHOULD_ADJUST:"ScrollColumn/adjust"}}),null);
__d("ScrollColumn.react",["cx","invariant","Arbiter","Event","React","ReactDOM","ScrollColumnEvents","SubscriptionsHandler","Vector","ViewportBounds","joinClasses","throttle","tidyEvent"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"ScrollColumn",_subscriptionsHandler:null,propTypes:{left:a.string,topOffset:a.number,zIndex:a.number},getDefaultProps:function(){return{left:"",topOffset:0,zIndex:0}},_scroll:0,_scrollDelta:0,getInitialState:function(){return{fixed:null,fixedBottom:0,fixedTop:this.props.topOffset,top:0}},render:function(){var a="auto",c=this.state.fixedLeft,d="auto";this.state.fixed==="bottom"?a=this.state.fixedBottom:this.state.fixed==="top"?d=this.state.fixedTop:(c="auto",d=this.state.top);var e=b("joinClasses")(this.props.className,"_5ss7");return b("React").createElement("div",{className:e,ref:"container"},b("React").createElement("div",{className:"_5ss8"+(this.state.fixed?" fixed_always":""),ref:"column",style:{bottom:a,left:c,top:d,zIndex:this.props.zIndex}},this.props.children))},componentDidMount:function(){var a=this;this._subscriptionsHandler=new(b("SubscriptionsHandler"))();this._subscriptionsHandler.addSubscriptions(b("tidyEvent")(b("Arbiter").subscribe(b("ScrollColumnEvents").EVENT_SHOULD_ADJUST,function(){a._adjust()})),b("tidyEvent")(b("Event").listen(window,"resize",b("throttle")(this._adjust))),b("tidyEvent")(b("Event").listen(window,"scroll",this._onScroll)),b("tidyEvent")(b("ViewportBounds").subscribe("change",this._adjust)));this._adjust()},componentDidUpdate:function(a,c){c.fixed!==this.state.fixed&&b("Arbiter").inform("reflow")},componentWillUnmount:function(){this._subscriptionsHandler&&this._subscriptionsHandler.release()},_onScroll:function(a){a=b("Vector").getScrollPosition().y;this._scrollDelta=a-this._scroll;this._scroll=a;this._adjust()},_adjust:function(){__p&&__p();if(!this.isMounted())return;this._updateContainerHeight();this._updateColumnWidth();if(this._isContainerBelowViewportTop()){this._setNotFixed(0);return}if(!this._isColumnLargerThanViewport()){this._setFixedToTop();return}if(this._scrollDelta>0&&this._isBottomOfColumnVisible()){this._setFixedToBottom();return}if(this._scrollDelta<0&&this._isTopOfColumnVisible()){this._setFixedToTop();return}var a=this._getTopPositionForRef("column"),b=this._getTopPositionForRef("container");a=a-b;this._setNotFixed(a)},_getTopPositionForRef:function(a){a=this.refs[a];a||h(0,6103);a=b("Vector").getElementPosition(b("ReactDOM").findDOMNode(a),"viewport").y;this._scroll<0&&(a+=this._scroll);return a},_getTopBoundWithOffset:function(){return b("ViewportBounds").getTop()+this.props.topOffset},_isContainerBelowViewportTop:function(){var a=this._getTopPositionForRef("container");return a>=this._getTopBoundWithOffset()},_isColumnLargerThanViewport:function(){var a=b("Vector").getViewportDimensions().y-b("ViewportBounds").getBottom()-this._getTopBoundWithOffset();return b("ReactDOM").findDOMNode(this.refs.column).offsetHeight>a},_isBottomOfColumnVisible:function(){var a=this._getTopPositionForRef("column"),c=b("Vector").getElementDimensions(b("ReactDOM").findDOMNode(this.refs.column),"viewport").y;a=a+c;return a<=b("Vector").getViewportDimensions().y-b("ViewportBounds").getBottom()},_isTopOfColumnVisible:function(){var a=this._getTopPositionForRef("column");return a>=this._getTopBoundWithOffset()},_getFixedLeft:function(){return b("Vector").getElementPosition(b("ReactDOM").findDOMNode(this.refs.container),"viewport").x},_setFixedToBottom:function(){this.setState({fixed:"bottom",fixedBottom:b("ViewportBounds").getBottom(),fixedLeft:this.props.left===""?this._getFixedLeft():this.props.left})},_setFixedToTop:function(){this.setState({fixed:"top",fixedLeft:this.props.left===""?this._getFixedLeft():this.props.left,fixedTop:this._getTopBoundWithOffset()})},_setNotFixed:function(a){this.setState({fixed:!1,top:a})},_updateContainerHeight:function(){b("ReactDOM").findDOMNode(this.refs.container).style.height=b("ReactDOM").findDOMNode(this.refs.column).offsetHeight+this.state.top+"px"},_updateColumnWidth:function(){b("ReactDOM").findDOMNode(this.refs.column).style.width=b("ReactDOM").findDOMNode(this.refs.container).offsetWidth+"px"}});e.exports=c}),null);
__d("getTextDirection",["Locale","UnicodeBidi"],(function(a,b,c,d,e,f){function a(a){a=b("UnicodeBidi").isDirectionRTL(a);var c=b("Locale").isRTL();if(a&&!c)return"rtl";else if(!a&&c)return"ltr";return""}e.exports=a}),null);
__d("LeftFillRightFitLayout.react",["invariant","Layout.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("Layout.react").Column,i=b("Layout.react").FillColumn;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a=[],c=this.props.children;c&&c.length===2||g(0,1534);b("React").Children.forEach(this.props.children,function(b){return a.push(b)},this);return{firstChild:a[0],secondChild:a[1]}};d.render=function(){var a=this.$1();return b("React").createElement(b("Layout.react"),{className:this.props.className,style:this.props.style},b("React").createElement(i,{className:this.props.fillColumnClassName},a.firstChild),b("React").createElement(h,{className:this.props.fitColumnClassName},a.secondChild))};return c}(b("React").Component);e.exports=a}),null);
__d("VertexScrollColumn.react",["DOMContainer.react","React","ScrollColumn.react"],(function(a,b,c,d,e,f){__p&&__p();a=b("React").PropTypes;var g=5,h=10;c=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("React").createElement(b("ScrollColumn.react"),{topOffset:h,ref:"scrollColumn",zIndex:g},b("React").createElement(b("DOMContainer.react"),null,this.props.content));return a};return c}(b("React").Component);c.propTypes={content:a.object.isRequired};e.exports=c}),null);
__d("ProfileIntroCardLogger",["csx","BanzaiLogger","CSS","DataStore","Event","Parent","tidyEvent"],(function(a,b,c,d,e,f,g){__p&&__p();var h=null,i=null;function a(a,c,d,e){h=c,i=e,b("tidyEvent")(b("Event").listen(a,"click",function(a){a=a.getTarget();var c=b("Parent").byAttribute(a,d);if(c){if(b("CSS").matchesSelector(c,"._md0")&&a.nodeName!=="A")return;j(JSON.parse(b("DataStore").get(c,"store")))}}))}function c(a){j(a)}function j(a){b("BanzaiLogger").log(h,babelHelpers["extends"]({},i,a))}e.exports={init:a,logClick:c}}),null);
__d("ProfileIntroCardLoggerEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ABOUT_NUX_DISMISS:"about_nux_dismiss",ABOUT_NUX_IMPRESSION:"about_nux_impression",BIO_ADD_CLICK:"bio_add_click",BIO_ADD_PROMPT_IMPRESSION:"bio_add_prompt_impression",BIO_ADD_PROMPT_SUGGESTED_CLICK:"bio_add_prompt_suggested_click",BIO_ADD_PROMPT_SUGGESTED_IMPRESSION:"bio_add_prompt_suggested_impression",BIO_NULL_STATE_CLICK:"bio_null_state_click",BIO_NULL_STATE_IMPRESSION:"bio_null_state_impression",BIO_EDIT_CANCEL_CLICK:"bio_edit_cancel_click",BIO_EDIT_CLICK:"bio_edit_click",BIO_EDIT_SAVE_CLICK:"bio_edit_save_click",BIO_EDIT_VIEW_IMPRESSION:"bio_edit_impression",BIO_IMPRESSION:"bio_impression",CONTEXT_ITEM_ADD_CLICK:"context_item_add_click",CONTEXT_ITEM_ADD_PROMPT_IMPRESSION:"context_item_add_prompt_impression",CONTEXT_ITEM_CTA_CLICK:"context_item_cta_click",CONTEXT_ITEM_EDIT_CLICK:"context_item_edit_click",CONTEXT_ITEM_FACEPILE_CLICK:"context_item_facepile_click",CONTEXT_ITEM_IMPRESSION:"context_item_impression",CONTEXT_ITEM_TEXT_CLICK:"context_item_text_click",CONTEXT_ITEM_VIEW_CLICK:"context_item_view_click",OWNED_PAGES_ADD_CLICK:"owned_pages_add_click",OWNED_PAGES_ADD_PROMPT_IMPRESSION:"owned_pages_add_prompt_impression",OWNED_PAGES_SAVE_FROM_CTA:"owned_pages_save_from_cta",FEATURED_EDIT_DRAGGABLE_NUX_DISMISS:"featured_edit_draggable_nux_dismiss",FEATURED_PHOTOS_ADD_CLICK:"fav_photos_add_click",FEATURED_PHOTOS_ADD_PROMPT_IMPRESSION:"fav_photos_add_prompt_impression",FEATURED_PHOTOS_ADD_PROMPT_SUGGESTED_CLICK:"fav_photos_add_prompt_suggested_click",FEATURED_PHOTOS_ADD_PROMPT_SUGGESTED_IMPRESSION:"fav_photos_add_prompt_suggested_impression",FEATURED_PHOTOS_ADD_IN_EDITING_VIEW_CLICK:"fav_photos_add_in_editing_view_click",FEATURED_PHOTOS_ADD_IN_EDITING_VIEW_TILE_CLICK:"fav_photos_add_in_editing_view_tile_click",FEATURED_PHOTOS_EDIT_CANCEL_CLICK:"fav_photos_edit_cancel_click",FEATURED_PHOTOS_EDIT_CLICK:"fav_photos_edit_click",FEATURED_PHOTOS_EDIT_SAVE_CLICK:"fav_photos_edit_save_click",FEATURED_PHOTOS_IMPRESSION:"fav_photos_impression",FEATURED_PHOTOS_REPLACE_IN_EDITING_VIEW_TILE_CLICK:"fav_photos_replace_in_editing_view_tile_click",FEATURED_PHOTOS_REMOVE_IN_EDITING_VIEW_TILE_CLICK:"fav_photos_remove_in_editing_view_click",FEATURED_PHOTOS_SELECT_IN_EDITING_VIEW_TILE_CLICK:"fav_photos_select_in_editing_view_click",FEATURED_PHOTOS_DISMISS_PROMPT_SUGGESTED_IMPRESSION:"fav_photos_dismiss_prompt_suggested_impression",FEATURED_PHOTOS_SELECT_FROM_FB_CLICK:"fav_photos_select_from_fb_click",FEATURED_PHOTOS_UPLOAD_CLICK:"fav_photos_upload_click",HOBBIES_CREATE:"create_hobbies",HOBBIES_EDIT:"edit_hobbies",HOBBIES_DELETE:"delete_hobbies",INSTAGRAM_LINKS_IMPRESSION:"instagram_links_impression",INTRO_CARD_EXPANSION:"intro_card_expansion",INTRO_CARD_IMPRESSION:"intro_card_impression",LINKS_ADD_CLICK:"links_add_click",LINKS_ADD_PROMPT_IMPRESSION:"links_add_prompt_impression",LINKS_EDIT_CLICK:"links_edit_click",LINKS_IMPRESSION:"links_impression",NUX_DISMISS:"nux_dismiss",NUX_IMPRESSION:"nux_impression",SELF_ITEM_VIEW_CLICK:"self_item_view_click",BIO_CREATE_MUTATION:"bio_create_mutation",BIO_UPDATE_MUTATION:"bio_update_mutation",BIO_DELETE_MUTATION:"bio_delete_mutation",BIO_PUBLISH_TO_FEED_MUTATION:"bio_publish_to_feed_mutation",CONTEXT_ITEM_CREATE_MUTATION:"context_item_create_mutation",CONTEXT_ITEM_DELETE_MUTATION:"context_item_delete_mutation",CONTEXT_ITEM_UPDATE_MUTATION:"context_item_update_mutation",PHOTO_CREATE_MUTATION:"photo_create_mutation",PHOTO_DELETE_MUTATION:"photo_delete_mutation",BIO_PUBLISH_NUX_DISMISS:"bio_publish_to_feed_nux_dismiss",PHOTO_PUBLISH_NUX_DISMISS:"photo_publish_to_feed_nux_dismiss",BIO_STORY_IMPRESSION:"bio_story_impression",PHOTOS_STORY_IMPRESSION:"fav_photos_story_impression",BIO_STORY_CTA_IMPRESSION:"bio_story_cta_impression",PHOTOS_STORY_CTA_IMPRESSION:"fav_photos_story_cta_impression",BIO_STORY_CTA_CLICK:"bio_story_cta_click",PHOTOS_STORY_CTA_CLICK:"fav_photos_story_cta_click",BIO_AND_PHOTOS_INLINE_CTA_IMPRESSION:"bio_and_photos_inline_cta_impression",BIO_INLINE_CTA_IMPRESSION:"bio_inline_cta_impression",PHOTOS_INLINE_CTA_IMPRESSION:"photos_inline_cta_impression",CONTEXT_ITEMS_INLINE_CTA_IMPRESSION:"context_items_inline_cta_impression",LINKS_INLINE_CTA_IMPRESSION:"links_inline_cta_impression",BIO_AND_PHOTOS_INLINE_CTA_CLICK:"bio_and_photos_inline_cta_click",BIO_INLINE_CTA_CLICK:"bio_inline_cta_click",PHOTOS_INLINE_CTA_CLICK:"photos_inline_cta_click",CONTEXT_ITEMS_INLINE_CTA_CLICK:"context_items_inline_cta_click",LINKS_INLINE_CTA_CLICK:"links_inline_cta_click",BIO_SAVE_FROM_CTA:"bio_save_from_cta",PHOTOS_SAVE_FROM_CTA:"photos_save_from_cta",CONTEXT_ITEMS_SAVE_FROM_CTA:"context_items_save_from_cta",LINKS_SAVE_FROM_CTA:"links_save_from_cta"})}),null);
__d("ProfileIntroCardSpinner.react",["cx","React","XUISpinner.react"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_33dp _2pi5"},b("React").createElement(b("XUISpinner.react"),null))};return c}(b("React").Component);e.exports=a}),null);
__d("ProfileIntroCardStrings",["fbt","DateConsts"],(function(a,b,c,d,e,f,g){__p&&__p();a={PLACEHOLDER:g._("Enter text here"),EDIT:g._("Edit"),CANCEL:g._("Cancel"),SAVE:g._("Save"),SAVED:g._("Saved"),ADD_BIO:g._("Add Bio"),ADD_TEMP_BIO:g._("Add a temporary bio"),EDIT_BIO:g._("Edit Bio"),POST:g._("Post"),POST_TO_FEED:g._("Post to News Feed"),POST_TO_FEED_QUESTION:g._("Post your bio to News Feed?"),POST_PHOTOS_TO_FEED:g._("Post new photos to News Feed"),POST_PAGES_TO_FEED:g._("Share on News Feed"),POST_TO_FEED_BIO_NUX:g._("Share your bio with friends by posting to News Feed."),POST_TO_FEED_SINGLE_PHOTO_NUX:g._("Share your new featured photo with friends by posting to News Feed."),FEATURED_DRAGGABLE_NUX:g._("Tap and hold, then drag to reorder."),POST_TO_FEED_MULTIPLE_PHOTO_NUX:g._("Share your new featured photos with friends by posting to News Feed."),BIO_SUGGESTION_MESSAGE:g._("Use details from your About section as your bio"),HOUR:g._("1 Hour"),DAY:g._("1 Day"),WEEK:g._("1 Week"),PERMANENT:g._("Permanent"),CUSTOM:g._("Custom"),DIALOG_TITLE:g._("Set this status until"),DRAFT_MODE_HEADER:g._("DRAFT"),getRemainingCharacters:function(a){return g._("{remainingCharacters} characters left",[g._param("remainingCharacters",a)])},getBioExpireContext:function(a){__p&&__p();if(a<b("DateConsts").SEC_PER_HOUR){var c=Math.round(a/b("DateConsts").SEC_PER_MIN);return g._({"*":"Expires in {numMinutes} Minutes","_1":"Expires in 1 Minute"},[g._plural(c,"numMinutes")])}else if(a<b("DateConsts").SEC_PER_DAY){c=Math.round(a/b("DateConsts").SEC_PER_HOUR);return g._({"*":"Expires in {numHours} Hours","_1":"Expires in 1 Hour"},[g._plural(c,"numHours")])}else if(a<b("DateConsts").SEC_PER_WEEK){c=Math.round(a/b("DateConsts").SEC_PER_DAY);return g._({"*":"Expires in {numDays} Days","_1":"Expires in 1 Day"},[g._plural(c,"numDays")])}else{c=Math.round(a/b("DateConsts").SEC_PER_WEEK);return g._({"*":"Expires in {numWeeks} Weeks","_1":"Expires in 1 Week"},[g._plural(c,"numWeeks")])}}};e.exports=a}),null);
__d("ProfileIntroCardTestID",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BIO_SHARE_TO_FEED:"bio_share_to_feed",BIO_TEXT:"profile_intro_card_bio_text",DELETE_PHOTO_BUTTON:"profile_intro_card_delete_photo_button",EDIT_BIO_BUTTON:"profile_intro_card_edit_bio_button",EDIT_BIO_TEXT_AREA:"profile_intro_card_edit_bio_text_area",EDIT_PHOTO_CONTAINER:"profile_intro_card_edit_photo_container",EDIT_PHOTO_PLACEHOLDER:"profile_intro_card_edit_photo_placeholder",EDIT_PHOTOS_BUTTON:"profile_intro_card_edit_photos_button",EDIT_PHOTOS_PENCIL_BUTTON:"profile_intro_card_edit_photos_pencil_button",FEATURABLE_MEDIA:"featurable_media",PHOTO_COLLAGE:"profile_intro_card_photo_collage",PHOTO_DIALOG_ROOT:"profile_intro_card_photo_dialog_root",PHOTO_NUX:"profile_intro_card_photo_nux",PHOTO_NUX_CLOSE_BUTTON:"profile_intro_card_photo_nux_close_button",ROOT:"profile_intro_card_root",SAVE_BIO_BUTTON:"profile_intro_card_save_bio_button",SAVE_PHOTOS_BUTTON:"profile_intro_card_save_photos_button"})}),null);
__d("ProfileIntroCardBio.react",["ix","cx","ActionList.react","BootloadedComponent.react","DateConsts","DOMScroll","Image.react","JSResource","Link.react","ProfileIntroCardLogger","ProfileIntroCardLoggerEvent","ProfileIntroCardSpinner.react","ProfileIntroCardStrings","ProfileIntroCardTestID","React","ReactDOM","Text","TextWithEntities.react","TooltipLink.react","XUIButton.react","asset","getTextDirection","qex"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isEditMode:d.props.initialEdit,isShareToFeedPromptShown:d.props.showShareToFeedPrompt},d.$1=function(){b("ProfileIntroCardLogger").logClick({event:b("ProfileIntroCardLoggerEvent").BIO_EDIT_CLICK}),d.setState({isEditMode:!0})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.props.initialEdit&&b("DOMScroll").ensureVisible(b("ReactDOM").findDOMNode(this))};d.render=function(){__p&&__p();var a=this;if(this.state.isEditMode||this.state.isShareToFeedPromptShown){var c=null;this.props.bioContext.text?c=this.props.bioContext.text:this.props.bioSuggestionText&&(c=this.props.bioSuggestionText);return b("React").createElement(b("BootloadedComponent.react"),babelHelpers["extends"]({bootloadLoader:b("JSResource")("ProfileIntroCardBioEditForm.react").__setRef("ProfileIntroCardBio.react"),bootloadPlaceholder:b("React").createElement(b("ProfileIntroCardSpinner.react"),null),initialText:c,introCardSessionID:this.props.introCardSessionID,onCancel:function(){a.setState({isEditMode:!1,isShareToFeedPromptShown:!1})},showShareToFeedPrompt:this.state.isShareToFeedPromptShown,showTempBio:this.props.showTempBio},this.props.editFieldOptions))}if(this.props.bioContext.text){c=b("qex")._("870276");var d=null;if(this.props.showTempBio){var e=this.props.expirationTime,f=null;if(e){e=Math.round(e-Date.now()/b("DateConsts").MS_PER_SEC);f=b("ProfileIntroCardStrings").getBioExpireContext(e)}d=b("React").createElement(b("ActionList.react"),{className:"_2pid"},f,b("React").createElement(b("Link.react"),{className:"_2115",onClick:this.$1},b("ProfileIntroCardStrings").EDIT))}else c?d=b("React").createElement(b("XUIButton.react"),{className:"_7rlq _3-95",label:b("ProfileIntroCardStrings").EDIT_BIO,onClick:this.$1,size:"large"}):d=b("React").createElement(b("TooltipLink.react"),{className:"_1-gu _2p2g",href:"#",onClick:this.$1,tooltip:b("ProfileIntroCardStrings").EDIT},b("React").createElement("i",{className:"_2p2h"}));return b("React").createElement("div",{className:"_4ihn",dir:b("getTextDirection")(this.props.bioContext.text)},b("React").createElement("div",{className:"_2ph-","data-testid":b("ProfileIntroCardTestID").BIO_TEXT},b("React").createElement(b("TextWithEntities.react"),{ranges:this.props.bioContext.ranges,renderEmoji:!0,renderEmoticons:!0,text:this.props.bioContext.text})),d)}return this.props.nullStateTitle!==null?b("React").createElement("div",{align:"center"},b("React").createElement(b("Image.react"),{src:g("508559")}),b("React").createElement(b("Text"),{style:{textAlign:"center",opacity:.7}},this.props.nullStateTitle),b("React").createElement(b("Link.react"),{className:"_1-in","data-testid":b("ProfileIntroCardTestID").EDIT_BIO_BUTTON,onClick:this.$1},this.props.showTempBio?b("ProfileIntroCardStrings").ADD_TEMP_BIO:b("ProfileIntroCardStrings").ADD_BIO)):b("React").createElement(b("Link.react"),{className:"_1-in",onClick:this.$1},this.props.showTempBio?b("ProfileIntroCardStrings").ADD_TEMP_BIO:b("ProfileIntroCardStrings").ADD_BIO)};return c}(b("React").Component);e.exports=a}),null);
__d("TimelineComposer",["Arbiter","Bootloader","ComposerXMarauderLogger","ComposerXStore","DOM","Event","ReloadPage","Run","$","findTag","getObjectValues","goURI","tidyEvent"],(function(a,b,c,d,e,f){__p&&__p();var g,h,i;function j(){g&&b("ComposerXMarauderLogger").logCompleted(g.id)}function k(a){__p&&__p();if(a.hidePost){j();return}var c=a.redirect;if(c){var d=b("ComposerXStore").getAllForComposer(a.composer_id);b("getObjectValues")(d).forEach(function(a){a.reset&&a.reset(a)});b("goURI")(c);j();return}d=a.streamStory;if(!d){b("ReloadPage").now();return}if(a.backdatedTime){b("Bootloader").loadModules(["TimelineStoryPublisher"],function(b){b.publish(a)},"TimelineComposer");j();return}l.renderCapsuleBasedStory(b("$")(a.composer_id),d);b("Arbiter").inform("TimelineComposer/on_after_publish",d,"persistent");j()}var l={init:function(a){g||(h=b("Arbiter").subscribe("composer/publish",function(a,b){k(b)}),i=b("Arbiter").subscribe("LitestandComposer/publishTemp",function(a,b){k({composer_id:b.composer_id,streamStory:b.markup})}),b("Run").onLeave(l.destroy)),g=b("$")(a)},destroy:function(){h&&h.unsubscribe(),i&&i.unsubscribe(),g=null},renderCapsuleBasedStory:function(a,c){a=b("findTag")("timeline_tab_content");a=a.querySelector("[id^=timeline_story_container]");var d=null;a&&(d=b("DOM").prependContent(a,c)[0]);d&&b("Bootloader").loadModules(["Animation"],function(a){new a(d).from("backgroundColor","#fff8dd").to("backgroundColor","#fff").duration(2e3).ease(a.ease.both).go()},"TimelineComposer")},getRoot:function(){return g},initNUX:function(a,c){b("tidyEvent")(b("Event").listen(a,"click",function(){var a=b("DOM").scry(c,"textarea")[0];a&&a.focus()}))}};e.exports=l}),null);
__d("ReactComposerLiveVideoPreviewButton.react",["fbt","React","XUIAmbientNUX.react","XUIButton.react"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a=this;return b("React").createElement(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.button},shown:this.props.showNUX,position:"below",width:"auto",onCloseButtonClick:this.props.onNUXCloseButtonClick},g._("Click to continue. The next screen will show a preview before you go live."))};d.render=function(){return b("React").createElement("span",null,b("React").createElement(b("XUIButton.react"),{disabled:this.props.disabled,ref:"button",label:g._("Next"),onClick:this.props.onClick,use:"confirm"}),this.$1())};return c}(b("React").PureComponent);c.propTypes={disabled:a.bool,showNUX:a.bool,onClick:function(){},onNUXCloseButtonClick:function(){}};e.exports=c}),null);
__d("ReactComposerInstantMediaAttachmentSelector.react",["fbt","ix","ComposerTargetData","React","ReactComponentWithPureRenderMixin","ReactComposerAttachmentSelectorContainer.react","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerLoggingName"],(function(a,b,c,d,e,f,g,h){a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerInstantMediaAttachmentSelector",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{targetData:a.instanceOf(b("ComposerTargetData")).isRequired,icon:a.object,hideIcon:a.bool},render:function(){var a=g._("Photo\/Video"),c=this.props.hideIcon?null:this.props.icon||h("40533");return b("React").createElement(b("ReactComposerAttachmentSelectorContainer.react"),{attachmentID:b("ReactComposerAttachmentType").MEDIA,label:a,icon:c,"data-testid":"media-attachment-selector",loggingName:b("ReactComposerLoggingName").MEDIA_TAB_SELECTOR,disableSelectAttachment:!0})}});e.exports=c}),null);
__d("ReactComposerInstantMediaAttachmentSelectorContainer.react",["cx","ComposerTargetData","React","ReactComposerInstantMediaAttachmentSelector.react","ReactComposerLoggingName","ReactComposerMediaFilePickerController.react"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("ReactComposerMediaFilePickerController.react"),babelHelpers["extends"]({},this.props,{webDriverTestID:"media-tab",loggingName:b("ReactComposerLoggingName").MEDIA_TAB_SELECTOR,containerClassName:"_yt4"}),b("React").createElement(b("ReactComposerInstantMediaAttachmentSelector.react"),babelHelpers["extends"]({},this.props,{targetData:this.props.targetData,"data-testid":"instant-media-attachment-selector"})))};return c}(b("React").PureComponent);c.propTypes={disableFaceRecognition:a.bool.isRequired,mediaAcceptParam:a.shape({videos:a.string,photos:a.string,both:a.string}).isRequired,photoLimit:a.number.isRequired,targetData:a.instanceOf(b("ComposerTargetData")).isRequired,icon:a.object,mediaConfig:a.object.isRequired};c.defaultProps={disableFaceRecognition:!1};e.exports=c}),null);
__d("ReactComposerMediaAttachmentActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({SET_MEDIA_CONFIG:null},"ReactComposerMediaAttachmentActionType")}),null);
__d("ReactComposerMediaAttachmentStore",["ReactComposerMediaAttachmentActionType","ReactComposerStoreBase"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;c=a.call(this,function(){return{createAlbumLink:null,taggingDataSource:null,videoUploader:null,videoProgressBar:null,videoProgressBarInstance:null}},function(a){switch(a.type){case b("ReactComposerMediaAttachmentActionType").SET_MEDIA_CONFIG:d&&d.$ReactComposerMediaAttachmentStore1(a);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.getCreateAlbumLink=function(a){return this.getComposerData(a).createAlbumLink};d.getTaggingDataSource=function(a){return this.getComposerData(a).taggingDataSource};d.getVideoUploader=function(a){return this.getComposerData(a).videoUploader};d.getVideoProgressBarInstance=function(a){return this.getComposerData(a).videoProgressBarInstance};d.getVideoProgressBar=function(a){return this.getComposerData(a).videoProgressBar};d.$ReactComposerMediaAttachmentStore1=function(a){var b=this.getComposerData(a.composerID);b.createAlbumLink=a.config.createAlbumLink;b.taggingDataSource=a.config.taggingDataSource;b.videoUploader=a.config.videoUploader;b.videoProgressBar=a.config.videoProgressBar;b.videoProgressBarInstance=a.config.videoProgressBarInstance;this.emitChange(a.composerID)};return c}(b("ReactComposerStoreBase"));e.exports=new a()}),null);
__d("ReactComposerMediaAttachmentActions",["ReactComposerDispatcher","ReactComposerMediaAttachmentActionType","ReactComposerMediaAttachmentStore"],(function(a,b,c,d,e,f){__p&&__p();b("ReactComposerMediaAttachmentStore");a=function(){"use strict";function a(){}var c=a.prototype;c.setConfig=function(a,c){a={composerID:a,type:b("ReactComposerMediaAttachmentActionType").SET_MEDIA_CONFIG,config:c};b("ReactComposerDispatcher").dispatch(a)};c.createAlbumSelectorClicked=function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMediaAttachmentActionType").CREATE_ALBUM_SELECTOR_CLICKED})};return a}();e.exports=new a()}),null);
__d("ReactComposerMediaAttachmentPostButton.react",["fbt","React","ReactComposerConfig","ReactComposerPostButtonContainer.react","ReactComposerVideoCopyrightDialog.react","ReactFragment","XUIContextualDialog.react","XUIContextualDialogBody.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={copyrightDialogShown:!1},c.$3=function(){if(c.props.showCopyrightDialogOnPost){c.setState({copyrightDialogShown:!0});return!1}if(c.props.onClick){c.props.onClick();return!1}return!0},c.$1=function(){c.setState({copyrightDialogShown:!1})},c.$2=function(){c.setState({copyrightDialogShown:!1}),c.props.onClick&&c.props.onClick()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.renderLayers=function(){var a=this;return b("ReactFragment").create({limitDialog:b("React").createElement(b("XUIContextualDialog.react"),{alignment:"right",contextRef:function(){return a.refs.post},position:"below",shown:this.props.limitExceeded,width:this.props.contextualDialogWidth},b("React").createElement(b("XUIContextualDialogBody.react"),null,g._("You can only add {number} photos at a time",[g._param("number",this.props.photoLimit)]))),copyrightDialog:b("React").createElement(b("ReactComposerVideoCopyrightDialog.react"),{shown:this.state.copyrightDialogShown,onCancel:this.$1,onConfirm:this.$2})})};d.render=function(){return b("React").createElement("span",null,b("React").createElement(b("ReactComposerPostButtonContainer.react"),{className:this.props.className,config:this.props.config,forceDisabled:this.props.disabled,onClickPreprocess:this.$3,label:this.props.label,ref:"post",useDefaultScheduleComponent:this.props.useDefaultScheduleComponent,isMediaUploading:this.props.isMediaUploading,useDefaultButton:this.props.useDefaultButton}),this.props.limitExceeded?this.renderLayers():null)};return c}(b("React").PureComponent);c.propTypes={config:b("ReactComposerConfig").isRequired,disabled:a.bool,limitExceeded:a.bool,onClick:a.func,photoLimit:a.number.isRequired,showCopyrightDialogOnPost:a.bool,label:a.string,contextualDialogWidth:a.number,useDefaultScheduleComponent:a.bool,isMediaUploading:a.bool,useDefaultButton:a.bool};c.defaultProps={disabled:!1,limitExceeded:!1,showCopyrightDialogOnPost:!1,contextualDialogWidth:300,useDefaultButton:!1};e.exports=c}),null);
__d("ReactComposerFailedMediaUpload.react",["cx","fbt","React","XUIButton.react","XUICloseButton.react","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogTitle.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=this.props.error["transient"]?b("React").createElement(b("XUIButton.react"),{className:"_4_e",label:h._("Retry"),onClick:this.props.onRetryClick,size:"small",use:"special"}):b("React").createElement(b("XUIButton.react"),{className:"_4_f",label:h._("Okay"),onClick:this.props.onDismissClick,size:"small"});return b("React").createElement("span",null,b("React").createElement("div",{ref:function(b){return a.$1=b},className:"_4_g"},b("React").createElement(b("XUICloseButton.react"),{className:"_2n25",onClick:this.props.onRemoveClick,size:"medium",shade:"light"}),b("React").createElement("p",{className:"_4_h"},h._("Error")),b("React").createElement("div",{className:"_4_i"},b("React").createElement("p",{className:"_4_j"},this.props.filename)),c),b("React").createElement(b("XUIContextualDialog.react"),{contextRef:function(){return a.$1},hoverContextRef:function(){return a.$1},width:b("XUIContextualDialog.react").WIDTH.NORMAL,position:"right"},b("React").createElement(b("XUIContextualDialogTitle.react"),null,this.props.error.summary),b("React").createElement(b("XUIContextualDialogBody.react"),null,b("React").createElement("div",{dangerouslySetInnerHTML:{__html:this.props.error.description}}))))};return c}(b("React").PureComponent);c.propTypes={error:a.object.isRequired,filename:a.string,onDismissClick:a.func,onRemoveClick:a.func,onRetryClick:a.func,uploadID:a.string.isRequired};e.exports=c}),null);
__d("ReactComposerFailedPhotoUploadContainer.react",["React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerFailedMediaUpload.react","ReactComposerMediaUploadActions","ReactComposerMediaUploadActionType","ReactComposerMediaUploadStore","ReactComposerPhotoUploader"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerPhotoUploadPlaceholderContainer",_uploader:void 0,contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{mediaConfig:a.object.isRequired},render:function(){return b("React").createElement(b("ReactComposerFailedMediaUpload.react"),babelHelpers["extends"]({},this.props,{onDismissClick:this._onDismissClick,onRemoveClick:this._onDismissClick,onRetryClick:this._onRetryClick}))},_onDismissClick:function(){b("ReactComposerMediaUploadActions").removeMediaUpload(this.context.composerID,this.props.uploadID)},_onRetryClick:function(){var a=b("ReactComposerMediaUploadStore").getMediaUpload(this.context.composerID,this.props.uploadID).fileUpload.getFile();a.manuallyRetried=!0;b("ReactComposerMediaUploadActions").retryMediaUpload(this.context.composerID,b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RETRY);this._uploader||(this._uploader=new(b("ReactComposerPhotoUploader"))(this.context,this.props.mediaConfig.photoLimit,{disableFaceRecognition:this.props.mediaConfig.disableFaceboxTagger}));this._uploader&&this._uploader.retry(a)}});e.exports=c}),null);
__d("ReactComposerFailedVideoXUploadContainer.react",["React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerFailedMediaUpload.react","ReactComposerMediaUploadActions","ReactComposerMediaUploadStore","ReactComposerMediaUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerFailedVideoXUploadContainer",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{error:a.object.isRequired,filename:a.string,uploadID:a.string.isRequired},render:function(){return b("React").createElement(b("ReactComposerFailedMediaUpload.react"),babelHelpers["extends"]({},this.props,{onDismissClick:this._onDismissClick,onRemoveClick:this._onDismissClick,onRetryClick:this._onRetryClick}))},_onDismissClick:function(){b("ReactComposerMediaUploadActions").removeMediaUpload(this.context.composerID,this.props.uploadID)},_onRetryClick:function(){var a=b("ReactComposerMediaUploadStore").getMediaUpload(this.context.composerID,this.props.uploadID).fileUpload;a.manuallyRetried=!0;var c=b("ReactComposerMediaUtils").getVideoXUploader(this.context.composerID);c.uploadVideo(a)}});e.exports=c}),null);
__d("ReactComposerPhotoActionButton.react",["cx","React","Tooltip","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("joinClasses")(this.props.className,"_jfh");return b("React").createElement("button",babelHelpers["extends"]({className:a,onClick:this.props.onClick,tabIndex:"0","aria-label":this.props.tooltip},b("Tooltip").propsFor(this.props.tooltip)),b("React").createElement("div",{className:this.props.iconClassName}))};return c}(b("React").PureComponent);c.propTypes={tooltip:a.node,className:a.string,onClick:a.func,iconClassName:a.string};e.exports=c}),null);
__d("ReactComposerPhotoEditActionButton.react",["cx","fbt","React","ReactComposerPhotoActionButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=h._("Edit Photo");return b("React").createElement(b("ReactComposerPhotoActionButton.react"),{className:"_4_z4",onClick:this.props.onClick,tooltip:a,iconClassName:"_4_z5"})};return c}(b("React").PureComponent);c.propTypes={onClick:a.func};e.exports=c}),null);
__d("ReactComposerFaceboxTaggerTypeaheadPresenter",["cx","React","XUITypeaheadView.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_3ntx"},b("React").createElement(b("XUITypeaheadView.react"),this.props))};return c}(b("React").Component);c={ViewRenderer:a,useLayer:!0};e.exports=c}),null);
__d("ReactComposerPhotoFaceboxTagger.react",["cx","fbt","React","ReactComposerFaceboxTaggerTypeaheadPresenter","XUITypeahead.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={query:""},c.$1=function(a){c.props.onTagAdded(c.props.faceboxID,a.getUniqueID(),a.getTitle())},c.$2=function(a){c.setState({query:a.target.value})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=h._("Who is this?");return b("React").createElement(b("XUITypeahead.react"),{className:"_xgd",queryString:this.state.query,placeholder:a,onSelectAttempt:this.$1,onChange:this.$2,searchSource:this.props.dataSource,highlightOnSelect:!0,showEntriesOnFocus:!0,autoHighlight:!0,selectOnTab:!0,focusedOnInit:!0,presenter:b("ReactComposerFaceboxTaggerTypeaheadPresenter")})};return c}(b("React").PureComponent);c.propTypes={faceboxID:a.string.isRequired,dataSource:a.object.isRequired,onTagAdded:a.func.isRequired};e.exports=c}),null);
__d("ReactComposerQAndAActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({SET_QANDA_CONFIG:null},"ReactComposerQAndAActionType")}),null);
__d("ReactComposerQAndAStore",["ReactComposerQAndAActionType","ReactComposerStoreBase"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;c=a.call(this,function(){return{photoLimit:1,profilePicURI:null,profileURI:null,faceboxDataSource:null}},function(a){switch(a.type){case b("ReactComposerQAndAActionType").SET_QANDA_CONFIG:d&&d.$ReactComposerQAndAStore1(a);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.getPhotoLimit=function(a){return this.getComposerData(a).photoLimit};d.getProfilePicSrc=function(a){return this.getComposerData(a).profilePicSrc};d.getProfileURI=function(a){return this.getComposerData(a).profileURI};d.getFaceboxDataSource=function(a){return this.getComposerData(a).faceboxDataSource};d.$ReactComposerQAndAStore1=function(a){var b=this.validateAction(a,["composerID","config"]),c=b[0];b=b[1];c=this.getComposerData(c);c.photoLimit=b.photoLimit;c.profilePicSrc=b.profilePicSrc;c.profileURI=b.profileURI;c.faceboxDataSource=b.faceboxDataSource;this.emitChange(a.composerID)};return c}(b("ReactComposerStoreBase"));e.exports=new a()}),null);
__d("ReactComposerPhotoFaceboxTaggerContainer.react",["React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerMediaAttachmentStore","ReactComposerPhotoFaceboxTagger.react","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerQAndAStore"],(function(a,b,c,d,e,f){"use strict";a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerPhotoFaceboxTaggerContainer",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerMediaAttachmentStore"),b("ReactComposerQAndAStore"))],propTypes:{faceboxID:a.string.isRequired,onTagAdded:a.func.isRequired},statics:{calculateState:function(a){a=b("ReactComposerMediaAttachmentStore").getTaggingDataSource(a)||b("ReactComposerQAndAStore").getFaceboxDataSource(a);a&&a.bootstrap();return{dataSource:a}}},render:function(){return b("React").createElement(b("ReactComposerPhotoFaceboxTagger.react"),{faceboxID:this.props.faceboxID,dataSource:this.state.dataSource,onTagAdded:this.props.onTagAdded})}});e.exports=c}),null);
__d("ReactComposerPhotoProductTagActionButton.react",["cx","fbt","AsyncRequest","CommerceProductTaggerType","CommerceSelfServeNUXType","ProductTaggingCreationWaterfallLoggerEvent","ProductTaggingCreatorTypedLogger","React","ReactComposerPhotoActionButton.react","XCommerceSelfServeMerchantNUXSeenController","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){new(b("ProductTaggingCreatorTypedLogger"))().setEvent(b("ProductTaggingCreationWaterfallLoggerEvent").ACTN_PRODUCT_TAG_CREATION_POST_COMPOSOR_CLICK).log(),d.props.onClick&&d.props.onClick(a)},d.$3=function(){var a=b("XCommerceSelfServeMerchantNUXSeenController").getURIBuilder().setInt("page_id",d.props.pageID).setEnum("nux_type",b("CommerceSelfServeNUXType").COMPOSER_PRODUCT_PHOTO_TAGGER_BUTTON).getURI();new(b("AsyncRequest"))(a).send();d.props.onHideNux()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){new(b("ProductTaggingCreatorTypedLogger"))().setEvent(b("ProductTaggingCreationWaterfallLoggerEvent").IMP_PRODUCT_TAG_CREATION_POST_COMPOSOR).log()};d.render=function(){var a=h._("Tag Products");return b("React").createElement("div",null,b("React").createElement(b("ReactComposerPhotoActionButton.react"),{ref:"fbReactComposerPhotoActionbutton",className:"_a69"+(this.props.hasTag?" _a6b":""),tooltip:a,iconClassName:"_a6_",onClick:this.$1}),this.$2())};d.$2=function(){var a=this;if(!this.props.showNux)return null;var c=this.props.productTaggerType;c=c===b("CommerceProductTaggerType").SHOP_PAGE?h._("Tag products from your shop in this photo"):h._("Tag products in this photo");return b("React").createElement(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.fbReactComposerPhotoActionbutton},onCloseButtonClick:this.$3,position:"right",shown:!0,width:"auto"},c)};return c}(b("React").PureComponent);c.propTypes={composerID:a.string.isRequired,pageID:a.string.isRequired,productTaggerType:a.string.isRequired,hasTag:a.bool.isRequired,onClick:a.any,onHideNux:a.func.isRequired,showNux:a.bool.isRequired};e.exports=c}),null);
__d("ReactComposerPhotoTagActionButton.react",["cx","fbt","React","ReactComposerPhotoActionButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=h._("Tag");return b("React").createElement(b("ReactComposerPhotoActionButton.react"),{className:"_cwf"+(this.props.hasTag?" _cwh":""),tooltip:a,iconClassName:"_cwg",onClick:this.props.onClick})};return c}(b("React").PureComponent);c.propTypes={hasTag:a.bool.isRequired,onClick:a.any};e.exports=c}),null);
__d("ReactComposerPhotoTaggedFaceboxSummary.react",["cx","fbt","ix","Image.react","LeftRight.react","React","TooltipLink.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onTagRemoved(c.props.faceboxID,c.props.taggedSubjectID)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=h._("Edit Name");return b("React").createElement(b("LeftRight.react"),{className:"_31bg"},b("React").createElement("div",{className:"_31bh"},this.props.taggedValue),b("React").createElement(b("TooltipLink.react"),{alignH:"center",position:"below",tooltip:a,onClick:this.$1},b("React").createElement(b("Image.react"),{src:i("76906")})))};return c}(b("React").PureComponent);c.propTypes={faceboxID:a.string.isRequired,onTagRemoved:a.func.isRequired,taggedSubjectID:a.string.isRequired,taggedValue:a.string.isRequired};e.exports=c}),null);
__d("ReactComposerPhotoTagger.react",["cx","fbt","ActorURI","AsyncRequest","CommerceProductTaggerType","ContextualLayerAutoFlip","Image.react","ImageBlock.react","LayerHideOnBlur","LayerHideOnEscape","LayerTabIsolation","ModalPhotoEditorTabName","PhotoEditorTargetType","React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerPhotoActions","ReactComposerPhotoEditActionButton.react","ReactComposerPhotoFaceboxTaggerContainer.react","ReactComposerPhotoProductTagActionButton.react","ReactComposerPhotoStore","ReactComposerPhotoTagActionButton.react","ReactComposerPhotoTaggedFaceboxSummary.react","ReactLayeredComponentMixin_DEPRECATED","XStickerPhotoEditorController","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogFooter.react","XUIDialogCloseButton.react","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;var i=268,j=32;c=b("React").createClass({displayName:"ReactComposerPhotoTagger",_photoEditorRequest:void 0,contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactLayeredComponentMixin_DEPRECATED"),b("ReactComponentWithPureRenderMixin")],propTypes:{canTagFromModal:a.bool,draggingPhotos:a.bool,enableFaceboxTagger:a.bool.isRequired,disablePhotoEditing:a.bool.isRequired,faceboxes:a.instanceOf(b("immutable").Map).isRequired,onEditClick:a.func,onHideProductTaggerNux:a.func.isRequired,onTagAdded:a.func.isRequired,onTagIntent:a.func,onTagRemoved:a.func.isRequired,originalID:a.string,photoID:a.string.isRequired,productTaggerType:a.string.isRequired,shown:a.bool.isRequired,showProductTaggerNux:a.bool.isRequired},getDefaultProps:function(){return{shown:!1}},UNSAFE_componentWillReceiveProps:function(a){!this.props.draggingPhotos&&a.draggingPhotos&&b("ReactComposerPhotoActions").setPhotoBeingTagged(this.context.composerID,null)},render:function(){var a=null,c=this.props.productTaggerType!==b("CommerceProductTaggerType").NONE;c?a=this._onProductTagClick:this.props.canTagFromModal&&(a=this._onTagClick);var d=null;c?d=b("React").createElement(b("ReactComposerPhotoProductTagActionButton.react"),{composerID:this.context.composerID,productTaggerType:this.props.productTaggerType,pageID:this.context.targetID,hasTag:b("ReactComposerPhotoStore").hasTagsInPhoto(this.context.composerID,this.props.photoID),onClick:a,onHideNux:this.props.onHideProductTaggerNux,showNux:this.props.showProductTaggerNux}):this.props.enableFaceboxTagger&&(d=b("React").createElement(b("ReactComposerPhotoTagActionButton.react"),{hasTag:b("ReactComposerPhotoStore").hasTagsInPhoto(this.context.composerID,this.props.photoID),onClick:a}));a=this.props.disablePhotoEditing?null:b("React").createElement(b("ReactComposerPhotoEditActionButton.react"),{onClick:this._onEditClick});return b("React").createElement("div",{className:"_jfi"+(c?" uiContextualLayerParent":""),onClick:this._onClick,role:"presentation",tabIndex:"-1"},d,a)},renderLayers:function(){return!this.props.shown||!this.props.enableFaceboxTagger?null:{dialog:this._getDialog()}},_getDialog:function(){var a=this;return b("React").createElement(b("XUIContextualDialog.react"),{ref:"dialog",shown:this.props.shown,onToggle:this._onDialogToggled,contextRef:function(){return a},position:"below",alignment:"center",width:i,behaviors:{LayerHideOnBlur:b("LayerHideOnBlur"),LayerHideOnEscape:b("LayerHideOnEscape"),ContextualLayerAutoFlip:b("ContextualLayerAutoFlip"),LayerTabIsolation:b("LayerTabIsolation")}},b("React").createElement(b("XUIContextualDialogBody.react"),null,this._getDialogBody()),b("React").createElement(b("XUIContextualDialogFooter.react"),null,b("React").createElement(b("XUIDialogCloseButton.react"),{use:"confirm",label:"Close",onClick:this._onCloseButtonClicked})))},_getDialogBody:function(){var a=this;return this.props.faceboxes.size===0?h._("We could not find any faces to tag."):this.props.faceboxes.valueSeq().map(function(c){var d=c.taggedSubjectID?b("React").createElement(b("ReactComposerPhotoTaggedFaceboxSummary.react"),{faceboxID:c.id,onTagRemoved:a.props.onTagRemoved,taggedSubjectID:c.taggedSubjectID,taggedValue:c.taggedValue}):b("React").createElement(b("ReactComposerPhotoFaceboxTaggerContainer.react"),{faceboxID:c.id,onTagAdded:a.props.onTagAdded});return b("React").createElement(b("ImageBlock.react"),{key:c.id,className:"_qv7"},b("React").createElement(b("Image.react"),{className:"_qv8",height:j,src:c.croppedURI,width:j}),d)})},_onCloseButtonClicked:function(){b("ReactComposerPhotoActions").setPhotoBeingTagged(this.context.composerID,null)},_onDialogToggled:function(a){a||this._onCloseButtonClicked()},_onClick:function(){this.props.onTagIntent&&this.props.onTagIntent(),b("ReactComposerPhotoActions").setPhotoBeingTagged(this.context.composerID,this.props.photoID)},_onTagClick:function(a){this._onEditClick(a,null,b("ModalPhotoEditorTabName").TAG)},_onProductTagClick:function(a){this._onEditClick(a,null,b("ModalPhotoEditorTabName").PRODUCT_TAG)},_onEditClick:function(a,c,d){__p&&__p();var e=this;a.stopPropagation();if(this._photoEditorRequest)return;b("ReactComposerPhotoActions").startPhotoEdit(this.context.composerID,this.props.photoID);c=b("XStickerPhotoEditorController").getURIBuilder().setString("grid_id",this.context.composerID).setEnum("target_type",b("PhotoEditorTargetType").COMPOSER).setInt("latest_fbid",this.props.photoID).setInt("photo_fbid",this.props.originalID||this.props.photoID).setEnum("initial_tab",d).getURI();c=b("ActorURI").create(c,this.context.actorID);this._photoEditorRequest=new(b("AsyncRequest"))(c).setFinallyHandler(function(){e._photoEditorRequest=null,b("ReactComposerPhotoActions").finishLoadingPhotoEdit(e.context.composerID,e.props.photoID)});this._photoEditorRequest&&this._photoEditorRequest.send();this.props.onEditClick&&this.props.onEditClick()}});e.exports=c}),null);
__d("ReactComposerPhoto.react",["cx","fbt","ix","CommerceProductTaggerType","FluxContainer","Image.react","ImageBlock.react","LoadingIndicator.react","React","ReactComposerContextTypes","ReactComposerMediaConfig","ReactComposerPhotoTagger.react","ReactComposerPhotoThumbnail.react","ReactComposerStore","ReactFragment","XUIAmbientNUX.react","XUICloseButton.react","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIText.react","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("ReactComposerStore")]};c.calculateState=function(a,c){return{posting:b("ReactComposerStore").isPosting(a)}};var d=c.prototype;d.$1=function(){var a=this.context.gks.local_image_display?this.props.fileURL:null;return b("React").createElement(b("ReactComposerPhotoThumbnail.react"),{bgClassName:"_1a__",bgURL:a,height:b("ReactComposerMediaConfig").photo.thumbHeight,imgSrc:this.props.thumbSrc,width:b("ReactComposerMediaConfig").photo.thumbWidth,alt:this.props.label})};d.render=function(){var a={width:b("ReactComposerMediaConfig").photo.thumbWidth,height:b("ReactComposerMediaConfig").photo.thumbHeight},c=this.props.isRecognizingFaceboxes||this.props.isLoadingPhotoEdit?b("React").createElement("div",{className:"_jff"},b("React").createElement(b("LoadingIndicator.react"),{className:"_jfg",size:"small",color:"white"})):null,d=this.props.showProductTaggerNux?"_jfc"+(this.props.isRecognizingFaceboxes?" _jfd":"")+" _43p_":"_jfc"+(this.props.isRecognizingFaceboxes?" _jfd":""),e,f;this.state.posting||(e=b("React").createElement(b("XUICloseButton.react"),{className:"_jfe",label:h._("Remove photo"),onClick:this.props.onRemoveButtonClicked,size:"medium",shade:"light"}),f=b("React").createElement(b("ReactComposerPhotoTagger.react"),{canTagFromModal:this.props.canTagFromModal,draggingPhotos:this.props.draggingPhotos,enableFaceboxTagger:this.props.enableFaceboxTagger,productTaggerType:this.props.productTaggerType,disablePhotoEditing:this.props.disablePhotoEditing,faceboxes:this.props.faceboxes,onEditClick:this.props.onEditClick,onHideProductTaggerNux:this.props.onHideProductTaggerNux,onTagIntent:this.props.onTagIntent,onTagAdded:this.props.onTagAdded,onTagRemoved:this.props.onTagRemoved,originalID:this.props.originalID,photoID:this.props.photoID,shown:this.props.showPhotoTagger,showProductTaggerNux:this.props.showProductTaggerNux}));return b("React").createElement("span",null,b("React").createElement("div",{ref:"root",className:d,style:a},this.$1(),this.props.disableRemovePhotos?null:e,c,f),this.renderLayers())};d.renderLayers=function(){return b("ReactFragment").create({taggingNUX:this.props.enableFaceboxTagger?this.$2():null,stickersNUX:this.props.disablePhotoEditing?null:this.$3()})};d.$2=function(){var a=this;return b("React").createElement(b("XUIContextualDialog.react"),{contextRef:function(){return a.refs.root},position:"below",alignment:"left",shown:this.props.showTaggingNUX,width:300},b("React").createElement(b("XUIContextualDialogBody.react"),null,b("React").createElement(b("XUICloseButton.react"),{className:"rfloat",onClick:this.props.onTaggingNUXClose}),b("React").createElement("div",null,b("React").createElement(b("XUIText.react"),{weight:"bold",display:"block"},h._("Now It's Easier to Tag Photos.")),h._("Click photos with a {tagging_badge_icon} to review tag suggestions or add, edit, and remove tags. When you post the photo, your tags will be applied.",[h._param("tagging_badge_icon",b("React").createElement(b("Image.react"),{className:"_2z-r",src:i("95679")}))]))))};d.$3=function(){var a=this;return b("React").createElement(b("XUIAmbientNUX.react"),{alignment:"right",contextRef:function(){return a.refs.root},onCloseButtonClick:this.props.onStickersNUXClose,position:"below",shown:this.props.showStickersNUX},b("React").createElement(b("ImageBlock.react"),{spacing:"medium"},b("React").createElement(b("Image.react"),{src:i("95645")}),b("React").createElement("div",{className:"_21ft"},b("React").createElement("div",{className:"_21fs"},h._("New! Add Stickers!")),h._("You can now add stickers to your photos"))))};return c}(b("React").PureComponent);a.defaultProps={enableFaceboxTagger:!0,productTaggerType:b("CommerceProductTaggerType").NONE,disablePhotoEditing:!1};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerPhotoContainer.react",["cx","BootloadedComponent.react","CommerceSelfServeNUXType","ComposerNUXType","FluxContainer","JSResource","LoadingIndicator.react","React","ReactComposerContextTypes","ReactComposerMediaUploadActions","ReactComposerNUXActions","ReactComposerNUXStore","ReactComposerPhoto.react","ReactComposerPhotoActions","ReactComposerPhotoStore","ReactDOM","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var d;d=a.apply(this,arguments)||this;d.$7=function(){d.$9()};d.$6=function(){d.props.photoID?b("ReactComposerPhotoActions").removePhoto(d.context.composerID,d.props.photoID,d.props.uploadID):b("ReactComposerMediaUploadActions").removeMediaUpload(d.context.composerID,d.props.uploadID)};d.$9=function(){b("ReactComposerNUXActions").nuxWasSeen(d.context.composerID,b("ComposerNUXType").ADD_STICKERS_NUX)};d.$10=function(a,c,e){!(d.state.isSpherical||d.props.sphericalPhotoID)&&d.props.photoID&&b("ReactComposerPhotoActions").tagFacebox(d.context.composerID,d.props.photoID,a,c,e)};d.$1=function(){b("ReactComposerNUXActions").nuxWasSeen(d.context.composerID,b("ComposerNUXType").TAGGING_FLYOUT_NUX)};d.$11=function(){d.state.showTaggingNUX&&d.$1()};d.$12=function(a,c){!(d.state.isSpherical||d.props.sphericalPhotoID)&&d.props.photoID&&b("ReactComposerPhotoActions").untagFacebox(d.context.composerID,d.props.photoID,a,c)};d.$8=function(){b("ReactComposerNUXActions").nuxWasSeen(d.context.composerID,b("CommerceSelfServeNUXType").COMPOSER_PRODUCT_PHOTO_TAGGER_BUTTON)};d.beforeCalculateInitialState(d.context.composerID,d.props);d.state=c.calculateState(d.state,d.props,d.context);d.$1=d.$1.bind(babelHelpers.assertThisInitialized(d));return d}c.getStores=function(){return[b("ReactComposerNUXStore"),b("ReactComposerPhotoStore")]};var d=c.prototype;d.beforeCalculateInitialState=function(a,d){if(d.photoID){var e=b("ReactComposerPhotoStore").getPhoto(a,d.photoID);if(e){var f=c.$2(a,e,d.nuxConfig,d.index);d=!f&&c.$3(a,e,d.nuxConfig,d.index);f&&b("ReactComposerNUXActions").nuxWasShown(a,b("ComposerNUXType").ADD_STICKERS_NUX,e.id);d&&b("ReactComposerNUXActions").nuxWasShown(a,b("ComposerNUXType").TAGGING_FLYOUT_NUX,e.id)}}};c.calculateState=function(a,c,d){__p&&__p();a=d.composerID;if(c.photoID){d=b("ReactComposerPhotoStore").getPhoto(a,c.photoID);if(d){var e=this.$2(a,d,c.nuxConfig,c.index),f=!e&&this.$3(a,d,c.nuxConfig,c.index),g=b("ReactComposerPhotoStore").getPhotoBeingTagged(a)===c.photoID;a=c.showProductTaggerNux===!0&&this.$4(a);return{faceboxes:d.faceboxes,isLoadingPhotoEdit:d.isLoadingPhotoEdit,isRecognizingFaceboxes:d.isRecognizingFaceboxes,isSpherical:d.isSpherical,showPhotoTagger:g,showProductTaggerNux:a,showStickersNUX:e,showTaggingNUX:f,thumbSrc:d.thumbSrc}}}return{faceboxes:b("immutable").Map(),isLoadingPhotoEdit:!1,isRecognizingFaceboxes:!1,isSpherical:c.isSpherical,showPhotoTagger:!1,showProductTaggerNux:!!c.showProductTaggerNux,showStickersNUX:!1,showTaggingNUX:!1,thumbSrc:""}};c.$5=function(a,c,d,e,f){var g=b("ReactComposerNUXStore").getNUXShownPhotoID(a,e);a=b("ReactComposerNUXStore").hasNUXBeenSeen(a,e);return!!d[e]&&!a&&(!g||g===c.id)&&f===0};c.$2=function(a,c,d,e){return this.$5(a,c,d,b("ComposerNUXType").ADD_STICKERS_NUX,e)};c.$3=function(a,c,d,e){return this.$5(a,c,d,b("ComposerNUXType").TAGGING_FLYOUT_NUX,e)&&c.faceboxes.size>0};c.$4=function(a){return!b("ReactComposerNUXStore").hasNUXBeenSeen(a,b("CommerceSelfServeNUXType").COMPOSER_PRODUCT_PHOTO_TAGGER_BUTTON)};d.componentDidMount=function(){var a=this;setTimeout(function(){var c=a.props.dragHandler;c&&c.add(b("ReactDOM").findDOMNode(a.refs.container))},0)};d.componentWillUnmount=function(){var a=this;setTimeout(function(){var c=a.props.dragHandler;c&&c.remove(b("ReactDOM").findDOMNode(a.refs.container))},0)};d.render=function(){if(this.state.isSpherical||this.props.sphericalPhotoID){var a=b("React").createElement("div",{className:"_30t9"},b("React").createElement(b("LoadingIndicator.react"),{className:"_4qlq",size:"small",color:"white"}));return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ReactComposerSphericalPhoto.react").__setRef("ReactComposerPhotoContainer.react"),bootloadPlaceholder:a,className:"_4j47 _jfc",showEditButton:!0,fileURL:this.props.fileURL,alt:this.props.label,onRemoveButtonClicked:this.$6,photoID:this.props.photoID,sphericalPhotoID:this.props.sphericalPhotoID,thumbSrc:this.state.thumbSrc,uploadID:this.props.uploadID,sphericalImage:this.props.sphericalImage,useLocalSphericalImage:this.props.useLocalSphericalImage,ref:"container"})}else return b("React").createElement(b("ReactComposerPhoto.react"),babelHelpers["extends"]({},this.props,this.state,{onEditClick:this.$7,onHideProductTaggerNux:this.$8,onRemoveButtonClicked:this.$6,onStickersNUXClose:this.$9,onTagAdded:this.$10,onTagIntent:this.$11,onTaggingNUXClose:this.$1,onTagRemoved:this.$12,ref:"container"}))};return c}(b("React").PureComponent);a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerPhotoUploadPlaceholder.react",["ix","cx","CircularProgressBar.react","Image.react","LoadingIndicator.react","React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerPhotoUploadState","XUICloseButton.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerPhotoUploadPlaceholder",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{onRemoveButtonClicked:a.func.isRequired,uploadID:a.string.isRequired,uploadState:a.oneOf(Object.keys(b("ReactComposerPhotoUploadState"))).isRequired,uploadProgress:a.number,isSpherical:a.bool,fileURL:a.string},render:function(){__p&&__p();var a=null,c=null,d=this.props.uploadState,e=d===b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_RESIZE_STARTED;d=d===b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_UPLOADING;if((e||d)&&!this.props.isDocument){e="_1b01"+(e?" _1b02":"")+(d?" _1b03":"");a=b("React").createElement(b("CircularProgressBar.react"),{percentComplete:this.props.uploadProgress,className:e})}else c=b("React").createElement(b("LoadingIndicator.react"),{className:"_1b00",color:"white",size:"medium"});var f;this.props.isSpherical&&(f=b("React").createElement(b("Image.react"),{className:"_1az2",src:g("411966"),alt:"360 Photo"}));d={};this.context.gks.local_image_display&&this.props.fileURL&&(d={backgroundImage:"url("+this.props.fileURL+")"});return b("React").createElement("div",{className:"_50_c _1a__",style:d},b("React").createElement(b("XUICloseButton.react"),{className:"_1b04",onClick:this.props.onRemoveButtonClicked,size:"medium",shade:"dark"}),a,c,f)}});e.exports=c}),null);
__d("ReactComposerPhotoUploadPlaceholderContainer.react",["React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerMediaUploadActions","ReactComposerMediaUploadStore","ReactComposerPhotoUploadPlaceholder.react","ReactComposerPropsAndStoreBasedStateMixin"],(function(a,b,c,d,e,f){"use strict";a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerPhotoUploadPlaceholderContainer",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerMediaUploadStore"))],propTypes:{uploadID:a.string.isRequired},statics:{calculateState:function(a,c){a=b("ReactComposerMediaUploadStore").getMediaUpload(a,c.uploadID);return{uploadProgress:a.progress,uploadState:a.state,isSpherical:a.isSpherical,isDocument:!1}}},render:function(){return b("React").createElement(b("ReactComposerPhotoUploadPlaceholder.react"),babelHelpers["extends"]({},this.props,this.state,{onRemoveButtonClicked:this._onRemoveButtonClicked}))},_onRemoveButtonClicked:function(){b("ReactComposerMediaUploadActions").removeMediaUpload(this.context.composerID,this.props.uploadID)}});e.exports=c}),null);
__d("ReactComposerVideoX.react",["cx","fbt","ix","requireCond","BackgroundImage.react","DurationFormatter","FlexLayout.react","FlexLayoutItem.react","Image.react","LineClamp.react","React","ReactComposerMediaConfig","Tooltip.react","XUICloseButton.react","asset","cr:974993","cr:974994"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a={width:b("ReactComposerMediaConfig").photo.thumbWidth,height:b("ReactComposerMediaConfig").photo.thumbHeight},c=this.props.posting?null:b("React").createElement(b("XUICloseButton.react"),{className:"_1sju",label:h._("Remove video"),onClick:this.props.onRemoveButtonClicked,size:"medium",shade:"light"}),d=this.props.useThumbnailsRedesign?null:b("React").createElement("div",{className:"_2v_s"}),e=b("React").createElement(b("BackgroundImage.react"),{alt:this.props.label,src:this.props.thumbSrc,width:b("ReactComposerMediaConfig").photo.thumbWidth,height:b("ReactComposerMediaConfig").photo.thumbHeight,backgroundSize:this.props.usingPlaceholderThumbnail?"cover":"contain",className:this.props.usingPlaceholderThumbnail?"":"_33by"}),f=this.$1(),g="_1sjs"+(f!=null?" _225v":"");return b("React").createElement("div",{ref:"root",className:g,style:a},f?f:e,this.$2(),d,c,b("React").createElement("div",{className:"uiContextualLayerParent _1xob"}))};d.$3=function(){return this.props.label.endsWith(".gif")};d.$1=function(){if(!this.props.useThumbnailsRedesign||!this.props.usingPlaceholderThumbnail)return null;var a=this.$3()?h._("Your GIF will show up after you post."):h._("Your video will show up after you post.");a=b("React").createElement("span",null,a,b("React").createElement("br",null),this.props.label);return b("React").createElement(b("Tooltip.react"),{position:"below",className:"_225-",display:"block",tooltip:a},b("React").createElement(b("LineClamp.react"),{lines:3,lineHeight:16,fitHeightToShorterText:!0,className:"_2260"},this.props.label))};d.$2=function(){var a=this.props.isSpherical?b("React").createElement(b("Image.react"),{className:"_40p3",src:i("95829")}):null,c=this.props.videoID!=null&&this.props.duration!=null&&b("cr:974993")?b("React").createElement(b("cr:974993"),{composerID:this.props.composerID,videoDuration:this.props.duration,videoID:this.props.videoID,videoURL:this.props.videoURL}):null,d=this.props.isProcessingCaptions&&b("cr:974994")?b("React").createElement("div",{className:"_3-8w"},b("React").createElement(b("cr:974994"),{background:"transparent",height:"small",progress:100,roundedBorder:!1,type:"buffering"})):null,e=null,f=null;if(this.props.useThumbnailsRedesign)if(this.props.duration==null)f=this.$3()?b("React").createElement(b("Image.react"),{className:"_m6t",src:i("441227")}):b("React").createElement(b("Image.react"),{className:"_2261",src:i("412727")});else{var g=b("DurationFormatter").formatShort(this.props.duration);e=b("React").createElement("span",{className:"_40p4"},g)}return b("React").createElement("div",{className:"_8528"+(d?" _8529":"")},b("React").createElement(b("FlexLayout.react"),{align:"end",className:"_2pi7"},b("React").createElement(b("FlexLayoutItem.react"),null,c),b("React").createElement(b("FlexLayoutItem.react"),{className:"_52jw",grow:1},e,f,a)),d)};return c}(b("React").PureComponent);c.propTypes={label:a.string,onRemoveButtonClicked:a.func.isRequired,thumbSrc:a.string.isRequired,posting:a.bool.isRequired};e.exports=c}),null);
__d("ReactComposerVideoXEditDialogActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({SET_ACTIVE_TAB:null,UPDATE_GENERATED_THUMBNAILS:null,UPDATE_SELECTED_THUMBNAIL:null,UPDATE_CUSTOM_THUMBNAIL:null,UPDATE_SCRUBBED_THUMBNAIL:null,USE_SELECTED_THUMBNAIL:null,REMOVE_DIALOG_STATE:null,REVERT_THUMBNAIL_STATE:null,SAVE_THUMBNAIL_STATE:null,SHOW_DISCARD_DIALOG:null,HIDE_DISCARD_DIALOG:null,SHOW_DIALOG:null,HIDE_DIALOG:null,MOVE_TEXT_BOX:null,RESIZE_TEXT_BOX:null,UPDATE_THUMBNAIL_TEXT:null,SET_VIDEO_DIMENSIONS:null,SET_CUSTOM_THUMBNAIL_DIMENSIONS:null,SET_TEXT_COLOR:null,SET_TEXT_FONT:null,SET_TEXT_ALIGNMENT:null,SET_TEXT_SIZE:null});e.exports=a}),null);
__d("ReactComposerVideoXEditDialogActions",["ReactComposerDispatcher","ReactComposerVideoXEditDialogActionTypes","VideoThumbnail"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={setActiveTab:function(a,c,d){a={type:b("ReactComposerVideoXEditDialogActionTypes").SET_ACTIVE_TAB,activeTab:a,composerID:c,uploadID:d};b("ReactComposerDispatcher").dispatch(a)},updateGeneratedThumbnails:function(a,c,d){a={type:b("ReactComposerVideoXEditDialogActionTypes").UPDATE_GENERATED_THUMBNAILS,generatedThumbnails:a,composerID:c,uploadID:d};b("ReactComposerDispatcher").dispatch(a)},updateSelectedThumbnail:function(a,c,d){a={type:b("ReactComposerVideoXEditDialogActionTypes").UPDATE_SELECTED_THUMBNAIL,selectedThumbnail:a,composerID:c,uploadID:d};b("ReactComposerDispatcher").dispatch(a)},updateCustomThumbnail:function(a,c,d){a={type:b("ReactComposerVideoXEditDialogActionTypes").UPDATE_CUSTOM_THUMBNAIL,customThumbnail:a,composerID:c,uploadID:d};b("ReactComposerDispatcher").dispatch(a)},updateScrubbedThumbnail:function(a,c,d){a={type:b("ReactComposerVideoXEditDialogActionTypes").UPDATE_SCRUBBED_THUMBNAIL,scrubbedThumbnail:a,composerID:c,uploadID:d};b("ReactComposerDispatcher").dispatch(a)},useSelectedThumbnail:function(a,c){a={type:b("ReactComposerVideoXEditDialogActionTypes").USE_SELECTED_THUMBNAIL,composerID:a,uploadID:c};b("ReactComposerDispatcher").dispatch(a)},removeDialogState:function(a,c){a={type:b("ReactComposerVideoXEditDialogActionTypes").REMOVE_DIALOG_STATE,composerID:a,uploadID:c};b("ReactComposerDispatcher").dispatch(a)},saveThumbnailState:function(a,c){a={type:b("ReactComposerVideoXEditDialogActionTypes").SAVE_THUMBNAIL_STATE,composerID:a,uploadID:c};b("ReactComposerDispatcher").dispatch(a)},revertThumbnailState:function(a,c){a={type:b("ReactComposerVideoXEditDialogActionTypes").REVERT_THUMBNAIL_STATE,composerID:a,uploadID:c};b("ReactComposerDispatcher").dispatch(a)},hideDiscardDialog:function(a,c){a={type:b("ReactComposerVideoXEditDialogActionTypes").HIDE_DISCARD_DIALOG,composerID:a,uploadID:c};b("ReactComposerDispatcher").dispatch(a)},showDiscardDialog:function(a,c){a={type:b("ReactComposerVideoXEditDialogActionTypes").SHOW_DISCARD_DIALOG,composerID:a,uploadID:c};b("ReactComposerDispatcher").dispatch(a)},hideDialog:function(a,c){a={type:b("ReactComposerVideoXEditDialogActionTypes").HIDE_DIALOG,composerID:a,uploadID:c};b("ReactComposerDispatcher").dispatch(a)},showDialog:function(a,c){a={type:b("ReactComposerVideoXEditDialogActionTypes").SHOW_DIALOG,composerID:a,uploadID:c};b("ReactComposerDispatcher").dispatch(a)},moveTextBox:function(a,c,d,e){a={type:b("ReactComposerVideoXEditDialogActionTypes").MOVE_TEXT_BOX,textTop:a,textLeft:c,composerID:d,uploadID:e};b("ReactComposerDispatcher").dispatch(a)},resizeTextBox:function(a,c,d,e){a={type:b("ReactComposerVideoXEditDialogActionTypes").RESIZE_TEXT_BOX,textWidth:a,textHeight:c,composerID:d,uploadID:e};b("ReactComposerDispatcher").dispatch(a)},updateThumbnailText:function(a,c,d){a={type:b("ReactComposerVideoXEditDialogActionTypes").UPDATE_THUMBNAIL_TEXT,thumbnailText:a,composerID:c,uploadID:d};b("ReactComposerDispatcher").dispatch(a)},setVideoDimensions:function(a,c,d,e){a={type:b("ReactComposerVideoXEditDialogActionTypes").SET_VIDEO_DIMENSIONS,videoWidth:a,videoHeight:c,composerID:d,uploadID:e};b("ReactComposerDispatcher").dispatch(a)},setCustomThumbnailDimensions:function(a,c,d,e){a={type:b("ReactComposerVideoXEditDialogActionTypes").SET_CUSTOM_THUMBNAIL_DIMENSIONS,customThumbnailWidth:a,customThumbnailHeight:c,composerID:d,uploadID:e};b("ReactComposerDispatcher").dispatch(a)},setTextColor:function(a,c,d){a={type:b("ReactComposerVideoXEditDialogActionTypes").SET_TEXT_COLOR,color:a,composerID:c,uploadID:d};b("ReactComposerDispatcher").dispatch(a)},setTextFont:function(a,c,d){a={type:b("ReactComposerVideoXEditDialogActionTypes").SET_TEXT_FONT,font:a,composerID:c,uploadID:d};b("ReactComposerDispatcher").dispatch(a)},setTextAlignment:function(a,c,d){a={type:b("ReactComposerVideoXEditDialogActionTypes").SET_TEXT_ALIGNMENT,alignment:a,composerID:c,uploadID:d};b("ReactComposerDispatcher").dispatch(a)},setTextSize:function(a,c,d){a={type:b("ReactComposerVideoXEditDialogActionTypes").SET_TEXT_SIZE,textSize:a,composerID:c,uploadID:d};b("ReactComposerDispatcher").dispatch(a)}};e.exports=a}),null);
__d("VideoThumbnailDimensions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GENERATED_THUMBNAIL_HEIGHT:284,GENERATED_THUMBNAIL_WIDTH:465})}),null);
__d("ReactComposerVideoXContainer.react",["cx","EventListener","PagesComposerContextUtils","PagesComposerUtils","PagesComposerVideoUploadLoggerEvents","React","ReactComposerContextTypes","ReactComposerMediaUploadActions","ReactComposerMediaUploadStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerStore","ReactComposerVideoX.react","ReactComposerVideoXEditDialogActions","ReactDOM","VideoComposerDispatchers","generateVideoThumbnails","gkx","ifRequired","promiseDone","VideoThumbnailDimensions","requireCond","cr:974995"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("PagesComposerContextUtils").isPageAdminPostingInPage,i=b("PagesComposerUtils").logVideoUploadFunnelEvents,j=b("VideoComposerDispatchers").DEFAULT_VIDEO_COMPOSER_ID;a=b("React").PropTypes;var k=100,l=100,m="/images/icons/timeline/placeholder/placeholder-movies.png";c=[b("ReactComposerStore")].concat(b("cr:974995")?[b("cr:974995")]:[]);d=b("React").createClass({displayName:"ReactComposerVideoXContainer",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComposerPropsAndStoreBasedStateMixin").apply(void 0,c)],_loadedmetadataListener:null,propTypes:{dragHandler:a.shape({add:a.func.isRequired,remove:a.func.isRequired}),label:a.string.isRequired,photoID:a.string,uploadID:a.string.isRequired,fileURL:a.string.isRequired,isSpherical:a.bool,allowTextOnThumbnail:a.bool,shouldResetVideoComposer:a.bool,metadata:a.object},statics:{calculateState:function(a,c){var d=b("cr:974995")?b("cr:974995").isProcessingCaptions(a,c.photoID):!1,e=b("ReactComposerMediaUploadStore").getMediaUpload(a.toString(),c.uploadID);c=b("ReactComposerMediaUploadStore").getUploadIndex(a.toString(),c.uploadID);e=e&&e.thumbSrc?e.thumbSrc:m;return{isProcessingCaptions:d,posting:b("ReactComposerStore").isPosting(a),thumbSrc:e,uploadIndex:c}}},componentDidMount:function(){var a=this,c=b("ReactDOM").findDOMNode(this.refs.videoPlayer);this.state.thumbSrc===m&&(this._loadedmetadataListener=b("EventListener").listen(c,"loadedmetadata",this.generateVideoThumbnails));window.setTimeout(function(){var c=a.props.dragHandler;c&&c.add(b("ReactDOM").findDOMNode(a.refs.container))},0)},generateVideoThumbnails:function(){var a=this,c=b("ReactDOM").findDOMNode(this.refs.videoPlayer);b("promiseDone")(b("generateVideoThumbnails")(c,l,k,1),function(c){b("ReactComposerMediaUploadActions").setVideoThumbnail(a.context.composerID,a.props.uploadID,c.thumbnails[0].getURL())});b("promiseDone")(b("generateVideoThumbnails")(c,b("VideoThumbnailDimensions").GENERATED_THUMBNAIL_WIDTH,b("VideoThumbnailDimensions").GENERATED_THUMBNAIL_HEIGHT,10,"contain"),function(c){b("ReactComposerVideoXEditDialogActions").updateGeneratedThumbnails(c.thumbnails,a.context.composerID,a.props.uploadID)});c instanceof HTMLVideoElement&&b("ReactComposerVideoXEditDialogActions").setVideoDimensions(c.videoWidth,c.videoHeight,this.context.composerID,this.props.uploadID)},componentWillUnmount:function(){var a=this;this._loadedmetadataListener&&(this._loadedmetadataListener.remove(),this._loadedmetadataListener=null);window.setTimeout(function(){var c=a.props.dragHandler;c&&c.remove(b("ReactDOM").findDOMNode(a.refs.container))},0)},render:function(){var a=b("gkx")("678777"),c=a&&this.props.metadata&&this.props.metadata.format&&this.props.metadata.format.duration!=null?Math.floor(this.props.metadata.format.duration):null;return b("React").createElement("div",null,b("React").createElement(b("ReactComposerVideoX.react"),{composerID:this.context.composerID,duration:c,isProcessingCaptions:this.state.isProcessingCaptions,isSpherical:!!this.props.isSpherical,label:this.props.label,onRemoveButtonClicked:this._onRemoveButtonClicked,posting:this.state.posting,ref:"container",thumbSrc:this.state.thumbSrc,uploadID:this.props.uploadID,uploadIndex:this.state.uploadIndex,useThumbnailsRedesign:a,usingPlaceholderThumbnail:this.state.thumbSrc===m,videoID:this.props.photoID,videoURL:this.props.fileURL}),this._getVideoElement())},_getVideoElement:function(){return b("React").createElement("video",{ref:"videoPlayer",className:"_2mpk",src:this.props.fileURL})},_onRemoveButtonClicked:function(){h(this.context.actorID,this.context.composerID,this.context.targetID)&&i(this.context.composerID,b("PagesComposerVideoUploadLoggerEvents").VIDEO_UPLOAD_XOUT),b("ReactComposerMediaUploadActions").removeMediaUpload(this.context.composerID,this.props.uploadID),b("ReactComposerVideoXEditDialogActions").removeDialogState(this.context.composerID,this.props.uploadID),this.props.shouldResetVideoComposer&&b("ifRequired")("VideoComposerActions",function(a){a.resetComposer(j)})}});e.exports=d}),null);
__d("ReactComposerVideoXUploadPlaceholder.react",["cx","CircularProgressBar.react","LoadingIndicator.react","React","ReactComposerPhotoUploadState","XUICloseButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=null,c=null,d=null,e=this.props.uploadState;e=e===b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_UPLOADING;var f=null;this.props.useProgressTransformX?f=.99*parseFloat(this.props.uploadProgress)+1:f=Math.max(1,parseInt(this.props.uploadProgress,10));var g=50*Math.log10(f),h=this.props.useProgressLinearity?this.props.useProgressLinearity:0;h>0&&(g-=(g-f)*h);this.props.useRealProgressPercentage&&(g=parseFloat(this.props.uploadProgress));if(e){f="_5t36"+(e?" _5t3f":"");a=b("React").createElement(b("CircularProgressBar.react"),{percentComplete:g,className:f})}else d=b("React").createElement(b("XUICloseButton.react"),{className:"_5t3o",onClick:this.props.onRemoveButtonClicked,size:"medium",shade:"dark"}),c=b("React").createElement(b("LoadingIndicator.react"),{className:"_1b00",color:"white",size:"medium"});return b("React").createElement("div",{className:"_417d"},d,a,c)};return c}(b("React").PureComponent);c.propTypes={onRemoveButtonClicked:a.func.isRequired,uploadID:a.string.isRequired,uploadState:a.oneOf(Object.keys(b("ReactComposerPhotoUploadState"))).isRequired,uploadProgress:a.number,canSeeCircularProgress:a.bool,useRealProgressPercentage:a.bool,useProgressLinearity:a.number,useProgressTransformX:a.number};e.exports=c}),null);
__d("ReactComposerVideoXUploadPlaceholderContainer.react",["React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerMediaUploadActions","ReactComposerMediaUploadStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerVideoXUploadPlaceholder.react"],(function(a,b,c,d,e,f){"use strict";a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerVideoXUploadPlaceholderContainer",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerMediaUploadStore"))],propTypes:{uploadID:a.string.isRequired},statics:{calculateState:function(a,c){a=b("ReactComposerMediaUploadStore").getMediaUpload(a,c.uploadID);return{uploadProgress:a.progress,uploadState:a.state,useRealProgressPercentage:a.useRealProgressPercentage,useProgressLinearity:a.useProgressLinearity,useProgressTransformX:a.useProgressTransformX}}},render:function(){return b("React").createElement(b("ReactComposerVideoXUploadPlaceholder.react"),babelHelpers["extends"]({},this.props,this.state,{onRemoveButtonClicked:this._onRemoveButtonClicked}))},_onRemoveButtonClicked:function(){b("ReactComposerMediaUploadActions").removeMediaUpload(this.context.composerID,this.props.uploadID)}});e.exports=c}),null);
__d("ReactComposerDraggableMedia.react",["cx","fbt","ComposerTestID","Draggable","React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerFailedPhotoUploadContainer.react","ReactComposerFailedVideoXUploadContainer.react","ReactComposerMediaUploadActions","ReactComposerMediaUploadType","ReactComposerPhotoActions","ReactComposerPhotoContainer.react","ReactComposerPhotoUploadPlaceholderContainer.react","ReactComposerPhotoUploadState","ReactComposerVideoXContainer.react","ReactComposerVideoXUploadPlaceholderContainer.react","ReactDOM","ReactLayeredComponentMixin_DEPRECATED","SimpleNUXMessage","SimpleNUXMessageTypes","Vector","XUIAmbientNUX.react","throttle"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;var i=200,j=5,k=b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE;c=b("React").createClass({displayName:"ReactComposerDraggableMedia",_draggable:void 0,_grabbed:void 0,_scrollParent:void 0,_timeoutID:void 0,contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactLayeredComponentMixin_DEPRECATED")],propTypes:{enableFaceboxTagger:a.bool,productTaggerType:a.string,disablePhotoEditing:a.bool,mediaConfig:a.object.isRequired,upload:a.object.isRequired,nuxConfig:a.object.isRequired,showSphericalSingletonNux:a.bool,draggingPhotos:a.bool,enableMediaDragging:a.bool,disableRemovePhotos:a.bool,index:a.number,updateComponentPosition:a.func.isRequired,onGrab:a.func.isRequired,onDrag:a.func.isRequired,onDrop:a.func.isRequired},getInitialState:function(){return{dragging:!1,showSphericalSingletonNux:!1}},UNSAFE_componentWillReceiveProps:function(a){this.props.index!==a.index&&a.index!==void 0&&(this._timeoutID=setTimeout(this._updateComponentPosition,0)),!this.props.showSphericalSingletonNux&&a.showSphericalSingletonNux&&!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").SPHERICAL_SINGLETON_NUX)&&this.setState({showSphericalSingletonNux:!0})},componentDidUpdate:function(a){this.props.enableMediaDragging&&a.upload.state!==k&&this.props.upload.state===k&&!this.props.disableRemovePhotos?this._createDraggable():a.upload.state===k&&this.props.upload.state!==k&&(this._draggable&&this._draggable.destroy())},componentDidMount:function(){this._scrollParent=this._findScrollParent(),this.props.enableMediaDragging&&this.props.upload.state===k&&!this.props.disableRemovePhotos&&this._createDraggable(),this._timeoutID=setTimeout(this._updateComponentPosition,0)},componentWillUnmount:function(){this._draggable&&this._draggable.destroy(),clearTimeout(this._timeoutID)},render:function(){var a=(this.state.dragging?"_2pkn":"")+" _2pko",c=this.props.upload;c=!c.isSpherical&&c.photoID?c.photoID:c.id;return b("React").createElement("div",{className:a,key:c,onClick:this._onClick,ref:"draggable_media",role:"presentation"},this._getInnerMediaComponent())},renderLayers:function(){return{sphericalSingletonNux:this._sphericalSingletonNux()}},_sphericalSingletonNux:function(){var a=this;return!this.props.showSphericalSingletonNux?null:b("React").createElement(b("XUIAmbientNUX.react"),{alignment:"left",contextRef:function(){return a.refs.draggable_media},shown:this.state.showSphericalSingletonNux,position:"below",onCloseButtonClick:this._onSphericalSingletonNuxClose,width:"auto"},h._("Post this photo individually to view in 360\u00b0"))},_onSphericalSingletonNuxClose:function(){this.setState({showSphericalSingletonNux:!1}),b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").SPHERICAL_SINGLETON_NUX)},_getInnerMediaComponent:function(){return this.props.upload.mediaType==b("ReactComposerMediaUploadType").VIDEO?this._getInnerVideoComponent():this._getInnerPhotoComponent()},_getInnerVideoComponent:function(){var a=this.props.upload;if(a.state===k){var c=this._getDragHandler();return b("React").createElement("div",{"data-testid":b("ComposerTestID").MEDIA_ATTACHMENT_VIDEO},b("React").createElement(b("ReactComposerVideoXContainer.react"),{isSpherical:a.isSphericalVideo,dragHandler:c,key:a.photoID,label:a.filename,photoID:a.photoID,uploadID:a.id,fileURL:a.fileURL,allowTextOnThumbnail:this.props.mediaConfig.allowTextOnVideoThumbnail,shouldResetVideoComposer:!!this.props.mediaConfig.useVideoUploadDialog,metadata:a.videoMetadata}))}return a.state===b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_FAILED?b("React").createElement(b("ReactComposerFailedVideoXUploadContainer.react"),{key:a.id,error:a.error,filename:a.filename,uploadID:a.id}):b("React").createElement(b("ReactComposerVideoXUploadPlaceholderContainer.react"),{key:a.id,uploadID:a.id})},_getInnerPhotoComponent:function(){var a=this.props.upload;if(a.state===b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_FAILED)return b("React").createElement(b("ReactComposerFailedPhotoUploadContainer.react"),{error:a.error,filename:a.filename,key:a.id,mediaConfig:this.props.mediaConfig,uploadID:a.id});if(a.state===k||a.isSpherical&&a.useLocalSphericalImage&&a.fileURL){var c=this._getDragHandler(),d=!a.isSpherical&&a.photoID?a.photoID:a.id;return b("React").createElement("div",{"data-testid":b("ComposerTestID").MEDIA_ATTACHMENT_PHOTO},b("React").createElement(b("ReactComposerPhotoContainer.react"),{canTagFromModal:this.props.mediaConfig.canTagFromModal,draggingPhotos:this.props.draggingPhotos,dragHandler:c,enableFaceboxTagger:this.props.enableFaceboxTagger,label:a.filename,productTaggerType:this.props.productTaggerType,disablePhotoEditing:this.props.disablePhotoEditing,disableRemovePhotos:this.props.disableRemovePhotos,key:d,nuxConfig:this.props.nuxConfig,originalID:a.originalPhotoID,photoID:a.photoID,showProductTaggerNux:this.props.nuxConfig.showProductPhotoTaggerNux&&this.props.index===0,index:this.props.index,sphericalPhotoID:a.sphericalPhotoID,uploadID:a.id,fileURL:a.fileURL,sphericalImage:a.sphericalImage,isSpherical:a.isSpherical,useLocalSphericalImage:a.useLocalSphericalImage}))}return b("React").createElement(b("ReactComposerPhotoUploadPlaceholderContainer.react"),{key:a.id,uploadID:a.id,fileURL:a.fileURL})},_getDragHandler:function(){var a=this;return{add:function(b){a._draggable&&a._draggable.addHandle(b)},remove:function(b){a._draggable&&a._draggable.removeHandle(b)}}},_createDraggable:function(){this._draggable=new(b("Draggable"))(b("ReactDOM").findDOMNode(this)).setNamespace("ReactComposer").setUseAbsolute(!0).setAvoidKillingEvents(!0).setGutter(j).setGrabHandler(this._onGrab).setDragHandler(b("throttle")(this._onDrag,i)).setDropHandler(this._onDrop),this._updateComponentPosition()},_updateComponentPosition:function(){var a=b("ReactDOM").findDOMNode(this),c=b("Vector").getElementPosition(a);c=this._compensateForScroll(a,c);this.props.updateComponentPosition(this.props.upload.id||this.props.upload.photoID,c,b("Vector").getElementDimensions(a))},_compensateForScroll:function(a,b){return this._scrollParent?b.add(this._scrollParent.scrollLeft,this._scrollParent.scrollTop):b},_findScrollParent:function(){__p&&__p();var a=b("ReactDOM").findDOMNode(this);if(a.closest)return a.closest(".fbScrollableAreaWrap");else{var c=document.querySelectorAll(".fbScrollableAreaWrap");while(a&&a.nodeType===1){var d=0;while(c[d]){if(c[d]===a)return a;d++}a=a.parentNode}return null}},_onGrab:function(){if(this.state.dragging)return;this._grabbed=!0;var a=b("ReactDOM").findDOMNode(this);this.props.onGrab(this.props.upload.id||this.props.upload.photoID,a)},_onDrag:function(a){if(!this._grabbed)return;this.setState({dragging:!0});var c=b("ReactDOM").findDOMNode(this);a=this._compensateForScroll(c,a);this.props.onDrag(a)},_onDrop:function(a){this._draggable&&this._draggable.resetPosition();this.setState({dragging:!1});this._grabbed=!1;var c=b("ReactComposerMediaUploadActions").mediaMoved,d=b("ReactDOM").findDOMNode(this);a=this._compensateForScroll(d,a);this.props.onDrop(a,c)},_onClick:function(){b("ReactComposerPhotoActions").setPhotoBeingTagged(this.context.composerID,this.props.upload.photoID)}});e.exports=c}),null);
__d("ReactComposerGenericPhotoUploadLink.react",["cx","Link.react","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("joinClasses")("__9u",this.props.className);return b("React").createElement(b("Link.react"),{className:a},this.props.children)};return c}(b("React").PureComponent);c.propTypes={className:a.string};c.defaultProps={className:"__9t"};e.exports=c}),null);
__d("ReactComposerMediaUploadsGrid.react",["cx","fbt","FileInput.react","React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerDraggableMedia.react","ReactComposerGenericPhotoUploadLink.react","ReactComposerLoggingActions","ReactComposerLoggingName","ReactComposerMediaScrollableArea.react","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerMediaUtils","ReactDOM","immutable","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;var i=112;c=b("React").createClass({displayName:"ReactComposerMediaUploadsGrid",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{enableFaceboxTagger:a.bool,productTaggerType:a.string,disablePhotoEditing:a.bool,disableRemovePhotos:a.bool,addMorePhotosConfig:a.shape({maxPhotos:a.number}).isRequired,mediaAcceptParam:a.string,mediaConfig:a.object.isRequired,nuxConfig:a.object.isRequired,onFilesSelected:a.func,canUploadMultiplePhotos:a.bool,uploads:a.instanceOf(b("immutable").List).isRequired,uploadCount:a.number,sphericalSingletonNuxUpload:a.object,onDrop:a.func,photoUploadLink:a.element,scrollableAreaHeight:a.number.isRequired,sourceIndex:a.number,targetIndex:a.number,targetSupportsMultiMedia:a.bool,updateComponentPosition:a.func.isRequired},getDefaultProps:function(){return{addMorePhotosConfig:{},canUploadMultiplePhotos:!1,photoUploadLink:b("React").createElement(b("ReactComposerGenericPhotoUploadLink.react"),null),scrollableAreaHeight:i,showSellUploadLink:!1}},render:function(){return b("React").createElement("div",{className:"_kkp"},b("React").createElement("div",{className:b("joinClasses")("_kkq",this.props.className)},b("React").createElement(b("ReactComposerMediaScrollableArea.react"),{fade:!0,getAddMoreDOM:this._getAddMoreDOM,height:this.props.scrollableAreaHeight,photosCount:this.props.uploads.size,scrollbar:"fade",verticalScroll:!0},this.props.children,this._getComponents(),this._getAddMorePhotosButton())))},_onAddMorePhotosClick:function(){b("ReactComposerLoggingActions").mediaUploadInputClicked(this.context.composerID,b("ReactComposerLoggingName").MEDIA_UPLOADS_PLUS_BUTTON)},_onFilesSelected:function(a){if(this.props.onFilesSelected){var c=this.props.onFilesSelected;c(a,this.refs.fileInput.getFileInput())}b("ReactComposerMediaUtils").clearInput(this.refs.fileInput.getFileInput(),!0)},_getAddMorePhotosButton:function(){if(this.props.targetSupportsMultiMedia===!1){var a=b("ReactComposerMediaUploadStore").getUploadsOfType(this.context.composerID,b("ReactComposerMediaUploadType").VIDEO);if(a&&a.size>0)return null}if(!this.props.canUploadMultiplePhotos&&this.props.uploads.size>0)return null;return this.props.addMorePhotosConfig.maxPhotos&&this.props.uploads.size>=this.props.addMorePhotosConfig.maxPhotos?null:b("React").createElement("span",{ref:"addMore",className:"_kkr"},b("React").createElement(b("FileInput.react"),{accept:this.props.mediaAcceptParam,multiple:this.props.canUploadMultiplePhotos,name:"composer_photo",onChange:this._onFilesSelected,onClick:this._onAddMorePhotosClick,ref:"fileInput",title:h._("Choose a file to upload"),"data-testid":"add-more-photos"},this.props.photoUploadLink))},_getComponents:function(){var a=this,c=this.props.uploads.toSeq().filter(function(b,c){return c!==a.props.sourceIndex}).map(function(b,c){return a._getDraggablePhoto(b,c)});if(this.props.targetIndex!=null){var d=b("React").createElement("div",{key:"placeholder",className:"_kks"});c=c.splice(this.props.targetIndex,0,d)}this.props.sourceIndex!=null&&(c=c.splice(this.props.sourceIndex,0,this._getDraggablePhoto(this.props.uploads.get(this.props.sourceIndex))));return c.toArray()},_getDraggablePhoto:function(a,c){return b("React").createElement(b("ReactComposerDraggableMedia.react"),{enableFaceboxTagger:this.props.enableFaceboxTagger,productTaggerType:this.props.productTaggerType,disablePhotoEditing:this.props.disablePhotoEditing,disableRemovePhotos:this.props.disableRemovePhotos,key:a.id,upload:a,nuxConfig:this.props.nuxConfig,showSphericalSingletonNux:a===this.props.sphericalSingletonNuxUpload,draggingPhotos:this.props.sourceIndex!=null,enableMediaDragging:!0,index:c,mediaConfig:this.props.mediaConfig,updateComponentPosition:this.props.updateComponentPosition,onGrab:this.props.onGrab,onDrag:this.props.onDrag,onDrop:this.props.onDrop})},_getAddMoreDOM:function(){return b("ReactDOM").findDOMNode(this.refs.addMore)}});e.exports=c}),null);
__d("ReactComposerMediaUploadsGridContainer.react",["Locale","React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerMediaUploadsGrid.react","ReactDOM","Rect","Vector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerMediaUploadsGridContainer",_componentsPosition:{},contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{photoUploadLink:a.element,enableFaceboxTagger:a.bool,productTaggerType:a.string,disablePhotoEditing:a.bool,showSellUploadLink:a.bool,disableRemovePhotos:a.bool},getInitialState:function(){return{rtl:b("Locale").isRTL(),sourceIndex:null,targetIndex:null,uploads:this.props.uploads,sphericalSingletonNuxUpload:null}},UNSAFE_componentWillReceiveProps:function(a){if(this.state.uploads!==a.uploads){var b=a.uploads.toSeq().filter(function(a){return a.canShowSphericalSingletonNux}).first();this.setState({uploads:a.uploads,sphericalSingletonNuxUpload:b})}},render:function(){return b("React").createElement(b("ReactComposerMediaUploadsGrid.react"),babelHelpers["extends"]({},this.props,{onGrab:this._onGrab,onDrag:this._onDrag,onDrop:this._onDrop,sourceIndex:this.state.sourceIndex,targetIndex:this.state.targetIndex,updateComponentPosition:this._updateComponentPosition,uploads:this.state.uploads,sphericalSingletonNuxUpload:this.state.sphericalSingletonNuxUpload}))},_onGrab:function(a,b){b=this.state.uploads.findIndex(function(b){return b.id===a});this.setState({sourceIndex:b,targetIndex:b})},_onDrag:function(a){var c=b("Vector").getElementPosition(b("ReactDOM").findDOMNode(this));a=a.sub(c);this.setState({targetIndex:this._getTargetID(a)})},_onDrop:function(a,b){__p&&__p();this._onDrag(a);a=this.state.sourceIndex;var c=this.state.targetIndex;if(a==null||c==null)return;if(a!==c){var d=this.state.uploads;d=d.splice(a,1).splice(c,0,d.get(a));this.setState({uploads:d});b(this.context.composerID,a,c)}this._endDrag()},_endDrag:function(){this.setState({sourceIndex:null,targetIndex:null})},_getTargetID:function(a){__p&&__p();var b=this.state.uploads,c=this.state.rtl?function(b,a){return b.right>=a.x}:function(b,a){return b.left<=a.x};for(var d=b.size-1;d>=0;d--){var e=b.get(d);e=e.id;e=this._componentsPosition[e];if(c(e,a))return d}return 0},_updateComponentPosition:function(a,c,d){var e=new(b("Rect"))(b("ReactDOM").findDOMNode(this));this._componentsPosition[a]={left:c.x-e.l,right:c.x-e.l+d.x}}});e.exports=c}),null);
__d("XReactComposerMLEAttachmentBootstrapController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/mle/bootstrap/",{composer_id:{type:"String",required:!0}})}),null);
__d("ReactComposerMLELazyAttachment.react",["Bootloader","React","ReactComposerAttachmentType","ReactComposerLoadableAttachmentBodyMixin","XReactComposerMLEAttachmentBootstrapController"],(function(a,b,c,d,e,f){a=b("React").createClass({displayName:"ReactComposerMLELazyAttachment",mixins:[b("ReactComposerLoadableAttachmentBodyMixin")],statics:{attachmentID:b("ReactComposerAttachmentType").MLE},bootload:function(a){b("Bootloader").loadModules(["ReactComposerMLEAttachmentContainer.react"],a,"ReactComposerMLELazyAttachment.react")},getBootstrapURI:function(){return b("XReactComposerMLEAttachmentBootstrapController").getURIBuilder().setString("composer_id",this.context.composerID).getURI()}});e.exports=a}),null);
__d("ReactComposerTimelineBootloader",["Bootloader"],(function(a,b,c,d,e,f){"use strict";a={statusAttachment:function(a){b("Bootloader").loadModules(["ReactComposerStatusAttachmentContainer.react","ReactComposerTimelinePostButtonContainer.react"],a,"ReactComposerTimelineBootloader")},mediaAttachment:function(a){b("Bootloader").loadModules(["ReactComposerMediaAttachmentContainer.react","ReactComposerTimelineMediaPostButtonContainer.react"],a,"ReactComposerTimelineBootloader")},qandaAttachment:function(a){b("Bootloader").loadModules(["ReactComposerQAndAAttachmentContainer.react","ReactComposerTimelineMediaPostButtonContainer.react"],a,"ReactComposerTimelineBootloader")}};e.exports=a}),null);
__d("LifeEventDialogSurface",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ABOUT_FEED_PUBLISH_UPSELL:"about_feed_publish_upsell",ABOUT_UPSELL:"about_upsell",BLOOD_DONOR_REGISTRATION:"blood_donor_registration",COMPOSER:"composer",CONTEXT_ITEM_WIZARD:"context_item_wizard",EDIT:"edit",FB4A_COMPOSER:"fb4a_composer",FBLITE_COMPOSER:"fblite_composer",FEED_COMPOSER:"feed_composer",FEED_CTA:"feed_cta",FRIENDSHIP_PAGE:"friendship_page",GRAPHQL_PROFILE_ADD_SCHOOL:"graphql_profile_add_school",HEADER:"header",INFOTAB_LIVING:"infotab_living",INFOTAB_YEAR_OVERVIEWS:"infotab_year_overviews",INTRO_CARD_CONTEXT_ITEM_EDIT:"intro_card_context_item_edit",IOS_COMPOSER:"ios_composer",JOBS_APPLICATION:"jobs_application",JOBS_PROFILE:"jobs_profile",MAP:"map",MAP_EDIT:"map_edit",MBASIC_COMPOSER:"mbasic_composer",MBASIC_PROFILE:"mbasic_profile",MTOUCH_COMPOSER:"mtouch_composer",MTOUCH_EDIT:"mtouch_edit",MTOUCH_INFOTAB_LIVING:"mtouch_infotab_living",MTOUCH_PROFILE:"mtouch_profile",MTOUCH_PROFILE_NUX:"mtouch_profile_nux",MTOUCH_PROFILE_REFRESHER:"mtouch_profile_refresher",MTOUCH_V1_INFOTAB_LIVING:"mtouch_v1_infotab_living",MTOUCH_YEAR_OVERVIEW:"mtouch_year_overview",PAGES_MORE_BUTTON:"pages_more_button",POST_UPGRADE:"post_upgrade",PROFILE:"profile",PROTILE:"protile",SNAPTU_COMPOSER:"snaptu_composer",TEST:"test",TIMELINE_SECTION_HEADER:"timeline_section_header",UNKNOWN:"unknown",WEBDRIVER_TEST:"webdriver_test",YEAR_IN_REVIEW:"year_in_review",YEAR_OVERVIEW:"year_overview",YEARLY_SUMMARY:"yearly_summary"})}),null);
__d("XLifeEventCreationDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/life_event/creation/dialog/",{surface:{type:"Enum",enumType:1}})}),null);
__d("ReactComposerSproutsMLESelector.react",["ix","cx","fbt","AsyncRequest","LifeEventDialogSurface","React","ReactComposerActions","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerLoggingName","ReactComposerSproutsSelector.react","XLifeEventCreationDialogController","XUISpinner.react","fbglyph","qex"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showSpinner:!1},d.$1=function(){d.setState({showSpinner:!0});var a=b("XLifeEventCreationDialogController").getURIBuilder().setEnum("surface",b("LifeEventDialogSurface").COMPOSER).getURI();new(b("AsyncRequest"))(a).setFinallyHandler(function(){d.setState({showSpinner:!1}),b("ReactComposerActions").reset(d.context.composerID)}).send()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=b("qex")._("779967");return b("React").createElement("span",{className:"_sg1"},b("React").createElement(b("ReactComposerSproutsSelector.react"),{attachmentID:b("ReactComposerAttachmentType").MLE,loggingName:b("ReactComposerLoggingName").MLE_TAB_SELECTOR,icon:g("122925"),label:i._("Life Event"),onSelected:a?this.$1:void 0}),this.state.showSpinner&&b("React").createElement(b("XUISpinner.react"),{size:"small"}))};return c}(b("React").Component);a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerSproutsMediaSelector.react",["ix","cx","React","ReactComposerAttachmentType","ReactComposerConfig","ReactComposerInstantMediaAttachmentSelectorContainer.react","ReactComposerLoggingName","fbglyph"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("span",{className:"_sg1",key:b("ReactComposerLoggingName").MEDIA_TAB_SELECTOR},b("React").createElement(b("ReactComposerInstantMediaAttachmentSelectorContainer.react"),{key:b("ReactComposerLoggingName").MEDIA_TAB_SELECTOR,icon:g("122530"),disableFaceRecognition:this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").MEDIA].disableFaceboxTagger,mediaAcceptParam:this.props.config.mediaAcceptParam,photoLimit:this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").MEDIA].photoLimit,targetData:this.props.config.targetData,mediaConfig:this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").MEDIA]}))};return c}(b("React").Component);e.exports=a}),null);
__d("XNotesComposerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notes/composer/",{page_id:{type:"Int"},composer_id:{type:"String"}})}),null);
__d("ReactTimelineSproutsComposer.react",["cx","fbt","Arbiter","BootloadedComponent.react","JSResource","React","ReactComposerAsset3dEagerAttachment.react","ReactComposerAttachmentType","ReactComposerBodyContainer.react","ReactComposerContextProviderMixin","ReactComposerDocAttachmentSelector.react","ReactComposerEvents","ReactComposerFeedMediaPostButtonContainer.react","ReactComposerFeedPostButtonContainer.react","ReactComposerHeaderContainer.react","ReactComposerListLazyAttachment.react","ReactComposerLiveVideoAttachmentSelector.react","ReactComposerLiveVideoLazyAttachment.react","ReactComposerLiveVideoPreviewButton.react","ReactComposerLivingRoomLazyAttachment.react","ReactComposerLoggingName","ReactComposerMLELazyAttachment.react","ReactComposerPrefillUtils","ReactComposerQAndALazyAttachment.react","ReactComposerSproutsAlbumSelector.react","ReactComposerSproutsMediaSelector.react","ReactComposerSproutsMLESelector.react","ReactComposerSproutsQAndASelector.react","ReactComposerSproutsStatusAndMediaSelector.react","ReactComposerTaggerType","ReactComposerTimelineBootloader","ReactComposerVisualPollLazyAttachment.react","ReactComposerWithSprouts.react","TimelineComposer","XNotesComposerController","coalesce","nullthrows"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){var a=this.props,c=a.contextConfig,d=a.config;a=a.prefillConfig;a&&b("ReactComposerPrefillUtils").prefill(c.composerID,a,c.gks);b("TimelineComposer").init(c.composerID);d.focusOnInit&&b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+c.composerID)};d.getChildContext=function(){return b("ReactComposerContextProviderMixin").staticGetChildContext(this.props)};d.render=function(){var a=this.$1();a=b("React").createElement(b("ReactComposerWithSprouts.react"),{defaultAttachmentOnExpand:b("ReactComposerAttachmentType").STATUS,innerProps:{className:"_5n2b",loggingConfig:this.props.config.loggingConfig,sproutsConfig:this.props.config.sproutsConfig,promotedSprout:this.props.config.sproutsPromotionConfig?this.props.config.sproutsPromotionConfig.sprout:null},expandOnInit:!1},b("React").createElement(b("ReactComposerHeaderContainer.react"),this.props,a),this.$2(),this.$3(),b("React").createElement(b("ReactComposerBodyContainer.react"),{expanded:this.props.config.showExpandedComposer},this.$4(),this.$5(),this.$6(),this.$7(),this.$8(),this.$9(),this.$10(),this.$11(),this.$12()));return a};d.$1=function(){__p&&__p();var a=this.props.config.attachmentsConfig,c=[];a[b("ReactComposerAttachmentType").STATUS].enabled&&c.push(b("React").createElement(b("ReactComposerSproutsStatusAndMediaSelector.react"),{key:b("ReactComposerLoggingName").STATUS_TAB_SELECTOR,label:a[b("ReactComposerAttachmentType").STATUS].defaultTabTitle,statusOnly:this.props.contextConfig.gks&&this.props.contextConfig.gks.photoTab}));this.props.contextConfig.gks&&this.props.contextConfig.gks.photoTab&&a[b("ReactComposerAttachmentType").MEDIA].enabled&&a[b("ReactComposerAttachmentType").MEDIA].showSelector&&c.push(b("React").createElement(b("ReactComposerSproutsMediaSelector.react"),{key:b("ReactComposerLoggingName").MEDIA_TAB_SELECTOR,config:this.props.config}));var d=this.props.contextConfig.gks&&this.props.contextConfig.gks.hideAlbumTab;a[b("ReactComposerAttachmentType").ALBUM].enabled&&!d&&c.push(this.$13());a[b("ReactComposerAttachmentType").LIVE_VIDEO].enabled&&c.push(this.$14());a[b("ReactComposerAttachmentType").MLE].enabled&&c.push(this.$15());a[b("ReactComposerAttachmentType").QANDA].enabled&&c.push(this.$16());a[b("ReactComposerAttachmentType").NOTES].enabled&&c.push(this.$17());return c};d.$13=function(){var a=this.props.contextConfig.gks&&this.props.contextConfig.gks.albumTabUsesSelector;return b("React").createElement(b("ReactComposerSproutsAlbumSelector.react"),{key:b("ReactComposerLoggingName").ALBUM,config:this.props.config,useCollectionSelector:a})};d.$15=function(){return b("React").createElement(b("ReactComposerSproutsMLESelector.react"),{key:b("ReactComposerLoggingName").MLE_TAB_SELECTOR})};d.$16=function(){return b("React").createElement(b("ReactComposerSproutsQAndASelector.react"),{key:b("ReactComposerLoggingName").QANDA_TAB_SELECTOR})};d.$14=function(){return b("React").createElement(b("ReactComposerLiveVideoAttachmentSelector.react"),{config:this.props.config,contextConfig:this.props.contextConfig,key:"live_video",sprouts:!0})};d.$17=function(){var a=h._("Create Note"),c=b("XNotesComposerController").getURIBuilder().getURI().toString(),d="/me?sk=notes";return b("React").createElement(b("ReactComposerDocAttachmentSelector.react"),{createDocCampfireURI:c,createDocFallbackURI:d,label:a,longLabel:a,key:b("ReactComposerAttachmentType").NOTES,sprouts:!0})};d.$4=function(){var a;if(!this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS].enabled)return null;a=b("nullthrows")((a=this.props.contextConfig)!=null?(a=a.jsModules)!=null?a.statusAttachment:a:a);return b("React").createElement(a,{key:"status",config:this.props.config,selected:this.props.config.initSelectedAttachment===b("ReactComposerAttachmentType").STATUS,postButtonModule:b("ReactComposerFeedPostButtonContainer.react"),bootloader:b("ReactComposerTimelineBootloader"),placeholder:this.props.config.targetData.viewerIsTarget?h._("What's on your mind?"):b("coalesce")(this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS].placeholderText,h._("Write something..."))})};d.$5=function(){var a;if(!this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").MEDIA].enabled)return null;a=b("nullthrows")((a=this.props.contextConfig)!=null?(a=a.jsModules)!=null?a.mediaAttachment:a:a);return b("React").createElement(a,{key:"media",config:this.props.config,postButtonModule:b("ReactComposerFeedMediaPostButtonContainer.react"),bootloader:b("ReactComposerTimelineBootloader"),selected:this.props.config.initSelectedAttachment===b("ReactComposerAttachmentType").MEDIA})};d.$6=function(){return!this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").ASSET_3D].enabled?null:b("React").createElement(b("ReactComposerAsset3dEagerAttachment.react"),{key:"asset3d",config:this.props.config})};d.$9=function(){return!this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").LIST].enabled?null:b("React").createElement(b("ReactComposerListLazyAttachment.react"),{key:"list",config:this.props.config})};d.$10=function(){return!this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").VISUAL_POLL].enabled?null:b("React").createElement(b("ReactComposerVisualPollLazyAttachment.react"),{key:"visual_poll",config:this.props.config})};d.$11=function(){return!this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").MLE].enabled?null:b("React").createElement(b("ReactComposerMLELazyAttachment.react"),{key:"mle",config:this.props.config})};d.$12=function(){return!this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").QANDA].enabled?null:b("React").createElement(b("ReactComposerQAndALazyAttachment.react"),{key:"qanda",config:this.props.config})};d.$7=function(){return!this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").LIVING_ROOM].enabled?null:b("React").createElement(b("ReactComposerLivingRoomLazyAttachment.react"),{key:"living_room_profile",config:this.props.config})};d.$8=function(){return!this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").LIVE_VIDEO].enabled?null:b("React").createElement(b("ReactComposerLiveVideoLazyAttachment.react"),{key:"live_video",config:this.props.config,postButtonModule:b("ReactComposerLiveVideoPreviewButton.react"),selected:!1})};d.$2=function(){var a=this.props.config.taggersConfig;return a&&a[b("ReactComposerTaggerType").FUN_FACT]&&a[b("ReactComposerTaggerType").FUN_FACT].enabled?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ReactComposerFunFactSinglePromptTaggerContainer.react").__setRef("ReactTimelineSproutsComposer.react"),bootloadPlaceholder:b("React").createElement("div",null)}):null};d.$3=function(){var a=this.props.config.taggersConfig;return a&&a[b("ReactComposerTaggerType").FUN_FACT]&&a[b("ReactComposerTaggerType").FUN_FACT].enabled?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ReactComposerFunFactAskPromptTaggerContainer.react").__setRef("ReactTimelineSproutsComposer.react"),bootloadPlaceholder:b("React").createElement("div",null)}):null};return c}(b("React").Component);a.childContextTypes=b("ReactComposerContextProviderMixin").childContextTypes;e.exports=a}),null);
__d("ScrollColumnRenderer",["DOMContainer.react","React","ReactRenderer","ScrollColumn.react"],(function(a,b,c,d,e,f){a={init:function(a,c,d){b("ReactRenderer").constructAndRenderComponentAcrossTransitions(b("ScrollColumn.react"),babelHelpers["extends"]({children:[b("React").createElement(b("DOMContainer.react"),{key:"content"},a)]},d),c)}};e.exports=a}),null);
__d("SearchSourceWithMetrics",["AbstractSearchSource"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.searchSource=b;d.reporter=c;return d}var c=b.prototype;c.searchImpl=function(a,b,c){var d=this;this.reporter.reportQueryBegin(a);c&&this.reporter.reportStrategyName(c.strategyName);var e=Date.now();this.searchSource.search(a,function(c,a){d.reporter.reportQueryComplete(Date.now()-e,0),b(c,a)},c)};c.bootstrapImpl=function(a){var b=this;this.reporter.reportBootstrapBegin();return this.searchSource.bootstrap(function(){b.searchSource.getBootstrappedEntries(function(c){b.reporter.reportBootstrapComplete(c.map(function(a){return a.getType()})),a()})})};return b}(b("AbstractSearchSource"));e.exports=a}),null);
__d("CapitalizedNameMentionsStrategy",["DocumentMentionsRegex"],(function(a,b,c,d,e,f){"use strict";a=1;var g=new RegExp("(^|[^#])((?:"+b("DocumentMentionsRegex").NAME+"{"+a+",})$)");c={name:"CapitalizedNameMentionsStrategy",findMentionableString:function(a){a=g.exec(a);return a!==null?{matchingString:a[2],leadOffset:a[2].length}:null}};e.exports=c}),null);
__d("QE",["Banzai","Cache"],(function(a,b,c,d,e,f){__p&&__p();var g="qe_log_exposure",h=60,i=new(b("Cache"))();a={logExposure:function(a,c){var d=c?a+"|"+c:a;if(i.has(d))return;var e={signal:!0};a={name:a,id:null};c&&(a.id=c);b("Banzai").post(g,a,e);i.set(d,!0,1,h)}};e.exports=a}),null);
__d("FilteredSearchSource",["AbstractSearchSource"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.$FilteredSearchSource1=b;d.$FilteredSearchSource2=c;return d}var c=b.prototype;c.bootstrapImpl=function(a){this.$FilteredSearchSource2.bootstrap(a)};c.searchImpl=function(a,b,c){var d=this,e=function(a,c){a=d.$FilteredSearchSource3(a,c),b(a,c)};this.$FilteredSearchSource2.search(a,e,c)};c.$FilteredSearchSource3=function(a,b){var c=this.$FilteredSearchSource1;return a.filter(function(a){return c(a,b)})};return b}(b("AbstractSearchSource"));e.exports=a}),null);
__d("filterCapitalizedNames",["TokenizeUtil","gkx"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c,d){__p&&__p();d===void 0&&(d="");var e=a.getAuxiliaryData()||g;if(e.disableAutosuggest)return!1;if(a.getType()==="user")if(b("gkx")("846032"))return c.length>=3&&a.getTitle().startsWith(d+c)||c==b("TokenizeUtil").tokenize(a.getTitle())[0];else return c.length>=5||b("TokenizeUtil").isExactMatch(c,a.getTitle());else if(a.getType()==="page")return e.connectedPage&&(c.length>=5||b("TokenizeUtil").isExactMatch(c,a.getTitle()));else return!1}var g={};e.exports=a}),null);
__d("XVideoEditController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/edit/",{v:{type:"Int",required:!0},album:{type:"Int"},source:{type:"Enum",enumType:1},notif_t:{type:"String"}})}),null);
__d("XVideoEditDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/edit/dialog/",{video_id:{type:"Int"},source:{type:"Enum",enumType:1},story_dom_id:{type:"String"},timeline_identifier:{type:"String"},post_id:{type:"String"},video_asset_id:{type:"Int"},entry_point:{type:"Enum",enumType:1},tab:{type:"Enum",enumType:1},__asyncDialog:{type:"Int"}})}),null);