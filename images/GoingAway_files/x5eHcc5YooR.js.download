if (self.CavalryLogger) { CavalryLogger.start_js(["1f4wD"]); }

__d("ShowVideoEndScreenWithActions.react",["ix","cx","fbt","Arbiter","AsyncRequest","CenteredContainer.react","Image.react","LineClamp.react","Link.react","List.react","React","SubscriptionsHandler","URI","VideoHomeClickTargets","VideoHomeEvents","VideoHomeTypedLogger","VideoPlayerStates","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j="FollowingUser",k="UnfollowingUser";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={following:d.props.following,playerState:""},d.$4=function(){var a=d.props.vpc.getVideoID(),c=d.props.pageID,e=new(b("URI"))(d.state.following?d.props.unfollowUri:d.props.followUri).setQueryData({profile_id:c,location:d.props.location});new(b("AsyncRequest"))(e).setMethod("POST").send();e=d.state.following?k:j;b("Arbiter").inform(e,{contextID:a,focusOnClick:!1,profile_id:c,suppress:!0});d.setState({following:!d.state.following})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(this.props.vpc.addListener("stateChange",function(){return a.setState({playerState:a.props.vpc.getState()})}),this.props.vpc.addListener("TahoeController/exitTahoe",function(){a.forceUpdate()}),b("Arbiter").subscribe(j,function(b,c){a.props.pageID==c.profile_id&&a.setState({following:!0})}),b("Arbiter").subscribe(k,function(b,c){a.props.pageID==c.profile_id&&a.setState({following:!1})}))};d.componentWillUnmount=function(){this.$1.release()};d.render=function(){var a=this.props.vpc;if(!a||!a.isInline())return null;if(this.state.playerState!==b("VideoPlayerStates").FINISHED)return null;a=this.$2();new(b("VideoHomeTypedLogger"))().setEvent(b("VideoHomeEvents").SHOW_VIDEO_END_SCREEN_IMPRESSION).log();return b("React").createElement(b("CenteredContainer.react"),{className:"_2a_1",fullHeight:!0,vertical:!0},a)};d.$3=function(){return b("React").createElement("li",{className:"_2a_2 _2la4"},b("React").createElement(b("Link.react"),{className:"_2pi9",onClick:this.$4},b("React").createElement("div",{className:"_2a_3"},b("React").createElement("div",{className:"_2a_5"}),b("React").createElement("div",{className:"_2a_c _2a_f"},b("React").createElement(b("Image.react"),{src:g("114930"),size:"24"}))),b("React").createElement("div",{className:"_2a_e _2la8"},b("React").createElement(b("CenteredContainer.react"),{horizontal:!1,fullHeight:!0,vertical:!0},i._("{=Follow this show} {=to get new episodes in your watchlist}",[i._param("=Follow this show",b("React").createElement("span",null,i._("Follow this show"))),i._param("=to get new episodes in your watchlist",b("React").createElement("span",{className:"_2laa"},i._("to get new episodes in your watchlist")))])))))};d.$5=function(){var a=this,c=this.props.moreEpisodesUri;return b("React").createElement("li",{className:"_2a_2 _2la4"},b("React").createElement(b("Link.react"),{className:"_2pi9",href:c,onClick:function(){a.$6(b("VideoHomeClickTargets").SHOW_VIDEO_END_SCREEN_MORE_EPISODES_BUTTON)}},b("React").createElement("div",{className:"_2a_3"},b("React").createElement("div",{className:"_2a_5"}),b("React").createElement("div",{className:"_2a_c _2la9"},b("React").createElement(b("Image.react"),{src:g("115397"),size:"24"}))),b("React").createElement("div",{className:"_2a_e _2la5"},b("React").createElement(b("CenteredContainer.react"),{horizontal:!1,fullHeight:!0,vertical:!0},b("React").createElement(b("LineClamp.react"),{lines:2},i._("{=More Episodes} {=from} {=[show_name]}",[i._param("=More Episodes",b("React").createElement("span",null,i._("More Episodes"))),i._param("=from",b("React").createElement("span",{className:"_2laa"},i._("from"))),i._param("=[show_name]",b("React").createElement("span",{className:"_2laa"},i._("{show_name}",[i._param("show_name",this.props.pageTitle)])))]))))))};d.$2=function(){var a=this.state.following?this.$5():this.$3();return b("React").createElement(b("List.react"),{border:"none",className:this.state.playerState!=="finished"?"hidden_elem":""},a)};d.$6=function(a){new(b("VideoHomeTypedLogger"))().setEvent(b("VideoHomeEvents").CLICK).setClickTarget(a).log()};return c}(b("React").Component);e.exports=a}),null);
__d("nullIfAllWhitespace",[],(function(a,b,c,d,e,f){"use strict";a=function(a){var b;return((b=a)!=null?b:"").trim().length>0?a:null};e.exports=a}),null);